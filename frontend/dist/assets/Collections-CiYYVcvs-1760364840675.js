import{j as e}from"./app-bridge-DR4YncGi-1760364840675.js";import{r as o}from"./react-vendor-tAaa2TlE-1760364840675.js";import{m as ct}from"./index-asDfJBef-1760364840675.js";import{U as dt,I as ut}from"./InsufficientTokensModal-CbInhk0x-1760364840675.js";import{M as m,d as O,T as u,e as Le,f as ht,B as v,a as h,I as L,g as we,D as gt,h as ee,C as Oe,i as pt,S as ft,P as St,j as mt,R as xt,k as jt,m as Ct,E as yt}from"./polaris-BxTRqFrb-1760364840675.js";const Et=(z,d="")=>{try{return new URLSearchParams(window.location.search).get(z)||d}catch{return d}};function zt({shop:z}){const d=z||Et("shop","");console.log("[COLLECTIONS] Component initialized with shop:",d,"shopProp:",z);const j=o.useMemo(()=>ct(),[]),[S,ve]=o.useState([]),[ke,ce]=o.useState(!1),[W,Ie]=o.useState(0),[p,K]=o.useState([]),[y,G]=o.useState(!1),[bt,Ae]=o.useState(""),[A,te]=o.useState(""),[b,J]=o.useState("all"),[de,se]=o.useState(!1),[Me,De]=o.useState(""),[Lt,Pe]=o.useState([]),[E,B]=o.useState([]),[C,ue]=o.useState([]),[oe,M]=o.useState(!1),[k,w]=o.useState({current:0,total:0,percent:0}),[he,$]=o.useState(""),[F,ge]=o.useState([]),[wt,Ot]=o.useState(!1),[vt,kt]=o.useState(null),[It,At]=o.useState(!1),[Mt,Te]=o.useState(""),[Re,Q]=o.useState(!1),[N,U]=o.useState([]),[pe,fe]=o.useState(!1),[Be,H]=o.useState(!1),[$e,Y]=o.useState(!1),[Se,V]=o.useState([]),[D,_]=o.useState({}),[Ne,X]=o.useState(!1),[Ue,ne]=o.useState(!1),[me,Dt]=o.useState({}),[ze,le]=o.useState(!1),[xe,ae]=o.useState(null),[We,je]=o.useState(!1),[Ce,f]=o.useState(""),[Pt,ye]=o.useState(!1),[Ke,re]=o.useState(!1),[Fe,Ee]=o.useState(!1),[P,be]=o.useState(null),[Z,ie]=o.useState("starter"),[q,He]=o.useState(1),[qe,Tt]=o.useState({processing:!1,current:0,total:0,currentItem:"",results:null});o.useEffect(()=>{if(!d)return;j("/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:`
      query PlansMe($shop:String!) {
        plansMe(shop:$shop) {
          plan
          planKey
          modelsSuggested
        }
      }
    `,variables:{shop:d}})}).then(s=>{var c,l,x;if((c=s==null?void 0:s.errors)!=null&&c.length)throw new Error(((l=s.errors[0])==null?void 0:l.message)||"GraphQL error");const n=(x=s==null?void 0:s.data)==null?void 0:x.plansMe,r=(n==null?void 0:n.modelsSuggested)||["google/gemini-1.5-flash"];Pe(r.map(I=>({label:I,value:I}))),De(r[0]),ie((n==null?void 0:n.planKey)||"starter");const a=((n==null?void 0:n.planKey)||"starter").toLowerCase();He({starter:1,professional:2,growth:3,"growth extra":6,growth_extra:6,enterprise:10}[a]||1)}).catch(s=>f(`Error loading models: ${s.message}`))},[d,j]),o.useEffect(()=>{d&&(console.log("[COLLECTIONS] Loading languages for shop:",d),j(`/api/languages/shop/${d}?shop=${d}`).then(t=>{console.log("[COLLECTIONS] Languages API data:",t);const s=(t==null?void 0:t.shopLanguages)||["en"];console.log("[COLLECTIONS] Extracted languages:",s),ue(s),B([])}).catch(t=>{console.error("[COLLECTIONS] Languages API error:",t),ue(["en"]),B([])}))},[d,j]);const T=o.useCallback(async()=>{var t;ce(!0);try{console.log("[COLLECTIONS] Shop value:",d),console.log("[COLLECTIONS] Shop prop:",z),console.log("[COLLECTIONS] URL search params:",window.location.search);const n=`/collections/list-graphql?${new URLSearchParams({shop:d,...A&&{search:A},...b!=="all"&&{optimized:b}})}`;console.log("[COLLECTIONS] Using GraphQL endpoint:",n);const r=await j(n);console.log("[COLLECTIONS] API Response data:",r),((t=r==null?void 0:r.collections)==null?void 0:t.length)>0&&(console.log("[COLLECTIONS] First collection optimizedLanguages:",r.collections[0].optimizedLanguages),console.log("[COLLECTIONS] First collection full data:",r.collections[0]));let a=r.collections||[];if(A){const i=A.toLowerCase();a=a.filter(c=>c.title.toLowerCase().includes(i)||c.handle.toLowerCase().includes(i))}b!=="all"&&(a=a.filter(i=>b==="true"?i.hasSeoData:!i.hasSeoData)),ve(a),Ie(a.length)}catch(s){f(`Error loading collections: ${s.message}`)}finally{ce(!1)}},[d,A,b,j]);o.useEffect(()=>{d&&(T(),H(!1))},[d,b,T]),o.useEffect(()=>{const t=setTimeout(()=>{d&&T()},500);return()=>clearTimeout(t)},[A]);const Ge=o.useCallback(t=>{K(t);const s=t.some(n=>{const r=S.find(a=>a.id===n);return r==null?void 0:r.hasSeoData});H(s),t.length===0&&G(!1)},[S]),Je=o.useCallback(t=>{if(G(t),t){K(S.map(n=>n.id));const s=S.some(n=>n.hasSeoData);H(s)}else K([]),H(!1)},[S]),Qe=async t=>{je(!0);try{const s=`/collections/${t.split("/").pop()}/seo-data?shop=${encodeURIComponent(d)}`,n=await j(s);ae(n),le(!0)}catch(s){f((s==null?void 0:s.status)===404?"No SEO data found for this collection":"Failed to load SEO data")}finally{je(!1)}},Ye=()=>{if(p.length===0&&!y){f("Please select collections first");return}ne(!0)},Ve=async()=>{try{M(!0),Ae("Checking eligibility...");const t=await j("/ai-enhance/check-eligibility",{method:"POST",shop:d,body:{shop:d}});if(!t.eligible){ie(t.currentPlan||"starter"),ye(!1),re(!0);return}ye(!1);const n=S.filter(c=>p.includes(c.id)).filter(c=>{var l;return((l=c.optimizedLanguages)==null?void 0:l.length)>0}),r=n.length;w({current:0,total:r,percent:0});const a={};for(let c=0;c<n.length;c++){const l=n[c];$(l.title);try{const g=l.optimizedLanguages||[];if(g.length===0){console.log(`No optimized languages for ${l.title}, skipping`),a[l.id]={success:!1,skipped:!0,error:"No optimized languages"};continue}console.log(`Enhancing ${l.title} for languages:`,g);const R=await j(`/ai-enhance/collection/${encodeURIComponent(l.id)}`,{method:"POST",shop:d,body:{shop:d,languages:g}});a[l.id]={success:R.ok,skipped:!1,data:R,error:R.ok?null:R.error||"Enhancement failed"}}catch(g){if(console.error("Error enhancing collection:",l.id,g),g.status===402||g.requiresPurchase||g.trialRestriction){M(!1),be(g),ie(g.currentPlan||"starter"),g.trialRestriction?re(!0):Ee(!0);return}a[l.id]={success:!1,skipped:!1,error:g.message}}const x=c+1,I=Math.round(x/r*100);w({current:x,total:r,percent:I})}_(a),X(!0);const i=Object.values(a).filter(c=>c.success).length;f(`Enhanced ${i} collections`),await T()}catch(t){console.error("AI Enhance error:",t),f("Failed to enhance collections")}finally{M(!1),$("")}},_e=async()=>{if(!E.length){f("Please select at least one language");return}ne(!1),M(!0),w({current:0,total:0,percent:0}),ge([]),_({});try{const t=y?S:S.filter(a=>p.includes(a.id)),s=t.length;w({current:0,total:s,percent:0});const n={};for(let a=0;a<t.length;a++){const i=t[a];$(i.title);try{const x=await j("/seo/generate-collection-multi",{method:"POST",shop:d,body:JSON.stringify({shop:d,collectionId:i.id,model:Me,languages:E})});n[i.id]={success:!0,data:x}}catch(x){n[i.id]={success:!1,error:x.message},ge(I=>[...I,{collection:i.title,error:x.message}])}const c=a+1,l=Math.round(c/s*100);w({current:c,total:s,percent:l})}_(n),X(!0);const r=Object.values(n).filter(a=>a.success).length;f(`Generated optimization for ${r} collections`)}catch(t){f(`Error: ${t.message}`)}finally{M(!1),$("")}},Xe=async()=>{var t,s;M(!0),w({current:0,total:0,percent:0});try{const n=Object.entries(D).filter(([a,i])=>i.success),r=n.length;w({current:0,total:r,percent:0});for(let a=0;a<n.length;a++){const[i,c]=n[a],l=S.find(g=>g.id===i);if(!l)continue;$(l.title);try{if(console.log("Applying SEO for collection:",i),console.log("Result data:",c.data),console.log("Results array:",(t=c.data)==null?void 0:t.results),!((s=c.data)!=null&&s.results)||!Array.isArray(c.data.results))throw new Error("Invalid results structure");const g=await j("/seo/apply-collection-multi",{method:"POST",shop:d,body:{shop:d,collectionId:i,results:c.data.results.map(R=>({language:R.language,seo:R.data})),options:{updateTitle:!0,updateDescription:!0,updateSeo:!0,updateMetafields:!0}}});if(!(g!=null&&g.ok))throw new Error((g==null?void 0:g.error)||"Apply failed")}catch(g){console.error("Apply error for collection:",i,g),F.push({id:l.id,title:l.title,message:g.message})}const x=a+1,I=Math.round(x/r*100);w({current:x,total:r,percent:I})}f("Optimization applied successfully!"),X(!1),_({}),K([]),await T(),G(!1)}catch(n){f(`Error applying optimization: ${n.message}`)}finally{M(!1),$("")}},Ze=async(t=[])=>{console.log("[DELETE-SEO-BULK] ===== BULK DELETE START ====="),console.log("[DELETE-SEO-BULK] Languages to delete:",t),console.log("[DELETE-SEO-BULK] Selected items:",p),console.log("[DELETE-SEO-BULK] Select all pages:",y),fe(!0),Te("");try{const s=y?S:S.filter(i=>p.includes(i.id)),n=s.length*t.length;let r=0;const a=[];for(const i of s)for(const c of t)try{console.log(`[DELETE-SEO-BULK] Deleting ${c} for ${i.title} (${i.id})`);const l=await j("/collections/delete-seo",{method:"DELETE",shop:d,body:{shop:d,collectionId:i.id,language:c}});console.log(`[DELETE-SEO-BULK] Success for ${i.title} - ${c}:`,l)}catch(l){console.error(`[DELETE-SEO-BULK] Failed to delete ${c} for ${i.title}:`,l),a.push({id:i.id,title:i.title,message:l.message})}finally{r++,w({current:r,total:n,percent:Math.round(r/n*100)})}f(`Deleted optimization for ${t.join(", ").toUpperCase()}`),setTimeout(async()=>{await T(),K([]),G(!1),H(!1)},100)}catch(s){console.error("[DELETE-SEO-BULK] Error:",s),f(`Delete error: ${s.message}`)}finally{console.log("[DELETE-SEO-BULK] ===== BULK DELETE END ====="),fe(!1),V([]),U([])}},et=t=>{var i,c;const s=((i=D[t.id])==null?void 0:i.success)||me[t.id],n=((c=D[t.id])==null?void 0:c.data)||me[t.id],r=t.optimizedLanguages||[];console.log(`[COLLECTIONS] Rendering collection "${t.title}":`,{optimizedLanguages:r,availableLanguages:C,hasSeoData:t.hasSeoData});const a=e.jsx(h,{width:"40px",height:"40px",background:"surface-neutral",borderRadius:"200"});return e.jsx(Ct,{id:t.id,media:a,accessibilityLabel:`View details for ${t.title}`,onClick:l=>{console.log("[Collections-ResourceItem] ===== CLICK ON RESOURCE ITEM ====="),console.log("[Collections-ResourceItem] e.target:",l.target),console.log("[Collections-ResourceItem] e.target.tagName:",l.target.tagName),console.log('[Collections-ResourceItem] e.target.closest("input"):',l.target.closest("input")),console.log('[Collections-ResourceItem] e.target.closest("a"):',l.target.closest("a")),console.log("[Collections-ResourceItem] Event bubbling up...")},children:e.jsxs(L,{gap:"400",align:"center",blockAlign:"center",wrap:!1,children:[e.jsxs(h,{style:{flex:"1 1 30%",minWidth:"200px"},children:[e.jsx(u,{variant:"bodyMd",fontWeight:"semibold",children:t.title}),e.jsxs(u,{variant:"bodySm",tone:"subdued",children:["Handle: ",t.handle]})]}),e.jsx(h,{style:{flex:"0 0 15%",minWidth:"100px",textAlign:"center"},children:e.jsxs(u,{variant:"bodyMd",children:[t.productsCount," products"]})}),e.jsx(h,{style:{flex:"0 0 25%",minWidth:"160px"},children:t.hasSeoData?e.jsx(L,{gap:"100",children:C.map(l=>e.jsx(ee,{tone:r.includes(l)?"success":"subdued",size:"small",children:l.toUpperCase()},l))}):e.jsx(ee,{tone:"subdued",children:"No AI Search Optimisation"})}),e.jsxs(h,{style:{flex:"0 0 15%",minWidth:"120px"},children:[s&&e.jsx(v,{size:"slim",onClick:()=>{ae(n),le(!0)},children:"Preview JSON"}),!s&&t.hasSeoData&&e.jsx(v,{size:"slim",loading:We,onClick:()=>Qe(t.id),children:"Preview JSON"})]})]})})},tt=oe&&!qe.processing&&e.jsx(m,{open:oe,title:"Processing Collections",onClose:()=>{},noScroll:!0,children:e.jsx(m.Section,{children:e.jsxs(O,{gap:"400",children:[e.jsx(u,{variant:"bodyMd",children:he?`Processing: ${he}`:"Preparing..."}),e.jsx(Le,{progress:k.percent}),e.jsxs(u,{variant:"bodySm",tone:"subdued",children:[k.current," of ",k.total," collections (",k.percent,"%)"]})]})})}),st=e.jsx(m,{open:Ue,title:"Select Languages",primaryAction:{content:"Generate Optimization for AI Search",onAction:_e,disabled:E.length===0||E.length>q},secondaryActions:[{content:"Cancel",onAction:()=>ne(!1)}],children:e.jsx(m.Section,{children:e.jsxs(O,{gap:"300",children:[e.jsxs(u,{variant:"bodyMd",children:["Select languages to generate AI Search Optimisation for ",y?"all":p.length," selected collections:"]}),E.length>q&&e.jsx(ht,{tone:"warning",title:"Language limit exceeded",children:e.jsxs(O,{gap:"200",children:[e.jsxs(u,{variant:"bodyMd",children:["Your ",Z," plan supports only ",q," language(s), but you selected ",E.length,"."]}),e.jsx(u,{variant:"bodyMd",children:"Please deselect some languages or upgrade your plan:"}),e.jsx(v,{variant:"primary",onClick:()=>{const t=new URLSearchParams(window.location.search),s=t.toString()?`?${t.toString()}`:"";window.location.href=`/billing${s}`},children:"Upgrade Plan"})]})}),e.jsx(h,{paddingBlockStart:"200",children:e.jsx(L,{gap:"200",wrap:!0,children:C.map(t=>e.jsx(we,{label:t.toUpperCase(),checked:E.includes(t),onChange:s=>{B(s?[...E,t]:E.filter(n=>n!==t))}},t))})}),e.jsx(h,{paddingBlockStart:"200",children:e.jsx(v,{plain:!0,onClick:()=>{E.length===C.length?B([]):C.length>q?(B([...C]),f(`You selected ${C.length} languages. Your ${Z} plan supports ${q}. Please deselect or upgrade.`)):B([...C])},children:E.length===C.length?"Deselect all":"Select all"})})]})})}),ot=e.jsx(m,{open:Ne&&!oe,title:"AI Search Optimisation Results",primaryAction:{content:"Apply Optimisation",onAction:Xe,disabled:!Object.values(D).some(t=>t.success)},secondaryActions:[{content:"Cancel",onAction:()=>X(!1)}],children:e.jsx(m.Section,{children:e.jsxs(O,{gap:"300",children:[e.jsxs(L,{gap:"400",children:[e.jsxs(h,{children:[e.jsx(u,{variant:"bodyMd",fontWeight:"semibold",children:"Successful:"}),e.jsx(u,{variant:"headingLg",fontWeight:"bold",tone:"success",children:Object.values(D).filter(t=>t.success&&!t.skipped).length})]}),e.jsxs(h,{children:[e.jsx(u,{variant:"bodyMd",fontWeight:"semibold",children:"Skipped:"}),e.jsx(u,{variant:"headingLg",fontWeight:"bold",tone:"info",children:Object.values(D).filter(t=>t.skipped).length})]}),e.jsxs(h,{children:[e.jsx(u,{variant:"bodyMd",fontWeight:"semibold",children:"Failed:"}),e.jsx(u,{variant:"headingLg",fontWeight:"bold",tone:"critical",children:Object.values(D).filter(t=>!t.success&&!t.skipped).length})]})]}),F.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(gt,{}),e.jsx(u,{variant:"bodyMd",fontWeight:"semibold",children:"Errors:"}),e.jsxs(h,{maxHeight:"200px",overflowY:"scroll",children:[F.slice(0,10).map((t,s)=>e.jsxs(u,{variant:"bodySm",tone:"critical",children:[t.collection,": ",t.error]},s)),F.length>10&&e.jsxs(u,{variant:"bodySm",tone:"subdued",children:["... and ",F.length-10," more errors"]})]})]})]})})}),nt=e.jsx(m,{open:ze,title:"SEO Data Preview",secondaryActions:[{content:"Close",onAction:()=>{le(!1),ae(null)}}],children:e.jsx(m.Section,{children:e.jsx(h,{children:e.jsx("pre",{style:{whiteSpace:"pre-wrap",wordBreak:"break-word",fontSize:"12px",backgroundColor:"#f6f6f7",padding:"12px",borderRadius:"4px",maxHeight:"400px",overflow:"auto"},children:xe?JSON.stringify(xe,null,2):""})})})}),lt=e.jsx(m,{open:Re,title:"Delete Optimization for AI Search",onClose:()=>{Q(!1),U([])},primaryAction:{content:"Continue",onAction:()=>{V(N),Q(!1),Y(!0)},disabled:N.length===0},secondaryActions:[{content:"Cancel",onAction:()=>{Q(!1),U([])}}],children:e.jsx(m.Section,{children:e.jsxs(O,{gap:"400",children:[e.jsxs(u,{variant:"bodyMd",children:["Select languages to delete AI Search Optimisation from ",y?W:p.length," selected collections:"]}),e.jsx(h,{paddingBlockStart:"200",children:e.jsx(L,{gap:"400",wrap:!1,children:C.map(t=>e.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer",userSelect:"none"},children:[e.jsx("input",{type:"checkbox",checked:N.includes(t),onChange:s=>{U(s.target.checked?[...N,t]:N.filter(n=>n!==t))},style:{marginRight:"8px",width:"18px",height:"18px",cursor:"pointer"}}),e.jsx(u,{variant:"bodyMd",children:t.toUpperCase()})]},t))})}),e.jsx(h,{children:e.jsx(v,{plain:!0,onClick:()=>{U(N.length===C.length?[]:[...C])},children:"Select all"})}),e.jsx(h,{paddingBlockStart:"300",children:e.jsx(u,{variant:"bodySm",children:"Warning: This will permanently delete AI Search Optimisation data for selected languages."})})]})})}),at=e.jsx(m,{open:$e,title:"Confirm Deletion",onClose:()=>{Y(!1),V([])},primaryAction:{content:"Delete",destructive:!0,onAction:async()=>{Y(!1),setTimeout(()=>{Ze(Se)},100)}},secondaryActions:[{content:"Cancel",onAction:()=>{Y(!1),V([]),U([])}}],children:e.jsx(m.Section,{children:e.jsxs(O,{gap:"400",children:[e.jsx(u,{variant:"bodyMd",children:"Are you sure you want to delete AI Search Optimisation for the following languages?"}),e.jsx(h,{paddingBlockStart:"200",children:e.jsx(L,{gap:"200",children:Se.map(t=>e.jsx(ee,{tone:"warning",children:t.toUpperCase()},t))})}),e.jsxs(u,{variant:"bodyMd",children:["This will delete optimisation from ",y?W:p.length," selected collections."]}),e.jsx(h,{paddingBlockStart:"200",children:e.jsx(u,{variant:"bodySm",tone:"critical",children:"This action cannot be undone."})})]})})}),rt=pe&&e.jsx(m,{open:pe,title:"Deleting SEO Data",onClose:()=>{},noScroll:!0,children:e.jsx(m.Section,{children:e.jsxs(O,{gap:"400",children:[e.jsx(u,{variant:"bodyMd",children:"Deleting selected languages..."}),e.jsx(Le,{progress:k.percent}),e.jsxs(u,{variant:"bodySm",tone:"subdued",children:[k.current," of ",k.total," operations (",k.percent,"%)"]})]})})}),it=e.jsx(yt,{heading:"No collections found",action:{content:"Clear filters",onAction:()=>{te(""),J("all"),T()}},image:"https://cdn.shopify.com/s/files/1/0262/4071/2726/files/emptystate-files.png",children:e.jsx("p",{children:"Try adjusting your filters or search terms"})});return e.jsxs(e.Fragment,{children:[e.jsx(Oe,{children:e.jsxs(h,{padding:"400",children:[e.jsxs(L,{gap:"400",align:"space-between",blockAlign:"start",wrap:!1,children:[e.jsx(h,{minWidth:"400px",maxWidth:"600px",children:e.jsx(O,{gap:"200",children:e.jsx(pt,{label:"",placeholder:"Search by collection name...",value:A,onChange:te,prefix:e.jsx(ft,{}),clearButton:!0,onClearButtonClick:()=>te("")})})}),e.jsxs(O,{gap:"200",children:[e.jsx(v,{primary:!0,onClick:Ye,disabled:p.length===0&&!y,children:"Generate Optimization for AI Search"}),p.length===0&&!y||!S.filter(n=>p.includes(n.id)).some(n=>{var r;return((r=n.optimizedLanguages)==null?void 0:r.length)>0})?null:e.jsx(v,{onClick:Ve,disabled:p.length===0&&!y,children:"AI Enhanced add-ons for AI Search"}),e.jsx(v,{outline:!0,destructive:!0,onClick:()=>Q(!0),disabled:p.length===0||!Be,children:"Delete Optimization for AI Search"})]})]}),W>0&&e.jsx(h,{paddingBlockStart:"300",children:e.jsx(we,{label:`Select all ${W} collections`,checked:y,onChange:Je})})]})}),e.jsx(h,{paddingBlockStart:"400",children:e.jsxs(Oe,{children:[e.jsxs(h,{padding:"400",borderBlockEndWidth:"025",borderColor:"border",children:[e.jsx(L,{gap:"200",wrap:!0,children:e.jsx(St,{active:de,activator:e.jsx(v,{disclosure:"down",onClick:()=>se(!de),removeUnderline:!0,children:e.jsxs(L,{gap:"100",blockAlign:"center",children:[e.jsx("span",{children:"AI Search Status"}),b!=="all"&&e.jsx(h,{onClick:t=>{t.stopPropagation(),J("all")},children:e.jsx(u,{as:"span",tone:"subdued",children:"âœ•"})})]})}),onClose:()=>se(!1),children:e.jsx(h,{padding:"300",minWidth:"200px",children:e.jsx(mt,{title:"AI Search Status",titleHidden:!0,choices:[{label:"All collections",value:"all"},{label:"Has AI Search Optimisation",value:"true"},{label:"No AI Search Optimisation",value:"false"}],selected:[b],onChange:t=>{J(t[0]),se(!1)}})})})}),b!=="all"&&e.jsx(h,{paddingBlockStart:"200",children:e.jsx(L,{gap:"100",wrap:!0,children:e.jsx(ee,{onRemove:()=>J("all"),children:b==="true"?"Has AI Search Optimisation":"No AI Search Optimisation"})})})]}),e.jsx(xt,{resourceName:{singular:"collection",plural:"collections"},items:S,renderItem:et,selectedItems:p,onSelectionChange:Ge,selectable:!0,loading:ke,totalItemsCount:W,emptyState:it,showHeader:!1},`collections-${S.length}-${p.length}`)]})}),tt,st,ot,nt,lt,at,rt,e.jsx(dt,{open:Ke,onClose:()=>re(!1),featureName:"AI Enhancement",currentPlan:Z}),P&&e.jsx(ut,{open:Fe,onClose:()=>{Ee(!1),be(null)},tokensRequired:P.tokensRequired||0,tokensAvailable:P.tokensAvailable||0,tokensNeeded:P.tokensNeeded||0,feature:"ai-seo-collection",shop:d,needsUpgrade:P.needsUpgrade||!1,minimumPlan:P.minimumPlanForFeature||null,currentPlan:P.currentPlan||Z}),Ce&&e.jsx(jt,{content:Ce,onDismiss:()=>f("")})]})}export{zt as default};
