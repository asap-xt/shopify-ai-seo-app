import{j as e}from"./app-bridge-13ykhCAn-1762931672599.js";import{r as f}from"./react-vendor-tAaa2TlE-1762931672599.js";import{M as b,a as t,d as y,T as n,B as j,I as c,f as m,D as A}from"./polaris-BijhB0yH-1762931672599.js";function E({open:l,onClose:i,featureName:p="AI Enhancement",currentPlan:h="starter",errorMessage:s=null,minimumPlanRequired:d=null,features:g=null}){const x=()=>{i();const r=new URLSearchParams(window.location.search),o=r.toString()?`?${r.toString()}`:"";window.location.href=`/billing${o}`},u=g||["Collections optimization (Professional+)","AI Enhancement features with pay-per-use tokens","Advanced AI features","Growth Extra includes 100M monthly tokens","Enterprise includes 300M monthly tokens"];return e.jsx(b,{open:l,onClose:i,title:"Upgrade Required",primaryAction:{content:"Upgrade Plan",onAction:x},secondaryActions:[{content:"Cancel",onAction:i}],children:e.jsx(b.Section,{children:e.jsxs(t,{gap:"400",children:[e.jsx(y,{tone:"warning",children:e.jsx(n,{variant:"bodyMd",fontWeight:"semibold",children:s||`${p} requires a higher plan`})}),e.jsx(n,{variant:"bodyMd",children:e.jsxs("strong",{children:["Current plan: ",h]})}),d&&e.jsx(n,{variant:"bodyMd",children:e.jsxs("strong",{children:["Required plan: ",d," or higher"]})}),e.jsxs(t,{gap:"200",children:[e.jsx(n,{variant:"bodyMd",children:e.jsx("strong",{children:"Upgrade to unlock:"})}),e.jsx(t,{gap:"100",children:u.map((r,o)=>e.jsxs(n,{variant:"bodyMd",children:["âœ“ ",r]},o))})]})]})})})}function P({open:l,onClose:i,feature:p,trialEndsAt:h,currentPlan:s,tokensRequired:d,onActivatePlan:g,onPurchaseTokens:x}){const[a,u]=f.useState(null),[r,o]=f.useState(!1),S=async()=>{o(!0);try{a==="plan"?await g():a==="tokens"&&await x()}catch(k){console.error("[Trial Modal] Action failed:",k)}finally{o(!1)}},v={"ai-seo-product-basic":"AI SEO Optimization (Products)","ai-seo-product-enhanced":"AI SEO Optimization (Products - Enhanced)","ai-seo-collection":"AI SEO Optimization (Collections)","ai-testing-simulation":"AI Testing & Simulation","ai-schema-advanced":"Advanced Schema Data","ai-sitemap-optimized":"AI-Optimized Sitemap"}[p]||"This feature";return e.jsx(b,{open:l,onClose:i,title:"ðŸ”“ Activate Feature",primaryAction:{content:r?"Processing...":a==="plan"?"Activate Plan":a==="tokens"?"Purchase Tokens":"Continue",disabled:!a,loading:r,onAction:S},secondaryActions:[{content:"Cancel",onAction:i,disabled:r}],children:e.jsx(b.Section,{children:e.jsxs(t,{gap:"400",children:[e.jsx(j,{background:"bg-surface-secondary",padding:"400",borderRadius:"200",children:e.jsxs(t,{gap:"200",children:[e.jsx(n,{variant:"headingMd",children:v}),e.jsx(n,{variant:"bodySm",tone:"subdued",children:"This AI-enhanced feature requires tokens or an active plan."}),d>0&&e.jsxs(c,{align:"space-between",children:[e.jsx(n,{variant:"bodySm",children:"Estimated cost:"}),e.jsxs(m,{tone:"info",children:[d.toLocaleString()," tokens"]})]})]})}),e.jsx(y,{tone:"info",children:e.jsxs(t,{gap:"200",children:[e.jsx(n,{variant:"bodyMd",fontWeight:"semibold",children:"You are currently in trial period"}),e.jsxs(n,{variant:"bodySm",children:["Trial ends: ",new Date(h).toLocaleDateString()]}),e.jsxs(n,{variant:"bodySm",children:["Current plan: ",e.jsx("strong",{children:s})]})]})}),e.jsx(A,{}),e.jsxs(t,{gap:"300",children:[e.jsx(n,{variant:"headingMd",children:"Choose how to proceed:"}),e.jsx(j,{padding:"400",borderWidth:"025",borderColor:a==="plan"?"border-brand":"border",borderRadius:"200",background:a==="plan"?"bg-surface-selected":"bg-surface",onClick:()=>u("plan"),style:{cursor:"pointer"},children:e.jsxs(t,{gap:"200",children:[e.jsxs(c,{align:"space-between",blockAlign:"center",children:[e.jsxs(c,{gap:"200",blockAlign:"center",children:[e.jsx(n,{variant:"bodyLg",children:a==="plan"?"âœ…":"â¬œ"}),e.jsx(n,{variant:"bodyMd",fontWeight:"semibold",children:"End Trial & Activate Plan"})]}),a==="plan"&&e.jsx(m,{tone:"success",children:"Selected"})]}),e.jsxs(n,{variant:"bodySm",tone:"subdued",children:["â€¢ Immediate billing for your ",s," plan"]}),e.jsx(n,{variant:"bodySm",tone:"subdued",children:"â€¢ Unlock all plan features now"}),e.jsx(n,{variant:"bodySm",tone:"subdued",children:"â€¢ You can purchase additional tokens anytime"}),s==="growth extra"||s==="enterprise"?e.jsx(n,{variant:"bodySm",tone:"success",fontWeight:"semibold",children:"â€¢ Includes monthly tokens in plan price"}):null]})}),e.jsx(j,{padding:"400",borderWidth:"025",borderColor:a==="tokens"?"border-brand":"border",borderRadius:"200",background:a==="tokens"?"bg-surface-selected":"bg-surface",onClick:()=>u("tokens"),style:{cursor:"pointer"},children:e.jsxs(t,{gap:"200",children:[e.jsxs(c,{align:"space-between",blockAlign:"center",children:[e.jsxs(c,{gap:"200",blockAlign:"center",children:[e.jsx(n,{variant:"bodyLg",children:a==="tokens"?"âœ…":"â¬œ"}),e.jsx(n,{variant:"bodyMd",fontWeight:"semibold",children:"Purchase Tokens Only"})]}),a==="tokens"&&e.jsx(m,{tone:"success",children:"Selected"})]}),e.jsxs(n,{variant:"bodySm",tone:"subdued",children:["â€¢ Your trial continues until ",new Date(h).toLocaleDateString()]}),e.jsx(n,{variant:"bodySm",tone:"subdued",children:"â€¢ One-time purchase (starting from $5)"}),e.jsx(n,{variant:"bodySm",tone:"subdued",children:"â€¢ Tokens never expire"}),e.jsx(n,{variant:"bodySm",tone:"subdued",children:"â€¢ Plan activates automatically after trial"})]})})]}),a==="plan"&&e.jsx(y,{tone:"warning",children:e.jsx(n,{variant:"bodySm",children:"Your trial will end immediately and you will be charged for the first billing period."})})]})})})}function C({globalPlan:l}){return null}export{C as S,P as T,E as U};
