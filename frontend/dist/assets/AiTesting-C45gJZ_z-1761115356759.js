import{j as e}from"./app-bridge-BoFjznba-1761115356759.js";import{r as l}from"./react-vendor-tAaa2TlE-1761115356759.js";import{m as ge}from"./sessionFetch-CJepNHo3-1761115356759.js";import{e as c,d as m,T as s,L as D,C as q,a as x,I as i,B as d,f as _,g as a,D as j,j as xe,l as je,M as y}from"./polaris-DlrYEGTt-1761115356759.js";const pe=(W,h="")=>{try{return new URLSearchParams(window.location.search).get(W)||h}catch{return h}};function fe({shop:W}){var Q,X,Z;const h=W||pe("shop",""),[B,p]=l.useState(""),w=l.useMemo(()=>ge(),[]),[P,ee]=l.useState(null),[z,I]=l.useState(""),[se,O]=l.useState(!1),[b,ne]=l.useState(null),[E,te]=l.useState(""),[ae,M]=l.useState(!1),[ie,C]=l.useState(!1),[u,f]=l.useState(null),[re,$]=l.useState(!1),[S,me]=l.useState(null),[n,N]=l.useState({}),[F,L]=l.useState(!1),[oe,U]=l.useState(0),[t,K]=l.useState({}),[R,H]=l.useState(!1),[ce,Y]=l.useState(0),[A,le]=l.useState(null);l.useEffect(()=>{h&&(de(),V())},[h,w]);const de=async()=>{var o,g;try{const T=await w("/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:`
        query PlansMe($shop:String!) {
          plansMe(shop:$shop) {
            shop
            plan
            planKey
          }
        }
      `,variables:{shop:h}})});console.log("[AI-TESTING] Plan data:",T),ee((g=(o=T==null?void 0:T.data)==null?void 0:o.plansMe)==null?void 0:g.plan)}catch(r){console.error("[AI-TESTING] Error loading plan:",r)}},V=async()=>{try{const o=await w(`/api/billing/info?shop=${h}`);console.log("[AI-TESTING] Token balance:",o),le((o==null?void 0:o.tokenBalance)||0)}catch(o){console.error("[AI-TESTING] Error loading token balance:",o)}},k=o=>{if(!P)return!1;const r=["Starter","Professional","Growth","Growth Extra","Enterprise"].indexOf(P);switch(o){case"productsJson":return r>=0;case"storeMetadata":return r>=1;case"welcomePage":case"collectionsJson":return r>=2;case"aiSitemap":return r>=3;case"schemaData":return r>=4;case"meta":return r>=0;case"claude":return r>=0;case"gemini":return r>=1;case"chatgpt":return r>=2;case"perplexity":return r>=3;case"deepseek":return r>=4;default:return!1}},v=o=>{switch(o){case"storeMetadata":return"Professional";case"welcomePage":case"collectionsJson":return"Growth";case"aiSitemap":return"Growth Extra";case"schemaData":return"Enterprise";case"gemini":return"Professional";case"chatgpt":return"Growth";case"perplexity":return"Growth Extra";case"deepseek":return"Enterprise";default:return"Professional"}},G=(o,g)=>{ne({name:o,url:g}),O(!0)},he=async()=>{L(!0),U(0),N({});try{console.log("[AI-TESTING] Starting tests for shop:",h);const o=await w("/api/ai-testing/run-tests",{method:"POST",body:{shop:h}});console.log("[AI-TESTING] Test results:",o),o.results?(N(o.results),U(100),p("Basic tests completed!")):p("Testing failed. Please try again.")}catch(o){console.error("[AI-TESTING] Error running tests:",o),p("Failed to run tests. Please try again.")}finally{L(!1)}},ue=async()=>{if(["Starter","Professional","Growth","Growth Extra","Enterprise"].indexOf(P)<1){f({message:"AI-powered validation requires Professional plan or higher",requiredPlan:"Professional"}),M(!0);return}if(!A||A<50){f({message:"You need at least 50 tokens to run AI validation",tokenCost:50,currentBalance:A||0}),C(!0);return}H(!0),Y(0),K({});try{console.log("[AI-TESTING] Starting AI validation for shop:",h);const r=await w("/api/ai-testing/ai-validate",{method:"POST",body:{shop:h,endpointResults:n}});console.log("[AI-TESTING] AI validation results:",r),r.results?(K(r.results),Y(100),p(`AI validation completed! (${r.tokensUsed||0} tokens used)`),V()):p("AI validation failed. Please try again.")}catch(r){if(console.error("[AI-TESTING] Error running AI validation:",r),r.status===402){if(r.requiresUpgrade){f(r),M(!0);return}if(r.requiresPurchase){f(r),C(!0);return}}p("Failed to run AI validation. Please try again.")}finally{H(!1)}},J=async(o,g=null)=>{try{I("Generating AI response...");let r=`/api/ai-discovery/simulate?shop=${h}&type=${o}`;g&&(r+=`&question=${encodeURIComponent(g)}`);const T=await w(r,{method:"GET"});I(T.response||"No response generated")}catch(r){if(console.error("[AI-TESTING] Simulation error:",r),console.log("[AI-TESTING] Error status:",r.status),console.log("[AI-TESTING] Error requiresUpgrade:",r.requiresUpgrade),console.log("[AI-TESTING] Error requiresPurchase:",r.requiresPurchase),r.status===402){if(r.requiresUpgrade){f(r),M(!0),I("");return}if(r.requiresPurchase){f(r),C(!0),I("");return}}I("Error generating response. Please try again."),p("Failed to simulate AI response")}};return e.jsxs(e.Fragment,{children:[e.jsxs(c,{gap:"400",children:[e.jsx(m,{tone:"info",children:e.jsx(s,{children:"Test how AI models discover and understand your store content. Check if your structured data and AI Discovery features are working correctly."})}),e.jsxs(D,{children:[e.jsx(D.Section,{variant:"oneHalf",children:e.jsx(q,{children:e.jsx(x,{padding:"300",children:e.jsxs(c,{gap:"400",children:[e.jsxs(i,{align:"space-between",blockAlign:"center",children:[e.jsxs(c,{gap:"100",children:[e.jsx(s,{as:"h3",variant:"headingMd",children:"ðŸ”§ Basic Endpoint Tests"}),e.jsx(s,{variant:"bodySm",tone:"subdued",children:"Quick check if endpoints are accessible and returning data"})]}),e.jsx(d,{onClick:he,loading:F,disabled:F,children:F?"Testing...":"Run Basic Tests"})]}),F&&e.jsx(x,{children:e.jsxs(c,{gap:"200",children:[e.jsx(s,{variant:"bodySm",children:"Testing endpoints..."}),e.jsx(_,{progress:oe,size:"small"})]})}),Object.keys(n).length>0&&e.jsxs(c,{gap:"300",children:[n.productsJson&&e.jsxs(e.Fragment,{children:[e.jsx(i,{align:"space-between",blockAlign:"center",children:e.jsxs(c,{gap:"100",children:[e.jsxs(i,{gap:"200",blockAlign:"center",children:[e.jsx(s,{variant:"bodyMd",fontWeight:"semibold",children:"Products JSON Feed"}),n.productsJson.status==="success"&&e.jsx(a,{tone:"success",children:"âœ“ OK"}),n.productsJson.status==="warning"&&e.jsx(a,{tone:"warning",children:"âš ï¸ Warning"}),n.productsJson.status==="error"&&e.jsx(a,{tone:"critical",children:"âœ— Failed"}),n.productsJson.status==="locked"&&e.jsx(a,{children:"ðŸ”’ Locked"})]}),e.jsxs(s,{variant:"bodySm",tone:"subdued",children:[n.productsJson.message,n.productsJson.dataSize&&` (${(n.productsJson.dataSize/1024).toFixed(1)} KB)`]})]})}),e.jsx(j,{})]}),n.storeMetadata&&e.jsxs(e.Fragment,{children:[e.jsx(i,{align:"space-between",blockAlign:"center",children:e.jsxs(c,{gap:"100",children:[e.jsxs(i,{gap:"200",blockAlign:"center",children:[e.jsx(s,{variant:"bodyMd",fontWeight:"semibold",children:"Store Metadata"}),n.storeMetadata.status==="success"&&e.jsx(a,{tone:"success",children:"âœ“ OK"}),n.storeMetadata.status==="warning"&&e.jsx(a,{tone:"warning",children:"âš ï¸ Warning"}),n.storeMetadata.status==="error"&&e.jsx(a,{tone:"critical",children:"âœ— Failed"}),n.storeMetadata.status==="locked"&&e.jsx(a,{children:"ðŸ”’ Locked"})]}),e.jsxs(s,{variant:"bodySm",tone:"subdued",children:[n.storeMetadata.message,n.storeMetadata.dataSize&&` (${(n.storeMetadata.dataSize/1024).toFixed(1)} KB)`]})]})}),e.jsx(j,{})]}),n.welcomePage&&e.jsxs(e.Fragment,{children:[e.jsx(i,{align:"space-between",blockAlign:"center",children:e.jsxs(c,{gap:"100",children:[e.jsxs(i,{gap:"200",blockAlign:"center",children:[e.jsx(s,{variant:"bodyMd",fontWeight:"semibold",children:"AI Welcome Page"}),n.welcomePage.status==="success"&&e.jsx(a,{tone:"success",children:"âœ“ OK"}),n.welcomePage.status==="warning"&&e.jsx(a,{tone:"warning",children:"âš ï¸ Warning"}),n.welcomePage.status==="error"&&e.jsx(a,{tone:"critical",children:"âœ— Failed"}),n.welcomePage.status==="locked"&&e.jsx(a,{children:"ðŸ”’ Locked"})]}),e.jsxs(s,{variant:"bodySm",tone:"subdued",children:[n.welcomePage.message,n.welcomePage.dataSize&&` (${(n.welcomePage.dataSize/1024).toFixed(1)} KB)`]})]})}),e.jsx(j,{})]}),n.collectionsJson&&e.jsxs(e.Fragment,{children:[e.jsx(i,{align:"space-between",blockAlign:"center",children:e.jsxs(c,{gap:"100",children:[e.jsxs(i,{gap:"200",blockAlign:"center",children:[e.jsx(s,{variant:"bodyMd",fontWeight:"semibold",children:"Collections JSON Feed"}),n.collectionsJson.status==="success"&&e.jsx(a,{tone:"success",children:"âœ“ OK"}),n.collectionsJson.status==="warning"&&e.jsx(a,{tone:"warning",children:"âš ï¸ Warning"}),n.collectionsJson.status==="error"&&e.jsx(a,{tone:"critical",children:"âœ— Failed"}),n.collectionsJson.status==="locked"&&e.jsx(a,{children:"ðŸ”’ Locked"})]}),e.jsxs(s,{variant:"bodySm",tone:"subdued",children:[n.collectionsJson.message,n.collectionsJson.dataSize&&` (${(n.collectionsJson.dataSize/1024).toFixed(1)} KB)`]})]})}),e.jsx(j,{})]}),n.aiSitemap&&e.jsxs(e.Fragment,{children:[e.jsx(i,{align:"space-between",blockAlign:"center",children:e.jsxs(c,{gap:"100",children:[e.jsxs(i,{gap:"200",blockAlign:"center",children:[e.jsx(s,{variant:"bodyMd",fontWeight:"semibold",children:"AI-Enhanced Sitemap"}),n.aiSitemap.status==="success"&&e.jsx(a,{tone:"success",children:"âœ“ OK"}),n.aiSitemap.status==="warning"&&e.jsx(a,{tone:"warning",children:"âš ï¸ Warning"}),n.aiSitemap.status==="error"&&e.jsx(a,{tone:"critical",children:"âœ— Failed"}),n.aiSitemap.status==="locked"&&e.jsx(a,{children:"ðŸ”’ Locked"})]}),e.jsxs(s,{variant:"bodySm",tone:"subdued",children:[n.aiSitemap.message,n.aiSitemap.dataSize&&` (${(n.aiSitemap.dataSize/1024).toFixed(1)} KB)`]})]})}),e.jsx(j,{})]}),n.schemaData&&e.jsx(i,{align:"space-between",blockAlign:"center",children:e.jsxs(c,{gap:"100",children:[e.jsxs(i,{gap:"200",blockAlign:"center",children:[e.jsx(s,{variant:"bodyMd",fontWeight:"semibold",children:"Advanced Schema Data"}),n.schemaData.status==="success"&&e.jsx(a,{tone:"success",children:"âœ“ OK"}),n.schemaData.status==="warning"&&e.jsx(a,{tone:"warning",children:"âš ï¸ Warning"}),n.schemaData.status==="error"&&e.jsx(a,{tone:"critical",children:"âœ— Failed"}),n.schemaData.status==="locked"&&e.jsx(a,{children:"ðŸ”’ Locked"})]}),e.jsxs(s,{variant:"bodySm",tone:"subdued",children:[n.schemaData.message,n.schemaData.dataSize&&` (${(n.schemaData.dataSize/1024).toFixed(1)} KB)`]})]})})]}),Object.keys(n).length===0&&!F&&e.jsx(m,{tone:"info",children:e.jsx(s,{children:'Click "Run Basic Tests" to check if your AI Discovery endpoints are configured correctly.'})})]})})})}),e.jsx(D.Section,{variant:"oneHalf",children:e.jsx(q,{children:e.jsx(x,{padding:"300",children:e.jsxs(c,{gap:"400",children:[e.jsxs(i,{align:"space-between",blockAlign:"center",children:[e.jsxs(c,{gap:"100",children:[e.jsxs(i,{gap:"200",blockAlign:"center",children:[e.jsx(s,{as:"h3",variant:"headingMd",children:"ðŸ¤– AI-Powered Validation"}),A!==null&&e.jsxs(a,{tone:A>50?"success":"warning",children:[A," tokens"]})]}),e.jsx(s,{variant:"bodySm",tone:"subdued",children:"Deep analysis with AI bot"}),P&&e.jsx(s,{variant:"bodySm",tone:"subdued",children:"Requires: Professional+ plan & pay-per-use tokens"})]}),e.jsx(d,{onClick:ue,loading:R,disabled:R||Object.keys(n).length===0,variant:"primary",children:R?"Validating...":"Test with AI Bot"})]}),R&&e.jsx(x,{children:e.jsxs(c,{gap:"200",children:[e.jsx(s,{variant:"bodySm",children:"AI is analyzing your endpoints..."}),e.jsx(_,{progress:ce,size:"small",tone:"primary"})]})}),Object.keys(t).length>0&&e.jsxs(c,{gap:"300",children:[t.productsJson&&e.jsxs(e.Fragment,{children:[e.jsx(i,{align:"space-between",blockAlign:"center",children:e.jsxs(c,{gap:"100",children:[e.jsxs(i,{gap:"200",blockAlign:"center",children:[e.jsx(s,{variant:"bodyMd",fontWeight:"semibold",children:"Products JSON Feed"}),t.productsJson.rating==="excellent"&&e.jsx(a,{tone:"success",children:"ðŸ¤– Excellent"}),t.productsJson.rating==="good"&&e.jsx(a,{tone:"success",children:"ðŸ¤– Good"}),t.productsJson.rating==="fair"&&e.jsx(a,{tone:"warning",children:"ðŸ¤– Fair"}),t.productsJson.rating==="poor"&&e.jsx(a,{tone:"critical",children:"ðŸ¤– Poor"})]}),e.jsx(s,{variant:"bodySm",children:t.productsJson.feedback}),t.productsJson.suggestions&&e.jsxs(s,{variant:"bodySm",tone:"subdued",children:["ðŸ’¡ ",t.productsJson.suggestions]})]})}),e.jsx(j,{})]}),t.storeMetadata&&e.jsxs(e.Fragment,{children:[e.jsx(i,{align:"space-between",blockAlign:"center",children:e.jsxs(c,{gap:"100",children:[e.jsxs(i,{gap:"200",blockAlign:"center",children:[e.jsx(s,{variant:"bodyMd",fontWeight:"semibold",children:"Store Metadata"}),t.storeMetadata.rating==="excellent"&&e.jsx(a,{tone:"success",children:"ðŸ¤– Excellent"}),t.storeMetadata.rating==="good"&&e.jsx(a,{tone:"success",children:"ðŸ¤– Good"}),t.storeMetadata.rating==="fair"&&e.jsx(a,{tone:"warning",children:"ðŸ¤– Fair"}),t.storeMetadata.rating==="poor"&&e.jsx(a,{tone:"critical",children:"ðŸ¤– Poor"})]}),e.jsx(s,{variant:"bodySm",children:t.storeMetadata.feedback}),t.storeMetadata.suggestions&&e.jsxs(s,{variant:"bodySm",tone:"subdued",children:["ðŸ’¡ ",t.storeMetadata.suggestions]})]})}),e.jsx(j,{})]}),t.welcomePage&&e.jsxs(e.Fragment,{children:[e.jsx(i,{align:"space-between",blockAlign:"center",children:e.jsxs(c,{gap:"100",children:[e.jsxs(i,{gap:"200",blockAlign:"center",children:[e.jsx(s,{variant:"bodyMd",fontWeight:"semibold",children:"AI Welcome Page"}),t.welcomePage.rating==="excellent"&&e.jsx(a,{tone:"success",children:"ðŸ¤– Excellent"}),t.welcomePage.rating==="good"&&e.jsx(a,{tone:"success",children:"ðŸ¤– Good"}),t.welcomePage.rating==="fair"&&e.jsx(a,{tone:"warning",children:"ðŸ¤– Fair"}),t.welcomePage.rating==="poor"&&e.jsx(a,{tone:"critical",children:"ðŸ¤– Poor"})]}),e.jsx(s,{variant:"bodySm",children:t.welcomePage.feedback}),t.welcomePage.suggestions&&e.jsxs(s,{variant:"bodySm",tone:"subdued",children:["ðŸ’¡ ",t.welcomePage.suggestions]})]})}),e.jsx(j,{})]}),t.collectionsJson&&e.jsxs(e.Fragment,{children:[e.jsx(i,{align:"space-between",blockAlign:"center",children:e.jsxs(c,{gap:"100",children:[e.jsxs(i,{gap:"200",blockAlign:"center",children:[e.jsx(s,{variant:"bodyMd",fontWeight:"semibold",children:"Collections JSON Feed"}),t.collectionsJson.rating==="excellent"&&e.jsx(a,{tone:"success",children:"ðŸ¤– Excellent"}),t.collectionsJson.rating==="good"&&e.jsx(a,{tone:"success",children:"ðŸ¤– Good"}),t.collectionsJson.rating==="fair"&&e.jsx(a,{tone:"warning",children:"ðŸ¤– Fair"}),t.collectionsJson.rating==="poor"&&e.jsx(a,{tone:"critical",children:"ðŸ¤– Poor"})]}),e.jsx(s,{variant:"bodySm",children:t.collectionsJson.feedback}),t.collectionsJson.suggestions&&e.jsxs(s,{variant:"bodySm",tone:"subdued",children:["ðŸ’¡ ",t.collectionsJson.suggestions]})]})}),e.jsx(j,{})]}),t.aiSitemap&&e.jsxs(e.Fragment,{children:[e.jsx(i,{align:"space-between",blockAlign:"center",children:e.jsxs(c,{gap:"100",children:[e.jsxs(i,{gap:"200",blockAlign:"center",children:[e.jsx(s,{variant:"bodyMd",fontWeight:"semibold",children:"AI-Enhanced Sitemap"}),t.aiSitemap.rating==="excellent"&&e.jsx(a,{tone:"success",children:"ðŸ¤– Excellent"}),t.aiSitemap.rating==="good"&&e.jsx(a,{tone:"success",children:"ðŸ¤– Good"}),t.aiSitemap.rating==="fair"&&e.jsx(a,{tone:"warning",children:"ðŸ¤– Fair"}),t.aiSitemap.rating==="poor"&&e.jsx(a,{tone:"critical",children:"ðŸ¤– Poor"})]}),e.jsx(s,{variant:"bodySm",children:t.aiSitemap.feedback}),t.aiSitemap.suggestions&&e.jsxs(s,{variant:"bodySm",tone:"subdued",children:["ðŸ’¡ ",t.aiSitemap.suggestions]})]})}),e.jsx(j,{})]}),t.schemaData&&e.jsx(i,{align:"space-between",blockAlign:"center",children:e.jsxs(c,{gap:"100",children:[e.jsxs(i,{gap:"200",blockAlign:"center",children:[e.jsx(s,{variant:"bodyMd",fontWeight:"semibold",children:"Advanced Schema Data"}),t.schemaData.rating==="excellent"&&e.jsx(a,{tone:"success",children:"ðŸ¤– Excellent"}),t.schemaData.rating==="good"&&e.jsx(a,{tone:"success",children:"ðŸ¤– Good"}),t.schemaData.rating==="fair"&&e.jsx(a,{tone:"warning",children:"ðŸ¤– Fair"}),t.schemaData.rating==="poor"&&e.jsx(a,{tone:"critical",children:"ðŸ¤– Poor"})]}),e.jsx(s,{variant:"bodySm",children:t.schemaData.feedback}),t.schemaData.suggestions&&e.jsxs(s,{variant:"bodySm",tone:"subdued",children:["ðŸ’¡ ",t.schemaData.suggestions]})]})})]}),Object.keys(t).length===0&&!R&&e.jsx(m,{tone:"info",children:e.jsx(s,{children:Object.keys(n).length===0?"Run Basic Tests first, then use AI validation for deep analysis":'Click "Test with AI Bot" to get AI-powered feedback on your endpoint data quality'})}),!P&&e.jsx(m,{tone:"warning",children:e.jsx(s,{children:"Loading plan information..."})})]})})})})]}),e.jsx(q,{children:e.jsx(x,{padding:"300",children:e.jsxs(c,{gap:"400",children:[e.jsx(s,{as:"h3",variant:"headingMd",children:"Test with Real AI Bots"}),e.jsx(s,{variant:"bodyMd",tone:"subdued",children:"Manually test your store with real AI search engines"}),e.jsxs(c,{gap:"200",children:[e.jsxs(i,{align:"space-between",children:[e.jsx(s,{children:"Meta AI Search"}),k("meta")?e.jsx(d,{onClick:()=>G("Meta AI","https://www.meta.ai/"),size:"slim",children:"Test"}):e.jsxs(d,{disabled:!0,size:"slim",children:[v("meta"),"+ Required"]})]}),e.jsxs(i,{align:"space-between",children:[e.jsx(s,{children:"Claude AI Search"}),k("claude")?e.jsx(d,{onClick:()=>G("Claude AI","https://claude.ai/"),size:"slim",children:"Test"}):e.jsxs(d,{disabled:!0,size:"slim",children:[v("claude"),"+ Required"]})]}),e.jsxs(i,{align:"space-between",children:[e.jsx(s,{children:"Gemini AI Search"}),k("gemini")?e.jsx(d,{onClick:()=>G("Gemini AI","https://gemini.google.com/"),size:"slim",children:"Test"}):e.jsxs(d,{disabled:!0,size:"slim",children:[v("gemini"),"+ Required"]})]}),e.jsxs(i,{align:"space-between",children:[e.jsx(s,{children:"ChatGPT Web Search"}),k("chatgpt")?e.jsx(d,{url:`https://chat.openai.com/?q=What+products+does+${h}+sell%3F+Tell+me+about+this+business+and+what+they+offer`,external:!0,size:"slim",children:"Test"}):e.jsxs(d,{disabled:!0,size:"slim",children:[v("chatgpt"),"+ Required"]})]}),e.jsxs(i,{align:"space-between",children:[e.jsx(s,{children:"Perplexity AI Search"}),k("perplexity")?e.jsx(d,{url:`https://www.perplexity.ai/search?q=What+products+does+${h}+sell%3F+Tell+me+about+this+business+and+what+they+offer`,external:!0,size:"slim",children:"Test"}):e.jsxs(d,{disabled:!0,size:"slim",children:[v("perplexity"),"+ Required"]})]}),e.jsxs(i,{align:"space-between",children:[e.jsx(s,{children:"DeepSeek AI Search"}),k("deepseek")?e.jsx(d,{onClick:()=>G("DeepSeek AI","https://chat.deepseek.com/"),size:"slim",children:"Test"}):e.jsxs(d,{disabled:!0,size:"slim",children:[v("deepseek"),"+ Required"]})]})]}),e.jsx(m,{tone:"info",children:e.jsxs(s,{children:[e.jsx("strong",{children:"How to test with AI bots:"}),e.jsx("br",{}),"â€¢ ",e.jsx("strong",{children:"Perplexity & ChatGPT:"}),' Click "Test" - they support URL parameters',e.jsx("br",{}),"â€¢ ",e.jsx("strong",{children:"Meta AI, Claude, Gemini, DeepSeek:"}),' Click "Test" to open a modal with the prompt to copy']})})]})})}),e.jsx(q,{children:e.jsx(x,{padding:"300",children:e.jsxs(c,{gap:"300",children:[e.jsx(s,{as:"h4",variant:"headingSm",children:"AI Search Simulation"}),e.jsx(s,{variant:"bodyMd",tone:"subdued",children:"Test how AI bots would respond to questions about your store based on your structured data."}),e.jsx(m,{tone:"info",children:e.jsxs(c,{gap:"100",children:[e.jsx(s,{variant:"bodySm",fontWeight:"semibold",children:"Simulation Details:"}),e.jsxs(s,{variant:"bodySm",children:["â€¢ ",e.jsx("strong",{children:"Data Source:"})," Your store's products, collections, and metadata"]}),e.jsxs(s,{variant:"bodySm",children:["â€¢ ",e.jsx("strong",{children:"Response Style:"})," Concise (2-3 sentences), natural language"]}),e.jsxs(s,{variant:"bodySm",children:["â€¢ ",e.jsx("strong",{children:"Best For:"})," General store info, products, categories, contact details"]}),e.jsxs(s,{variant:"bodySm",children:["â€¢ ",e.jsx("strong",{children:"Limitations:"})," May not have real-time data (current stock, active promotions, exact shipping times)"]})]})}),e.jsxs(c,{gap:"200",children:[e.jsxs(i,{align:"space-between",children:[e.jsx(s,{children:"What products does this store sell?"}),e.jsx(d,{onClick:()=>J("products"),size:"slim",children:"Simulate Response"})]}),e.jsxs(i,{align:"space-between",children:[e.jsx(s,{children:"Tell me about this business"}),e.jsx(d,{onClick:()=>J("business"),size:"slim",children:"Simulate Response"})]}),e.jsxs(i,{align:"space-between",children:[e.jsx(s,{children:"What categories does this store have?"}),e.jsx(d,{onClick:()=>J("categories"),size:"slim",children:"Simulate Response"})]}),e.jsxs(i,{align:"space-between",children:[e.jsx(s,{children:"What is this store's contact information?"}),e.jsx(d,{onClick:()=>J("contact"),size:"slim",children:"Simulate Response"})]})]}),e.jsx(j,{}),e.jsxs(c,{gap:"200",children:[e.jsx(s,{variant:"headingSm",children:"Ask Your Own Question"}),e.jsx(xe,{label:"",value:E,onChange:te,placeholder:"e.g., What are your return policies? Do you ship internationally?",autoComplete:"off",connectedRight:e.jsx(d,{onClick:()=>{E.trim()?J("custom",E):p("Please enter a question")},disabled:!E.trim(),children:"Ask AI"})})]}),z&&e.jsxs(x,{background:"bg-surface-secondary",padding:"300",borderRadius:"200",children:[e.jsx(s,{variant:"bodyMd",fontWeight:"semibold",children:"AI Bot Response:"}),e.jsx(x,{paddingBlockStart:"200",children:e.jsx(s,{variant:"bodyMd",children:z})})]})]})})})]}),B&&e.jsx(je,{content:B,onDismiss:()=>p("")}),e.jsx(y,{open:se,onClose:()=>O(!1),title:`Test with ${b==null?void 0:b.name}`,primaryAction:{content:"Open AI Bot",url:b==null?void 0:b.url,external:!0},secondaryActions:[{content:"Copy Prompt",onAction:()=>{navigator.clipboard.writeText(`What products does ${h} sell? Tell me about this business and what they offer.`),p("Prompt copied to clipboard!")}}],children:e.jsx(y.Section,{children:e.jsxs(c,{gap:"300",children:[e.jsx(s,{variant:"bodyMd",children:'1. Click "Copy Prompt" (left button)'}),e.jsxs(s,{variant:"bodyMd",children:['2. Click "Open AI Bot" (right button) to visit ',b==null?void 0:b.name]}),e.jsx(s,{variant:"bodyMd",children:"3. Paste the prompt and send"}),e.jsxs(x,{background:"bg-surface-secondary",padding:"300",borderRadius:"200",children:[e.jsx(s,{variant:"bodyMd",fontWeight:"semibold",children:"Prompt to test:"}),e.jsx(x,{paddingBlockStart:"200",children:e.jsxs(s,{variant:"bodyMd",as:"p",children:["What products does ",h," sell? Tell me about this business and what they offer."]})})]}),e.jsx(m,{tone:"info",children:e.jsx(s,{children:"The AI bot will search the web and use your store's structured data to answer."})})]})})}),e.jsx(y,{open:re,onClose:()=>$(!1),title:"Upgrade Required",primaryAction:{content:"View Plans",onAction:()=>{const o=new URLSearchParams(window.location.search),g=o.toString()?`?${o.toString()}`:"";window.location.href=`/billing${g}`}},secondaryActions:[{content:"Cancel",onAction:()=>$(!1)}],children:e.jsx(y.Section,{children:e.jsxs(c,{gap:"300",children:[e.jsxs(s,{variant:"bodyMd",children:[e.jsx("strong",{children:S==null?void 0:S.endpoint})," requires ",e.jsx("strong",{children:S==null?void 0:S.requiredPlan})," plan or higher."]}),e.jsxs(s,{variant:"bodyMd",tone:"subdued",children:["Your current plan: ",e.jsx("strong",{children:S==null?void 0:S.currentPlan})]}),e.jsx(m,{tone:"info",children:e.jsx(s,{children:"Upgrade to access this advanced AI Discovery feature."})})]})})}),e.jsx(y,{open:ae,onClose:()=>M(!1),title:"Upgrade Required",primaryAction:{content:"View Plans",onAction:()=>{const o=new URLSearchParams(window.location.search),g=o.toString()?`?${o.toString()}`:"";window.location.href=`/billing${g}`}},secondaryActions:[{content:"Cancel",onAction:()=>M(!1)}],children:e.jsx(y.Section,{children:e.jsxs(c,{gap:"300",children:[e.jsxs(s,{variant:"bodyMd",children:["AI Testing requires ",e.jsx("strong",{children:(u==null?void 0:u.minimumPlan)||"Professional"})," plan or higher."]}),e.jsxs(s,{variant:"bodyMd",tone:"subdued",children:["Your current plan: ",e.jsx("strong",{children:(u==null?void 0:u.currentPlan)||"Starter"})]}),e.jsx(m,{tone:"info",children:e.jsx(s,{children:"Upgrade to test AI responses with real store data."})})]})})}),e.jsx(y,{open:ie,onClose:()=>C(!1),title:"Insufficient Tokens",primaryAction:{content:"Buy Tokens",onAction:()=>{const o=new URLSearchParams(window.location.search),g=o.toString()?`?${o.toString()}`:"";window.location.href=`/billing${g}`}},secondaryActions:[{content:"Cancel",onAction:()=>C(!1)}],children:e.jsx(y.Section,{children:e.jsxs(c,{gap:"300",children:[e.jsx(s,{variant:"bodyMd",children:"You need more tokens to use AI Testing."}),e.jsx(x,{background:"bg-surface-secondary",padding:"300",borderRadius:"200",children:e.jsxs(c,{gap:"200",children:[e.jsxs(i,{align:"space-between",children:[e.jsx(s,{variant:"bodySm",children:"Required:"}),e.jsxs(s,{variant:"bodySm",fontWeight:"semibold",children:[((Q=u==null?void 0:u.tokensRequired)==null?void 0:Q.toLocaleString())||0," tokens"]})]}),e.jsxs(i,{align:"space-between",children:[e.jsx(s,{variant:"bodySm",children:"Available:"}),e.jsxs(s,{variant:"bodySm",children:[((X=u==null?void 0:u.tokensAvailable)==null?void 0:X.toLocaleString())||0," tokens"]})]}),e.jsxs(i,{align:"space-between",children:[e.jsx(s,{variant:"bodySm",children:"Needed:"}),e.jsxs(s,{variant:"bodySm",fontWeight:"semibold",tone:"critical",children:[((Z=u==null?void 0:u.tokensNeeded)==null?void 0:Z.toLocaleString())||0," tokens"]})]})]})}),e.jsx(m,{tone:"info",children:e.jsx(s,{children:"Purchase tokens to continue using AI features. Tokens never expire."})})]})})})]})}export{fe as default};
