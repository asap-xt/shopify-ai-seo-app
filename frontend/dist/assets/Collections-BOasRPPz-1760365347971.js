import{j as e}from"./app-bridge-NA2Eyoiz-1760365347971.js";import{r as n}from"./react-vendor-tAaa2TlE-1760365347971.js";import{m as it}from"./index-C0dRQnuo-1760365347971.js";import{U as ct,I as dt}from"./InsufficientTokensModal-4cY9zNkd-1760365347971.js";import{M as S,d as w,T as c,e as Le,f as ut,B as O,a as u,I as L,g as we,D as gt,h as X,C as Oe,i as ht,S as pt,P as ft,j as St,R as mt,k as xt,m as jt,E as Et}from"./polaris-D4grwvTP-1760365347971.js";const Ct=(B,i="")=>{try{return new URLSearchParams(window.location.search).get(B)||i}catch{return i}};function zt({shop:B}){const i=B||Ct("shop","");console.log("[COLLECTIONS] Component initialized with shop:",i,"shopProp:",B);const x=n.useMemo(()=>it(),[]),[f,Ie]=n.useState([]),[Ae,re]=n.useState(!1),[R,ve]=n.useState(0),[h,U]=n.useState([]),[j,F]=n.useState(!1),[yt,bt]=n.useState(""),[A,Z]=n.useState(""),[y,q]=n.useState("all"),[ie,ee]=n.useState(!1),[ke,De]=n.useState(""),[Lt,Me]=n.useState([]),[E,P]=n.useState([]),[m,ce]=n.useState([]),[te,G]=n.useState(!1),[I,v]=n.useState({current:0,total:0,percent:0}),[de,J]=n.useState(""),[z,ue]=n.useState([]),[wt,Ot]=n.useState(!1),[It,At]=n.useState(null),[vt,kt]=n.useState(!1),[Dt,Pe]=n.useState(""),[Te,Q]=n.useState(!1),[T,N]=n.useState([]),[ge,he]=n.useState(!1),[Ne,W]=n.useState(!1),[$e,Y]=n.useState(!1),[pe,V]=n.useState([]),[k,se]=n.useState({}),[Be,oe]=n.useState(!1),[Re,ne]=n.useState(!1),[fe,Mt]=n.useState({}),[Ue,le]=n.useState(!1),[Se,ae]=n.useState(null),[ze,me]=n.useState(!1),[xe,p]=n.useState(""),[Pt,Tt]=n.useState(!1),[We,je]=n.useState(!1),[He,Ee]=n.useState(!1),[D,Ce]=n.useState(null),[_,ye]=n.useState("starter"),[H,Ke]=n.useState(1),[Fe,K]=n.useState({processing:!1,current:0,total:0,currentItem:"",results:null});n.useEffect(()=>{if(!i)return;x("/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:`
      query PlansMe($shop:String!) {
        plansMe(shop:$shop) {
          plan
          planKey
          modelsSuggested
        }
      }
    `,variables:{shop:i}})}).then(s=>{var d,g,b;if((d=s==null?void 0:s.errors)!=null&&d.length)throw new Error(((g=s.errors[0])==null?void 0:g.message)||"GraphQL error");const o=(b=s==null?void 0:s.data)==null?void 0:b.plansMe,a=(o==null?void 0:o.modelsSuggested)||["google/gemini-1.5-flash"];Me(a.map($=>({label:$,value:$}))),De(a[0]),ye((o==null?void 0:o.planKey)||"starter");const r=((o==null?void 0:o.planKey)||"starter").toLowerCase();Ke({starter:1,professional:2,growth:3,"growth extra":6,growth_extra:6,enterprise:10}[r]||1)}).catch(s=>p(`Error loading models: ${s.message}`))},[i,x]),n.useEffect(()=>{i&&(console.log("[COLLECTIONS] Loading languages for shop:",i),x(`/api/languages/shop/${i}?shop=${i}`).then(t=>{console.log("[COLLECTIONS] Languages API data:",t);const s=(t==null?void 0:t.shopLanguages)||["en"];console.log("[COLLECTIONS] Extracted languages:",s),ce(s),P([])}).catch(t=>{console.error("[COLLECTIONS] Languages API error:",t),ce(["en"]),P([])}))},[i,x]);const M=n.useCallback(async()=>{var t;re(!0);try{console.log("[COLLECTIONS] Shop value:",i),console.log("[COLLECTIONS] Shop prop:",B),console.log("[COLLECTIONS] URL search params:",window.location.search);const o=`/collections/list-graphql?${new URLSearchParams({shop:i,...A&&{search:A},...y!=="all"&&{optimized:y}})}`;console.log("[COLLECTIONS] Using GraphQL endpoint:",o);const a=await x(o);console.log("[COLLECTIONS] API Response data:",a),((t=a==null?void 0:a.collections)==null?void 0:t.length)>0&&(console.log("[COLLECTIONS] First collection optimizedLanguages:",a.collections[0].optimizedLanguages),console.log("[COLLECTIONS] First collection full data:",a.collections[0]));let r=a.collections||[];if(A){const l=A.toLowerCase();r=r.filter(d=>d.title.toLowerCase().includes(l)||d.handle.toLowerCase().includes(l))}y!=="all"&&(r=r.filter(l=>y==="true"?l.hasSeoData:!l.hasSeoData)),Ie(r),ve(r.length)}catch(s){p(`Error loading collections: ${s.message}`)}finally{re(!1)}},[i,A,y,x]);n.useEffect(()=>{i&&(M(),W(!1))},[i,y,M]),n.useEffect(()=>{const t=setTimeout(()=>{i&&M()},500);return()=>clearTimeout(t)},[A]);const qe=n.useCallback(t=>{U(t);const s=t.some(o=>{const a=f.find(r=>r.id===o);return a==null?void 0:a.hasSeoData});W(s),t.length===0&&F(!1)},[f]),Ge=n.useCallback(t=>{if(F(t),t){U(f.map(o=>o.id));const s=f.some(o=>o.hasSeoData);W(s)}else U([]),W(!1)},[f]),Je=async t=>{me(!0);try{const s=`/collections/${t.split("/").pop()}/seo-data?shop=${encodeURIComponent(i)}`,o=await x(s);ae(o),le(!0)}catch(s){p((s==null?void 0:s.status)===404?"No SEO data found for this collection":"Failed to load SEO data")}finally{me(!1)}},Qe=()=>{if(h.length===0&&!j){p("Please select collections first");return}ne(!0)},Ye=async()=>{console.log("[AI-ENHANCE] Starting enhancement...");const s=f.filter(a=>h.includes(a.id)).filter(a=>{var r;return((r=a.optimizedLanguages)==null?void 0:r.length)>0});if(s.length===0){p("Please select collections with Basic SEO optimization");return}console.log("[AI-ENHANCE] Collections to enhance:",s.length),K({processing:!0,current:0,total:s.length,currentItem:"",results:null});const o={successful:0,failed:0,skipped:0};for(let a=0;a<s.length;a++){const r=s[a];K(l=>({...l,current:a,currentItem:r.title}));try{const l=r.optimizedLanguages||[];if(l.length===0){console.log(`[AI-ENHANCE] No languages for ${r.title}, skipping`),o.skipped++;continue}console.log(`[AI-ENHANCE] Enhancing ${r.title} for languages:`,l);const d=await x(`/ai-enhance/collection/${encodeURIComponent(r.id)}`,{method:"POST",shop:i,body:{shop:i,languages:l}});d&&d.ok?(o.successful++,console.log(`[AI-ENHANCE] Success for ${r.title}`)):(o.failed++,console.log(`[AI-ENHANCE] Failed for ${r.title}`))}catch(l){if(console.error("[AI-ENHANCE] Error:",l),l.status===402||l.requiresPurchase||l.trialRestriction){K({processing:!1,current:0,total:0,currentItem:"",results:null}),Ce(l),ye(l.currentPlan||plan||"starter"),l.trialRestriction?je(!0):Ee(!0);return}o.failed++}K(l=>({...l,current:a+1}))}K(a=>({...a,processing:!1,results:o})),p(`AI enhancement complete! ${o.successful} collections enhanced.`),o.successful>0&&await M()},Ve=async()=>{if(!E.length){p("Please select at least one language");return}ne(!1),G(!0),v({current:0,total:0,percent:0}),ue([]),se({});try{const t=j?f:f.filter(r=>h.includes(r.id)),s=t.length;v({current:0,total:s,percent:0});const o={};for(let r=0;r<t.length;r++){const l=t[r];J(l.title);try{const b=await x("/seo/generate-collection-multi",{method:"POST",shop:i,body:JSON.stringify({shop:i,collectionId:l.id,model:ke,languages:E})});o[l.id]={success:!0,data:b}}catch(b){o[l.id]={success:!1,error:b.message},ue($=>[...$,{collection:l.title,error:b.message}])}const d=r+1,g=Math.round(d/s*100);v({current:d,total:s,percent:g})}se(o),oe(!0);const a=Object.values(o).filter(r=>r.success).length;p(`Generated optimization for ${a} collections`)}catch(t){p(`Error: ${t.message}`)}finally{G(!1),J("")}},_e=async()=>{var t,s;G(!0),v({current:0,total:0,percent:0});try{const o=Object.entries(k).filter(([r,l])=>l.success),a=o.length;v({current:0,total:a,percent:0});for(let r=0;r<o.length;r++){const[l,d]=o[r],g=f.find(C=>C.id===l);if(!g)continue;J(g.title);try{if(console.log("Applying SEO for collection:",l),console.log("Result data:",d.data),console.log("Results array:",(t=d.data)==null?void 0:t.results),!((s=d.data)!=null&&s.results)||!Array.isArray(d.data.results))throw new Error("Invalid results structure");const C=await x("/seo/apply-collection-multi",{method:"POST",shop:i,body:{shop:i,collectionId:l,results:d.data.results.map(be=>({language:be.language,seo:be.data})),options:{updateTitle:!0,updateDescription:!0,updateSeo:!0,updateMetafields:!0}}});if(!(C!=null&&C.ok))throw new Error((C==null?void 0:C.error)||"Apply failed")}catch(C){console.error("Apply error for collection:",l,C),z.push({id:g.id,title:g.title,message:C.message})}const b=r+1,$=Math.round(b/a*100);v({current:b,total:a,percent:$})}p("Optimization applied successfully!"),oe(!1),se({}),U([]),await M(),F(!1)}catch(o){p(`Error applying optimization: ${o.message}`)}finally{G(!1),J("")}},Xe=async(t=[])=>{console.log("[DELETE-SEO-BULK] ===== BULK DELETE START ====="),console.log("[DELETE-SEO-BULK] Languages to delete:",t),console.log("[DELETE-SEO-BULK] Selected items:",h),console.log("[DELETE-SEO-BULK] Select all pages:",j),he(!0),Pe("");try{const s=j?f:f.filter(l=>h.includes(l.id)),o=s.length*t.length;let a=0;const r=[];for(const l of s)for(const d of t)try{console.log(`[DELETE-SEO-BULK] Deleting ${d} for ${l.title} (${l.id})`);const g=await x("/collections/delete-seo",{method:"DELETE",shop:i,body:{shop:i,collectionId:l.id,language:d}});console.log(`[DELETE-SEO-BULK] Success for ${l.title} - ${d}:`,g)}catch(g){console.error(`[DELETE-SEO-BULK] Failed to delete ${d} for ${l.title}:`,g),r.push({id:l.id,title:l.title,message:g.message})}finally{a++,v({current:a,total:o,percent:Math.round(a/o*100)})}p(`Deleted optimization for ${t.join(", ").toUpperCase()}`),setTimeout(async()=>{await M(),U([]),F(!1),W(!1)},100)}catch(s){console.error("[DELETE-SEO-BULK] Error:",s),p(`Delete error: ${s.message}`)}finally{console.log("[DELETE-SEO-BULK] ===== BULK DELETE END ====="),he(!1),V([]),N([])}},Ze=t=>{var l,d;const s=((l=k[t.id])==null?void 0:l.success)||fe[t.id],o=((d=k[t.id])==null?void 0:d.data)||fe[t.id],a=t.optimizedLanguages||[];console.log(`[COLLECTIONS] Rendering collection "${t.title}":`,{optimizedLanguages:a,availableLanguages:m,hasSeoData:t.hasSeoData});const r=e.jsx(u,{width:"40px",height:"40px",background:"surface-neutral",borderRadius:"200"});return e.jsx(jt,{id:t.id,media:r,accessibilityLabel:`View details for ${t.title}`,onClick:g=>{console.log("[Collections-ResourceItem] ===== CLICK ON RESOURCE ITEM ====="),console.log("[Collections-ResourceItem] e.target:",g.target),console.log("[Collections-ResourceItem] e.target.tagName:",g.target.tagName),console.log('[Collections-ResourceItem] e.target.closest("input"):',g.target.closest("input")),console.log('[Collections-ResourceItem] e.target.closest("a"):',g.target.closest("a")),console.log("[Collections-ResourceItem] Event bubbling up...")},children:e.jsxs(L,{gap:"400",align:"center",blockAlign:"center",wrap:!1,children:[e.jsxs(u,{style:{flex:"1 1 30%",minWidth:"200px"},children:[e.jsx(c,{variant:"bodyMd",fontWeight:"semibold",children:t.title}),e.jsxs(c,{variant:"bodySm",tone:"subdued",children:["Handle: ",t.handle]})]}),e.jsx(u,{style:{flex:"0 0 15%",minWidth:"100px",textAlign:"center"},children:e.jsxs(c,{variant:"bodyMd",children:[t.productsCount," products"]})}),e.jsx(u,{style:{flex:"0 0 25%",minWidth:"160px"},children:t.hasSeoData?e.jsx(L,{gap:"100",children:m.map(g=>e.jsx(X,{tone:a.includes(g)?"success":"subdued",size:"small",children:g.toUpperCase()},g))}):e.jsx(X,{tone:"subdued",children:"No AI Search Optimisation"})}),e.jsxs(u,{style:{flex:"0 0 15%",minWidth:"120px"},children:[s&&e.jsx(O,{size:"slim",onClick:()=>{ae(o),le(!0)},children:"Preview JSON"}),!s&&t.hasSeoData&&e.jsx(O,{size:"slim",loading:ze,onClick:()=>Je(t.id),children:"Preview JSON"})]})]})})},et=te&&!Fe.processing&&e.jsx(S,{open:te,title:"Processing Collections",onClose:()=>{},noScroll:!0,children:e.jsx(S.Section,{children:e.jsxs(w,{gap:"400",children:[e.jsx(c,{variant:"bodyMd",children:de?`Processing: ${de}`:"Preparing..."}),e.jsx(Le,{progress:I.percent}),e.jsxs(c,{variant:"bodySm",tone:"subdued",children:[I.current," of ",I.total," collections (",I.percent,"%)"]})]})})}),tt=e.jsx(S,{open:Re,title:"Select Languages",primaryAction:{content:"Generate Optimization for AI Search",onAction:Ve,disabled:E.length===0||E.length>H},secondaryActions:[{content:"Cancel",onAction:()=>ne(!1)}],children:e.jsx(S.Section,{children:e.jsxs(w,{gap:"300",children:[e.jsxs(c,{variant:"bodyMd",children:["Select languages to generate AI Search Optimisation for ",j?"all":h.length," selected collections:"]}),E.length>H&&e.jsx(ut,{tone:"warning",title:"Language limit exceeded",children:e.jsxs(w,{gap:"200",children:[e.jsxs(c,{variant:"bodyMd",children:["Your ",_," plan supports only ",H," language(s), but you selected ",E.length,"."]}),e.jsx(c,{variant:"bodyMd",children:"Please deselect some languages or upgrade your plan:"}),e.jsx(O,{variant:"primary",onClick:()=>{const t=new URLSearchParams(window.location.search),s=t.toString()?`?${t.toString()}`:"";window.location.href=`/billing${s}`},children:"Upgrade Plan"})]})}),e.jsx(u,{paddingBlockStart:"200",children:e.jsx(L,{gap:"200",wrap:!0,children:m.map(t=>e.jsx(we,{label:t.toUpperCase(),checked:E.includes(t),onChange:s=>{P(s?[...E,t]:E.filter(o=>o!==t))}},t))})}),e.jsx(u,{paddingBlockStart:"200",children:e.jsx(O,{plain:!0,onClick:()=>{E.length===m.length?P([]):m.length>H?(P([...m]),p(`You selected ${m.length} languages. Your ${_} plan supports ${H}. Please deselect or upgrade.`)):P([...m])},children:E.length===m.length?"Deselect all":"Select all"})})]})})}),st=e.jsx(S,{open:Be&&!te,title:"AI Search Optimisation Results",primaryAction:{content:"Apply Optimisation",onAction:_e,disabled:!Object.values(k).some(t=>t.success)},secondaryActions:[{content:"Cancel",onAction:()=>oe(!1)}],children:e.jsx(S.Section,{children:e.jsxs(w,{gap:"300",children:[e.jsxs(L,{gap:"400",children:[e.jsxs(u,{children:[e.jsx(c,{variant:"bodyMd",fontWeight:"semibold",children:"Successful:"}),e.jsx(c,{variant:"headingLg",fontWeight:"bold",tone:"success",children:Object.values(k).filter(t=>t.success&&!t.skipped).length})]}),e.jsxs(u,{children:[e.jsx(c,{variant:"bodyMd",fontWeight:"semibold",children:"Skipped:"}),e.jsx(c,{variant:"headingLg",fontWeight:"bold",tone:"info",children:Object.values(k).filter(t=>t.skipped).length})]}),e.jsxs(u,{children:[e.jsx(c,{variant:"bodyMd",fontWeight:"semibold",children:"Failed:"}),e.jsx(c,{variant:"headingLg",fontWeight:"bold",tone:"critical",children:Object.values(k).filter(t=>!t.success&&!t.skipped).length})]})]}),z.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(gt,{}),e.jsx(c,{variant:"bodyMd",fontWeight:"semibold",children:"Errors:"}),e.jsxs(u,{maxHeight:"200px",overflowY:"scroll",children:[z.slice(0,10).map((t,s)=>e.jsxs(c,{variant:"bodySm",tone:"critical",children:[t.collection,": ",t.error]},s)),z.length>10&&e.jsxs(c,{variant:"bodySm",tone:"subdued",children:["... and ",z.length-10," more errors"]})]})]})]})})}),ot=e.jsx(S,{open:Ue,title:"SEO Data Preview",secondaryActions:[{content:"Close",onAction:()=>{le(!1),ae(null)}}],children:e.jsx(S.Section,{children:e.jsx(u,{children:e.jsx("pre",{style:{whiteSpace:"pre-wrap",wordBreak:"break-word",fontSize:"12px",backgroundColor:"#f6f6f7",padding:"12px",borderRadius:"4px",maxHeight:"400px",overflow:"auto"},children:Se?JSON.stringify(Se,null,2):""})})})}),nt=e.jsx(S,{open:Te,title:"Delete Optimization for AI Search",onClose:()=>{Q(!1),N([])},primaryAction:{content:"Continue",onAction:()=>{V(T),Q(!1),Y(!0)},disabled:T.length===0},secondaryActions:[{content:"Cancel",onAction:()=>{Q(!1),N([])}}],children:e.jsx(S.Section,{children:e.jsxs(w,{gap:"400",children:[e.jsxs(c,{variant:"bodyMd",children:["Select languages to delete AI Search Optimisation from ",j?R:h.length," selected collections:"]}),e.jsx(u,{paddingBlockStart:"200",children:e.jsx(L,{gap:"400",wrap:!1,children:m.map(t=>e.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer",userSelect:"none"},children:[e.jsx("input",{type:"checkbox",checked:T.includes(t),onChange:s=>{N(s.target.checked?[...T,t]:T.filter(o=>o!==t))},style:{marginRight:"8px",width:"18px",height:"18px",cursor:"pointer"}}),e.jsx(c,{variant:"bodyMd",children:t.toUpperCase()})]},t))})}),e.jsx(u,{children:e.jsx(O,{plain:!0,onClick:()=>{N(T.length===m.length?[]:[...m])},children:"Select all"})}),e.jsx(u,{paddingBlockStart:"300",children:e.jsx(c,{variant:"bodySm",children:"Warning: This will permanently delete AI Search Optimisation data for selected languages."})})]})})}),lt=e.jsx(S,{open:$e,title:"Confirm Deletion",onClose:()=>{Y(!1),V([])},primaryAction:{content:"Delete",destructive:!0,onAction:async()=>{Y(!1),setTimeout(()=>{Xe(pe)},100)}},secondaryActions:[{content:"Cancel",onAction:()=>{Y(!1),V([]),N([])}}],children:e.jsx(S.Section,{children:e.jsxs(w,{gap:"400",children:[e.jsx(c,{variant:"bodyMd",children:"Are you sure you want to delete AI Search Optimisation for the following languages?"}),e.jsx(u,{paddingBlockStart:"200",children:e.jsx(L,{gap:"200",children:pe.map(t=>e.jsx(X,{tone:"warning",children:t.toUpperCase()},t))})}),e.jsxs(c,{variant:"bodyMd",children:["This will delete optimisation from ",j?R:h.length," selected collections."]}),e.jsx(u,{paddingBlockStart:"200",children:e.jsx(c,{variant:"bodySm",tone:"critical",children:"This action cannot be undone."})})]})})}),at=ge&&e.jsx(S,{open:ge,title:"Deleting SEO Data",onClose:()=>{},noScroll:!0,children:e.jsx(S.Section,{children:e.jsxs(w,{gap:"400",children:[e.jsx(c,{variant:"bodyMd",children:"Deleting selected languages..."}),e.jsx(Le,{progress:I.percent}),e.jsxs(c,{variant:"bodySm",tone:"subdued",children:[I.current," of ",I.total," operations (",I.percent,"%)"]})]})})}),rt=e.jsx(Et,{heading:"No collections found",action:{content:"Clear filters",onAction:()=>{Z(""),q("all"),M()}},image:"https://cdn.shopify.com/s/files/1/0262/4071/2726/files/emptystate-files.png",children:e.jsx("p",{children:"Try adjusting your filters or search terms"})});return e.jsxs(e.Fragment,{children:[e.jsx(Oe,{children:e.jsxs(u,{padding:"400",children:[e.jsxs(L,{gap:"400",align:"space-between",blockAlign:"start",wrap:!1,children:[e.jsx(u,{minWidth:"400px",maxWidth:"600px",children:e.jsx(w,{gap:"200",children:e.jsx(ht,{label:"",placeholder:"Search by collection name...",value:A,onChange:Z,prefix:e.jsx(pt,{}),clearButton:!0,onClearButtonClick:()=>Z("")})})}),e.jsxs(w,{gap:"200",children:[e.jsx(O,{primary:!0,onClick:Qe,disabled:h.length===0&&!j,children:"Generate Optimization for AI Search"}),h.length===0&&!j||!f.filter(o=>h.includes(o.id)).some(o=>{var a;return((a=o.optimizedLanguages)==null?void 0:a.length)>0})?null:e.jsx(O,{onClick:Ye,disabled:h.length===0&&!j,children:"AI Enhanced add-ons for AI Search"}),e.jsx(O,{outline:!0,destructive:!0,onClick:()=>Q(!0),disabled:h.length===0||!Ne,children:"Delete Optimization for AI Search"})]})]}),R>0&&e.jsx(u,{paddingBlockStart:"300",children:e.jsx(we,{label:`Select all ${R} collections`,checked:j,onChange:Ge})})]})}),e.jsx(u,{paddingBlockStart:"400",children:e.jsxs(Oe,{children:[e.jsxs(u,{padding:"400",borderBlockEndWidth:"025",borderColor:"border",children:[e.jsx(L,{gap:"200",wrap:!0,children:e.jsx(ft,{active:ie,activator:e.jsx(O,{disclosure:"down",onClick:()=>ee(!ie),removeUnderline:!0,children:e.jsxs(L,{gap:"100",blockAlign:"center",children:[e.jsx("span",{children:"AI Search Status"}),y!=="all"&&e.jsx(u,{onClick:t=>{t.stopPropagation(),q("all")},children:e.jsx(c,{as:"span",tone:"subdued",children:"âœ•"})})]})}),onClose:()=>ee(!1),children:e.jsx(u,{padding:"300",minWidth:"200px",children:e.jsx(St,{title:"AI Search Status",titleHidden:!0,choices:[{label:"All collections",value:"all"},{label:"Has AI Search Optimisation",value:"true"},{label:"No AI Search Optimisation",value:"false"}],selected:[y],onChange:t=>{q(t[0]),ee(!1)}})})})}),y!=="all"&&e.jsx(u,{paddingBlockStart:"200",children:e.jsx(L,{gap:"100",wrap:!0,children:e.jsx(X,{onRemove:()=>q("all"),children:y==="true"?"Has AI Search Optimisation":"No AI Search Optimisation"})})})]}),e.jsx(mt,{resourceName:{singular:"collection",plural:"collections"},items:f,renderItem:Ze,selectedItems:h,onSelectionChange:qe,selectable:!0,loading:Ae,totalItemsCount:R,emptyState:rt,showHeader:!1},`collections-${f.length}-${h.length}`)]})}),et,tt,st,ot,nt,lt,at,e.jsx(ct,{open:We,onClose:()=>je(!1),featureName:"AI Enhancement",currentPlan:_}),D&&e.jsx(dt,{open:He,onClose:()=>{Ee(!1),Ce(null)},tokensRequired:D.tokensRequired||0,tokensAvailable:D.tokensAvailable||0,tokensNeeded:D.tokensNeeded||0,feature:"ai-seo-collection",shop:i,needsUpgrade:D.needsUpgrade||!1,minimumPlan:D.minimumPlanForFeature||null,currentPlan:D.currentPlan||_}),xe&&e.jsx(xt,{content:xe,onDismiss:()=>p("")})]})}export{zt as default};
