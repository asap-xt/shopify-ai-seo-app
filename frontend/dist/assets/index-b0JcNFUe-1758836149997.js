const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/BulkEdit-CQNbOxd8-1758836149997.js","assets/app-bridge-C_xsL_4s-1758836149997.js","assets/react-vendor-tAaa2TlE-1758836149997.js","assets/UpgradeModal-CBfGSL8r-1758836149997.js","assets/polaris-BHGI5x9f-1758836149997.js","assets/Collections-DUI4ib_A-1758836149997.js","assets/sessionFetch-BETtxx1w-1758836149997.js","assets/Sitemap-CSIL6JD1-1758836149997.js","assets/StoreMetadata-CI4T4iOH-1758836149997.js","assets/SchemaData-Ds-YpYAW-1758836149997.js","assets/Settings-Bczut1Bf-1758836149997.js"])))=>i.map(i=>d[i]);
import{j as h}from"./app-bridge-C_xsL_4s-1758836149997.js";import{a as ft,c as y,r as j,R as W}from"./react-vendor-tAaa2TlE-1758836149997.js";import{P as pt,A as ht,B as vt,I as ce,T,a as R,C as Q,b as yt,F as gt,c as bt}from"./polaris-BHGI5x9f-1758836149997.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const t of i)if(t.type==="childList")for(const u of t.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const t={};return i.integrity&&(t.integrity=i.integrity),i.referrerPolicy&&(t.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?t.credentials="include":i.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function o(i){if(i.ep)return;i.ep=!0;const t=n(i);fetch(i.href,t)}})();var Ge,we=ft;Ge=we.createRoot,we.hydrateRoot;const _t="modulepreload",mt=function(e){return"/"+e},Te={},B=function(r,n,o){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=mt(l),l in Te)return;Te[l]=!0;const a=l.endsWith(".css"),c=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const s=document.createElement("link");if(s.rel=a?"stylesheet":_t,a||(s.as="script"),s.crossOrigin="",s.href=l,d&&s.setAttribute("nonce",d),document.head.appendChild(s),a)return new Promise((g,v)=>{s.addEventListener("load",g),s.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${l}`)))})}))}function t(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return i.then(u=>{for(const d of u||[])d.status==="rejected"&&t(d.reason);return r().catch(t)})};var We={},Ve={},K={},$e={},ve={},se={},me={},F={},Ae={};Object.defineProperty(Ae,"__esModule",{value:!0});function ze(e,r){if(r==null||typeof e>"u"||!Object.prototype.isPrototypeOf.call(Object.getPrototypeOf(e),r)||r.constructor.name!=="Object"&&r.constructor.name!=="Array")return r;var n={};return Object.keys(r).forEach(function(o){var i=Object.prototype.hasOwnProperty.call(e,o);i&&typeof e[o]=="object"&&!Array.isArray(e[o])?n[o]=ze(e[o],r[o]):n[o]=r[o]}),Object.keys(e).forEach(function(o){var i=Object.prototype.hasOwnProperty.call(r,o);i||(n[o]=e[o])}),Object.setPrototypeOf(n,Object.getPrototypeOf(e)),n}Ae.default=ze;var $={};Object.defineProperty($,"__esModule",{value:!0});$.SEPARATOR=$.PREFIX=void 0;$.PREFIX="APP";$.SEPARATOR="::";var k={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ComponentType=e.Group=void 0,function(r){r.AuthCode="AuthCode",r.Button="Button",r.ButtonGroup="ButtonGroup",r.Cart="Cart",r.Client="Client",r.ContextualSaveBar="ContextualSaveBar",r.Error="Error",r.Features="Features",r.FeedbackModal="FeedbackModal",r.Fullscreen="Fullscreen",r.LeaveConfirmation="LeaveConfirmation",r.Link="Link",r.Loading="Loading",r.Menu="Menu",r.Modal="Modal",r.Navigation="Navigation",r.Performance="Performance",r.Pos="Pos",r.Print="Print",r.ResourcePicker="Resource_Picker",r.unstable_Picker="unstable_Picker",r.Scanner="Scanner",r.SessionToken="SessionToken",r.Share="Share",r.TitleBar="TitleBar",r.Toast="Toast",r.MarketingExternalActivityTopBar="MarketingExternalActivityTopBar",r.WebVitals="WebVitals"}(e.Group||(e.Group={})),function(r){r.Button="Button",r.ButtonGroup="ButtonGroup"}(e.ComponentType||(e.ComponentType={}))})(k);(function(e){var r=y&&y.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(e,"__esModule",{value:!0}),e.updateActionFromPayload=e.isValidOptionalString=e.isValidOptionalNumber=e.forEachInEnum=e.getMergedProps=e.findMatchInEnum=e.getEventNameSpace=e.NonSnakeCaseGroup=e.actionWrapper=void 0;var n=r(Ae),o=$,i=k;function t(f){return f}e.actionWrapper=t,e.NonSnakeCaseGroup=[i.Group.AuthCode,i.Group.Button,i.Group.ButtonGroup,i.Group.Cart,i.Group.Error,i.Group.Features,i.Group.Fullscreen,i.Group.Link,i.Group.Loading,i.Group.Menu,i.Group.Modal,i.Group.Navigation,i.Group.Pos,i.Group.Print,i.Group.ResourcePicker,i.Group.Scanner,i.Group.SessionToken,i.Group.Share,i.Group.TitleBar,i.Group.Toast,i.Group.unstable_Picker];function u(f){return f.replace(/([A-Z])/g,function(b,O,A){return(A===0?"":"_")+b[0].toLowerCase()})}function d(f){return e.NonSnakeCaseGroup.includes(f)?f.toUpperCase():u(f).toUpperCase()}function l(f,b,O){if(b.startsWith(""+o.PREFIX+o.SEPARATOR))return b;var A=d(f);if(O){var M=O.subgroups,w=O.type;M&&M.length>0&&(A+=A.length>0?o.SEPARATOR:"",M.forEach(function(G,_){A+=""+G.toUpperCase()+(_<M.length-1?o.SEPARATOR:"")})),w!==f&&w&&(A+=""+(A.length>0?o.SEPARATOR:"")+w.toUpperCase())}return A&&(A+=""+(A.length>0?o.SEPARATOR:"")+b.toUpperCase()),""+o.PREFIX+o.SEPARATOR+A}e.getEventNameSpace=l;function a(f,b){var O=Object.keys(f).find(function(A){return b===f[A]});return O?f[O]:void 0}e.findMatchInEnum=a;function c(f,b){var O=n.default(f,b);if(!O){var A=Object.assign(f,b);return A}return O}e.getMergedProps=c;function s(f,b){Object.keys(f).forEach(function(O){b(f[O])})}e.forEachInEnum=s;function g(f){return f==null||typeof f=="number"}e.isValidOptionalNumber=g;function v(f){return f==null||typeof f=="string"}e.isValidOptionalString=v;function p(f,b){var O=f.id;return O===b.id?(Object.assign(f,c(f,b)),!0):!1}e.updateActionFromPayload=p})(F);var U={},le={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.LifecycleHook=e.PermissionType=e.MessageType=void 0,function(r){r.GetState="getState",r.Dispatch="dispatch",r.Subscribe="subscribe",r.Unsubscribe="unsubscribe"}(e.MessageType||(e.MessageType={})),function(r){r.Dispatch="Dispatch",r.Subscribe="Subscribe"}(e.PermissionType||(e.PermissionType={})),function(r){r.UpdateAction="UpdateAction",r.DispatchAction="DispatchAction"}(e.LifecycleHook||(e.LifecycleHook={}))})(le);var z={};Object.defineProperty(z,"__esModule",{value:!0});z.removeFromCollection=z.addAndRemoveFromCollection=void 0;function At(e,r,n){return e.push(r),function(){return He(e,r,n)}}z.addAndRemoveFromCollection=At;function He(e,r,n){var o=e.findIndex(function(i){return i===r});return o>=0?(e.splice(o,1),n&&n(r),!0):!1}z.removeFromCollection=He;var Z={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.permissionAction=e.isErrorEventName=e.throwError=e.invalidOriginAction=e.fromAction=e.AppBridgeError=e.AppActionType=e.Action=void 0;var r=k,n=F,o;(function(s){s.INVALID_ACTION="APP::ERROR::INVALID_ACTION",s.INVALID_ACTION_TYPE="APP::ERROR::INVALID_ACTION_TYPE",s.INVALID_PAYLOAD="APP::ERROR::INVALID_PAYLOAD",s.INVALID_OPTIONS="APP::ERROR::INVALID_OPTIONS",s.UNEXPECTED_ACTION="APP::ERROR::UNEXPECTED_ACTION",s.PERSISTENCE="APP::ERROR::PERSISTENCE",s.UNSUPPORTED_OPERATION="APP::ERROR::UNSUPPORTED_OPERATION",s.NETWORK="APP::ERROR::NETWORK",s.PERMISSION="APP::ERROR::PERMISSION",s.FAILED_AUTHENTICATION="APP::ERROR::FAILED_AUTHENTICATION",s.INVALID_ORIGIN="APP::ERROR::INVALID_ORIGIN"})(o=e.Action||(e.Action={})),function(s){s.INVALID_CONFIG="APP::ERROR::INVALID_CONFIG",s.MISSING_CONFIG="APP::APP_ERROR::MISSING_CONFIG",s.MISSING_APP_BRIDGE_MIDDLEWARE="APP::APP_ERROR::MISSING_APP_BRIDGE_MIDDLEWARE",s.WINDOW_UNDEFINED="APP::APP_ERROR::WINDOW_UNDEFINED",s.REDUX_REINSTANTIATED="APP::APP_ERROR::REDUX_REINSTANTIATED",s.MISSING_LOCAL_ORIGIN="APP::APP_ERROR::MISSING_LOCAL_ORIGIN",s.MISSING_HOST_PROVIDER="APP::APP_ERROR::MISSING_HOST_PROVIDER",s.MISSING_ROUTER_CONTEXT="APP::APP_ERROR::MISSING_ROUTER_CONTEXT",s.MISSING_HISTORY_BLOCK="APP::APP_ERROR::MISSING_HISTORY_BLOCK"}(e.AppActionType||(e.AppActionType={}));var i=function(){function s(g){this.name="AppBridgeError",this.message=g,typeof Error.captureStackTrace=="function"?Error.captureStackTrace(this,this.constructor):this.stack=new Error(this.message).stack}return s}();e.AppBridgeError=i,i.prototype=Object.create(Error.prototype);function t(s,g,v){var p=s?g+": "+s:g,f=new i(p);return f.action=v,f.type=g,f}e.fromAction=t;function u(s){return n.actionWrapper({group:r.Group.Error,payload:{message:s,type:o.INVALID_ORIGIN},type:o.INVALID_ORIGIN})}e.invalidOriginAction=u;function d(){for(var s=[],g=0;g<arguments.length;g++)s[g]=arguments[g];var v=s[0],p,f;throw typeof s[1]=="string"?p=s[1]:(f=s[1],p=s[2]||""),t(p,v,f)}e.throwError=d;function l(s){var g=n.findMatchInEnum(o,s);return typeof g=="string"}e.isErrorEventName=l;function a(s,g,v){var p=g.payload;return n.actionWrapper({type:s,group:r.Group.Error,payload:{action:g,message:v,type:s,id:p&&p.id?p.id:void 0}})}function c(s,g){return a(o.PERMISSION,s,g||"Action is not permitted")}e.permissionAction=c})(Z);var Y={};Object.defineProperty(Y,"__esModule",{value:!0});Y.generateUuid=void 0;function H(e){return Array.from(e).map(function(r){return("00"+r.toString(16)).slice(-2)}).join("")}function q(e){if(typeof Uint8Array=="function"&&typeof window=="object"&&window.crypto){var r=new Uint8Array(e),n=window.crypto.getRandomValues(r);if(n)return n}return Array.from(new Array(e),function(){return Math.random()*255|0})}function qe(){var e=64,r=q(1),n=q(2);return r[0]&=191,n[0]&=15|e,[H(q(4)),"-",H(q(2)),"-",H(n),"-",H(r),H(q(1)),"-",H(q(6))].join("")}Y.generateUuid=qe;Y.default=qe;var Pt=y&&y.__extends||function(){var e=function(r,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,i){o.__proto__=i}||function(o,i){for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(o[t]=i[t])},e(r,n)};return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(r,n);function o(){this.constructor=r}r.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),oe=y&&y.__assign||function(){return oe=Object.assign||function(e){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},oe.apply(this,arguments)},Ot=y&&y.__spreadArray||function(e,r){for(var n=0,o=r.length,i=e.length;n<o;n++,i++)e[i]=r[n];return e},St=y&&y.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(U,"__esModule",{value:!0});U.unsubscribeActions=U.ActionSetWithChildren=U.ActionSet=void 0;var Et=le,ye=z,te=Z,It=k,Mt=St(Y),pe=F,Ke=function(){function e(r,n,o,i){var t=this;this.app=r,this.type=n,this.group=o,this.subgroups=[],this.subscriptions=[],r||te.throwError(te.Action.INVALID_ACTION,"Missing required `app`"),this.id=i||Mt.default(),this.defaultGroup=o;var u=this.set;this.set=function(){for(var d,l=[],a=0;a<arguments.length;a++)l[a]=arguments[a];return t.app.hooks?(d=t.app.hooks).run.apply(d,Ot([Et.LifecycleHook.UpdateAction,u,t],l)):u.apply(t,l)}}return e.prototype.set=function(){},Object.defineProperty(e.prototype,"component",{get:function(){return{id:this.id,subgroups:this.subgroups,type:this.type}},enumerable:!1,configurable:!0}),e.prototype.updateSubscription=function(r,n,o){var i=r.eventType,t=r.callback,u=r.component,d;return d=this.subscriptions.findIndex(function(l){return l===r}),d>=0?this.subscriptions[d].unsubscribe():d=void 0,this.group=n,this.subgroups=o,Object.assign(u,{subgroups:this.subgroups}),this.subscribe(i,t,u,d)},e.prototype.error=function(r){var n=this,o=[];return pe.forEachInEnum(te.Action,function(i){o.push(n.subscriptions.length),n.subscribe(i,r)}),function(){var i=o.map(function(t){return n.subscriptions[t]});i.forEach(function(t){ye.removeFromCollection(n.subscriptions,t,function(u){u.unsubscribe()})})}},e.prototype.subscribe=function(r,n,o,i){var t=this,u=o||this.component,d=r.toUpperCase(),l=typeof i=="number"?n:n.bind(this),a;te.isErrorEventName(r)?a=pe.getEventNameSpace(It.Group.Error,r,oe(oe({},u),{type:""})):a=pe.getEventNameSpace(this.group,r,u);var c=this.app.subscribe(a,l,o?o.id:this.id),s={eventType:d,unsubscribe:c,callback:l,component:u,updateSubscribe:function(g,v){return t.updateSubscription(s,g,v)}};return typeof i=="number"&&i>=0&&i<this.subscriptions.length?this.subscriptions[i]=s:this.subscriptions.push(s),c},e.prototype.unsubscribe=function(r){return r===void 0&&(r=!1),Pe(this.subscriptions,this.defaultGroup,r),this},e}();U.ActionSet=Ke;var wt=function(e){Pt(r,e);function r(){var n=e!==null&&e.apply(this,arguments)||this;return n.children=[],n}return r.prototype.unsubscribe=function(n,o){return n===void 0&&(n=!0),o===void 0&&(o=!1),Pe(this.subscriptions,this.defaultGroup,o),this.children.forEach(function(i){i instanceof r?i.unsubscribe(n,!n):i.unsubscribe(!n)}),this},r.prototype.getChild=function(n){var o=this.children.findIndex(function(i){return i.id===n});return o>=0?this.children[o]:void 0},r.prototype.getChildIndex=function(n){return this.children.findIndex(function(o){return o.id===n})},r.prototype.getChildSubscriptions=function(n,o){return this.subscriptions.filter(function(i){return i.component.id===n&&(!o||o===i.eventType)})},r.prototype.addChild=function(n,o,i){var t=this,u=n.subscriptions,d=this.getChild(n.id);return d||this.children.push(n),!u||o===n.group&&i===n.subgroups?this:(u.forEach(function(l){var a=l.updateSubscribe;a(o,i)}),Object.assign(n,{group:o,subgroups:i}),n instanceof r&&n.children.forEach(function(l){return t.addChild(l,o,i)}),this)},r.prototype.removeChild=function(n){var o=this;return ye.removeFromCollection(this.children,this.getChild(n),function(){var i=o.subscriptions.filter(function(t){return t.component.id===n});i.forEach(function(t){ye.removeFromCollection(o.subscriptions,t,function(u){u.unsubscribe()})})}),this},r.prototype.subscribeToChild=function(n,o,i){var t=this,u=i.bind(this);if(o instanceof Array)return o.forEach(function(c){return t.subscribeToChild(n,c,i)}),this;if(typeof o!="string")return this;var d=o.toUpperCase(),l=this.getChildSubscriptions(n.id,d);if(l.length>0)l.forEach(function(c){return c.updateSubscribe(t.group,n.subgroups)});else{var a={id:n.id,subgroups:n.subgroups,type:n.type};this.subscribe(d,u,a)}return this},r.prototype.getUpdatedChildActions=function(n,o){if(n.length===0){for(;o.length>0;){var i=o.pop();if(!i)break;this.removeChild(i.id)}return}for(var t=n.filter(function(l,a,c){return a===c.indexOf(l)}),u=t.map(function(l){return l.id}),d=o.filter(function(l){return u.indexOf(l.id)<0});d.length>0;){var i=d.pop();if(!i)break;this.removeChild(i.id)}return t},r}(Ke);U.ActionSetWithChildren=wt;function Pe(e,r,n){n===void 0&&(n=!1),e.forEach(function(o){if(n){var i=o.updateSubscribe;i(r,[])}else{var t=o.unsubscribe;t()}}),n||(e.length=0)}U.unsubscribeActions=Pe;(function(e){var r=y&&y.__extends||function(){var c=function(s,g){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,p){v.__proto__=p}||function(v,p){for(var f in p)Object.prototype.hasOwnProperty.call(p,f)&&(v[f]=p[f])},c(s,g)};return function(s,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");c(s,g);function v(){this.constructor=s}s.prototype=g===null?Object.create(g):(v.prototype=g.prototype,new v)}}(),n=y&&y.__assign||function(){return n=Object.assign||function(c){for(var s,g=1,v=arguments.length;g<v;g++){s=arguments[g];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(c[p]=s[p])}return c},n.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.Button=e.update=e.clickButton=e.Style=e.Icon=e.Action=void 0;var o=F,i=U,t=k,u;(function(c){c.CLICK="CLICK",c.UPDATE="UPDATE"})(u=e.Action||(e.Action={})),function(c){c.Print="print"}(e.Icon||(e.Icon={})),function(c){c.Danger="danger"}(e.Style||(e.Style={}));function d(c,s,g){var v=s.id,p=o.getEventNameSpace(c,u.CLICK,s),f={id:v,payload:g};return o.actionWrapper({type:p,group:c,payload:f})}e.clickButton=d;function l(c,s,g){var v=s.id,p=g.label,f=o.getEventNameSpace(c,u.UPDATE,s),b=n(n({},g),{id:v,label:p});return o.actionWrapper({type:f,group:c,payload:b})}e.update=l;var a=function(c){r(s,c);function s(g,v){var p=c.call(this,g,t.ComponentType.Button,t.Group.Button)||this;return p.disabled=!1,p.loading=!1,p.plain=!1,p.set(v,!1),p}return Object.defineProperty(s.prototype,"options",{get:function(){return{disabled:this.disabled,icon:this.icon,label:this.label,style:this.style,loading:this.loading,plain:this.plain}},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"payload",{get:function(){return n(n({},this.options),{id:this.id})},enumerable:!1,configurable:!0}),s.prototype.set=function(g,v){v===void 0&&(v=!0);var p=o.getMergedProps(this.options,g),f=p.label,b=p.disabled,O=p.icon,A=p.style,M=p.loading,w=p.plain;return this.label=f,this.disabled=!!b,this.icon=O,this.style=A,this.loading=!!M,this.plain=!!w,v&&this.dispatch(u.UPDATE),this},s.prototype.dispatch=function(g,v){switch(g){case u.CLICK:this.app.dispatch(d(this.group,this.component,v));break;case u.UPDATE:{var p=l(this.group,this.component,this.payload);this.app.dispatch(p);break}}return this},s}(i.ActionSet);e.Button=a})(me);Object.defineProperty(se,"__esModule",{value:!0});se.getSingleButton=void 0;var Tt=me;function jt(e,r,n,o){return e.addChild(r,e.group,n),e.subscribeToChild(r,Tt.Action.UPDATE,o),r.payload}se.getSingleButton=jt;(function(e){var r=y&&y.__extends||function(){var _=function(P,m){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,E){S.__proto__=E}||function(S,E){for(var I in E)Object.prototype.hasOwnProperty.call(E,I)&&(S[I]=E[I])},_(P,m)};return function(P,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");_(P,m);function S(){this.constructor=P}P.prototype=m===null?Object.create(m):(S.prototype=m.prototype,new S)}}(),n=y&&y.__assign||function(){return n=Object.assign||function(_){for(var P,m=1,S=arguments.length;m<S;m++){P=arguments[m];for(var E in P)Object.prototype.hasOwnProperty.call(P,E)&&(_[E]=P[E])}return _},n.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.ModalIframe=e.ModalMessage=e.Modal=e.isMessageModal=e.isIframeModal=e.data=e.update=e.clickFooterButton=e.updateModalSize=e.closeModal=e.openModal=e.Size=e.Action=void 0;var o=se,i=F,t=U,u=k,d=me,l;(function(_){_.OPEN="APP::MODAL::OPEN",_.CLOSE="APP::MODAL::CLOSE",_.UPDATE="APP::MODAL::UPDATE",_.UPDATE_CONTENT="APP::MODAL::CONTENT::UPDATE",_.FOOTER_BUTTON_CLICK="APP::MODAL::FOOTER::BUTTON::CLICK",_.FOOTER_BUTTON_UPDATE="APP::MODAL::FOOTER::BUTTON::UPDATE",_.UPDATE_SIZE="APP::MODAL::UPDATE_SIZE",_.DATA="APP::MODAL::DATA"})(l=e.Action||(e.Action={}));var a;(function(_){_.Small="small",_.Medium="medium",_.Large="large",_.Full="full",_.Auto="auto"})(a=e.Size||(e.Size={}));var c={group:u.Group.Modal,subgroups:["Footer"],type:u.ComponentType.Button};function s(_){return i.actionWrapper({group:u.Group.Modal,payload:_,type:l.OPEN})}e.openModal=s;function g(_){return i.actionWrapper({group:u.Group.Modal,payload:_,type:l.CLOSE})}e.closeModal=g;function v(_){return i.actionWrapper({group:u.Group.Modal,payload:_,type:l.UPDATE_SIZE})}e.updateModalSize=v;function p(_,P){var m=n({id:_},c);return d.clickButton(u.Group.Modal,m,P)}e.clickFooterButton=p;function f(_){return i.actionWrapper({payload:_,group:u.Group.Modal,type:l.UPDATE})}e.update=f;function b(_){return i.actionWrapper({payload:_,group:u.Group.Modal,type:l.DATA})}e.data=b;function O(_){return typeof _.url=="string"||typeof _.path=="string"}e.isIframeModal=O;function A(_){return typeof _.message=="string"}e.isMessageModal=A;var M=function(_){r(P,_);function P(){var m=_!==null&&_.apply(this,arguments)||this;return m.size=a.Small,m}return Object.defineProperty(P.prototype,"footer",{get:function(){if(!(!this.footerPrimary&&!this.footerSecondary))return{buttons:{primary:this.footerPrimary,secondary:this.footerSecondary}}},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"footerOptions",{get:function(){if(!(!this.footerPrimaryOptions&&!this.footerSecondaryOptions))return{buttons:{primary:this.footerPrimaryOptions,secondary:this.footerSecondaryOptions}}},enumerable:!1,configurable:!0}),P.prototype.close=function(){this.app.dispatch(g({id:this.id}))},P.prototype.setFooterPrimaryButton=function(m,S){var E=this,I=c.subgroups;this.footerPrimaryOptions=this.getChildButton(m,this.footerPrimaryOptions),this.footerPrimary=this.footerPrimaryOptions?o.getSingleButton(this,this.footerPrimaryOptions,I,function(C){E.updatePrimaryFooterButton(C,S)}):void 0},P.prototype.setFooterSecondaryButtons=function(m,S){var E=this,I=c.subgroups,C=m||[],N=this.footerOptions&&this.footerOptions.buttons.secondary||[];this.footerSecondaryOptions=this.getUpdatedChildActions(C,N),this.footerSecondary=this.footerSecondaryOptions?this.footerSecondaryOptions.map(function(X){return o.getSingleButton(E,X,I,function(J){E.updateSecondaryFooterButton(J,S)})}):void 0},P.prototype.getChildButton=function(m,S){var E=m?[m]:[],I=S?[S]:[],C=this.getUpdatedChildActions(E,I);return C?C[0]:void 0},P.prototype.updatePrimaryFooterButton=function(m,S){!this.footer||!this.footer.buttons.primary||i.updateActionFromPayload(this.footer.buttons.primary,m)&&S()},P.prototype.updateSecondaryFooterButton=function(m,S){if(!(!this.footer||!this.footer.buttons||!this.footer.buttons.secondary)){for(var E,I=0,C=this.footer.buttons.secondary;I<C.length;I++){var N=C[I];if(E=i.updateActionFromPayload(N,m),E)break}E&&S()}},P}(t.ActionSetWithChildren);e.Modal=M;var w=function(_){r(P,_);function P(m,S){var E=_.call(this,m,u.Group.Modal,u.Group.Modal)||this;return E.set(S,!1),E}return Object.defineProperty(P.prototype,"payload",{get:function(){return n(n({},this.options),{footer:this.footer,id:this.id})},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"options",{get:function(){return{footer:this.footerOptions,message:this.message,size:this.size,title:this.title}},enumerable:!1,configurable:!0}),P.prototype.set=function(m,S){var E=this;S===void 0&&(S=!0);var I=i.getMergedProps(this.options,m),C=I.title,N=I.footer,X=I.message,J=I.size;return this.title=C,this.message=X,this.size=J,this.setFooterPrimaryButton(N?N.buttons.primary:void 0,function(){E.dispatch(l.UPDATE)}),this.setFooterSecondaryButtons(N?N.buttons.secondary:void 0,function(){E.dispatch(l.UPDATE)}),S&&this.dispatch(l.UPDATE),this},P.prototype.dispatch=function(m){switch(m){case l.OPEN:this.app.dispatch(s(this.payload));break;case l.CLOSE:this.close();break;case l.UPDATE:this.app.dispatch(f(this.payload));break}return this},P}(M);e.ModalMessage=w;var G=function(_){r(P,_);function P(m,S){var E=_.call(this,m,u.Group.Modal,u.Group.Modal)||this;return E.set(S,!1),E}return Object.defineProperty(P.prototype,"payload",{get:function(){return n(n({},this.options),{footer:this.footer,id:this.id})},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"options",{get:function(){return{footer:this.footerOptions,path:this.path,size:this.size,title:this.title,url:this.url,loading:this.loading}},enumerable:!1,configurable:!0}),P.prototype.set=function(m,S){var E=this;S===void 0&&(S=!0);var I=i.getMergedProps(this.options,m),C=I.title,N=I.footer,X=I.path,J=I.url,lt=I.size,dt=I.loading;return this.title=C,this.url=J,this.path=X,this.size=lt,this.loading=dt,this.setFooterPrimaryButton(N?N.buttons.primary:void 0,function(){E.dispatch(l.UPDATE)}),this.setFooterSecondaryButtons(N?N.buttons.secondary:void 0,function(){E.dispatch(l.UPDATE)}),S&&this.dispatch(l.UPDATE),this},P.prototype.dispatch=function(m,S){switch(m){case l.OPEN:this.app.dispatch(s(this.payload));break;case l.CLOSE:this.close();break;case l.UPDATE:this.app.dispatch(f(this.payload));break;case l.DATA:this.app.dispatch(b(S||{}));break}return this},P}(M);e.ModalIframe=G})(ve);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.Modal=e.isMessageModal=e.data=e.update=e.clickFooterButton=e.updateModalSize=e.closeModal=e.openModal=e.Size=e.Action=e.isIframeModal=e.ModalMessage=e.ModalIframe=void 0;var r=ve;Object.defineProperty(e,"ModalIframe",{enumerable:!0,get:function(){return r.ModalIframe}}),Object.defineProperty(e,"ModalMessage",{enumerable:!0,get:function(){return r.ModalMessage}}),Object.defineProperty(e,"isIframeModal",{enumerable:!0,get:function(){return r.isIframeModal}});var n=ve;Object.defineProperty(e,"Action",{enumerable:!0,get:function(){return n.Action}}),Object.defineProperty(e,"Size",{enumerable:!0,get:function(){return n.Size}}),Object.defineProperty(e,"openModal",{enumerable:!0,get:function(){return n.openModal}}),Object.defineProperty(e,"closeModal",{enumerable:!0,get:function(){return n.closeModal}}),Object.defineProperty(e,"updateModalSize",{enumerable:!0,get:function(){return n.updateModalSize}}),Object.defineProperty(e,"clickFooterButton",{enumerable:!0,get:function(){return n.clickFooterButton}}),Object.defineProperty(e,"update",{enumerable:!0,get:function(){return n.update}}),Object.defineProperty(e,"data",{enumerable:!0,get:function(){return n.data}}),Object.defineProperty(e,"isMessageModal",{enumerable:!0,get:function(){return n.isMessageModal}}),Object.defineProperty(e,"Modal",{enumerable:!0,get:function(){return n.Modal}});var o=function(i,t){return r.isIframeModal(t)?new r.ModalIframe(i,t):new r.ModalMessage(i,t)};e.create=o})($e);var Ye={},Xe={},L={};Object.defineProperty(L,"__esModule",{value:!0});L.isPermitted=L.getPermissionKey=L.isPerformanceOrWebVitalsAction=L.isAppMessage=L.isAppBridgeAction=void 0;var Rt=le,re=$,Ct=F;function Nt(e){return e instanceof Object&&Object.prototype.hasOwnProperty.call(e,"type")&&e.type.toString().startsWith(re.PREFIX)}L.isAppBridgeAction=Nt;function Dt(e){if(typeof e!="object"||!e.data||typeof e.data!="object")return!1;var r=e.data;return Object.prototype.hasOwnProperty.call(r,"type")&&Ct.findMatchInEnum(Rt.MessageType,r.type)!==void 0}L.isAppMessage=Dt;function Lt(e){var r=e.type;return r.match(/^APP::(PERFORMANCE|WEB_VITALS)::/)}L.isPerformanceOrWebVitalsAction=Lt;function Je(e){return e.replace(new RegExp("^"+re.PREFIX+re.SEPARATOR+"\\w+"+re.SEPARATOR),"")}L.getPermissionKey=Je;function Bt(e,r,n){var o=r.group,i=r.type;if(!o||!Object.prototype.hasOwnProperty.call(e,o))return!1;var t=e[o];if(!t)return!1;var u=Je(i);return t[u]?t[u][n]===!0:!1}L.isPermitted=Bt;var ae={};(function(e){var r,n;Object.defineProperty(e,"__esModule",{value:!0}),e.isUnframed=e.isClient=e.isServer=void 0,e.isServer=typeof window>"u",e.isClient=!e.isServer,e.isUnframed=e.isClient&&((n=(r=window.navigator)===null||r===void 0?void 0:r.userAgent)===null||n===void 0?void 0:n.indexOf("Unframed"))>0})(ae);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createTransportListener=e.fromWindow=e.fromFrame=e.Context=void 0;var r=Z,n=L,o=le,i=z,t=ae;(function(c){c.Modal="Modal",c.Main="Main"})(e.Context||(e.Context={}));function u(c,s,g){var v=[],p=c.host,f=c.window;if(!p)throw r.fromAction("App frame is undefined",r.AppActionType.WINDOW_UNDEFINED);return t.isUnframed&&window.MobileWebView&&Object.assign(window.MobileWebView,{postMessageToIframe:function(b,O){f==null||f.postMessage(b,O),a(b)&&p.postMessage(JSON.stringify(b.payload),location.origin)},updateIframeUrl:function(b){var O=window.location,A=(c.window||{}).location;try{var M=new URL(b).origin;M===s&&A?A.replace(b):O.href=b}catch{}}}),p.addEventListener("message",function(b){if(!(b.source===p||!n.isAppMessage(b))){if(b.origin!==s){var O="Message origin '"+b.origin+"' does not match app origin '"+s+"'.",A=r.invalidOriginAction(O),M={type:"dispatch",payload:A};f==null||f.postMessage(M,b.origin);return}if(t.isUnframed&&window.MobileWebView){var A=JSON.stringify({id:"unframed://fromClient",origin:s,data:b.data});window.MobileWebView.postMessage(A);return}for(var w=0,G=v;w<G.length;w++){var _=G[w];_(b)}}}),{context:g,localOrigin:s,frameWindow:f,hostFrame:p,dispatch:function(b){f==null||f.postMessage(b,s)},subscribe:function(b){return i.addAndRemoveFromCollection(v,b)}}}e.fromFrame=u;function d(c,s){var g=[];return typeof window!==void 0&&window.addEventListener("message",function(v){if(!(window===c&&!t.isUnframed||v.source!==c||!(n.isAppBridgeAction(v.data.payload)||n.isAppMessage(v))))for(var p=0,f=g;p<f.length;p++){var b=f[p];b(v)}}),{localOrigin:s,hostFrame:c,dispatch:function(v){var p;if(!((p=v.source)===null||p===void 0)&&p.host){if(t.isUnframed&&window&&window.MobileWebView){var f=JSON.stringify({id:"unframed://fromClient",origin:s,data:v});window.MobileWebView.postMessage(f);return}var b=new URL("https://"+v.source.host).origin;c.postMessage(v,b)}},subscribe:function(v){return i.addAndRemoveFromCollection(g,v)}}}e.fromWindow=d;function l(){var c=[],s={};function g(v){function p(){if(arguments.length<2)return i.addAndRemoveFromCollection(c,{callback:arguments[0]});var f=Array.from(arguments),b=f[0],O=f[1],A=f[2],M={callback:O,id:A},w={type:b,id:A};return Object.prototype.hasOwnProperty.call(s,b)||(s[b]=[]),v&&v(o.MessageType.Subscribe,w),i.addAndRemoveFromCollection(s[b],M,function(){v&&v(o.MessageType.Unsubscribe,w)})}return p}return{createSubscribeHandler:g,handleMessage:function(v){c.forEach(function(p){return p.callback(v)})},handleActionDispatch:function(v){var p=v.type,f=v.payload,b=!1;if(Object.prototype.hasOwnProperty.call(s,p))for(var O=0,A=s[p];O<A.length;O++){var M=A[O],w=M.id,G=M.callback,_=f&&f.id===w;(_||!w)&&(G(f),b=!0)}return b}}}e.createTransportListener=l;function a(c){return c!==null&&typeof c=="object"&&!Array.isArray(c)&&c.type==="dispatch"&&typeof c.payload=="object"}})(Xe);(function(e){var r=y&&y.__createBinding||(Object.create?function(o,i,t,u){u===void 0&&(u=t),Object.defineProperty(o,u,{enumerable:!0,get:function(){return i[t]}})}:function(o,i,t,u){u===void 0&&(u=t),o[u]=i[t]}),n=y&&y.__exportStar||function(o,i){for(var t in o)t!=="default"&&!Object.prototype.hasOwnProperty.call(i,t)&&r(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),n(Xe,e)})(Ye);var D={},Qe={};(function(e){var r={};Object.defineProperty(e,"__esModule",{value:!0}),e.isDevelopmentClient=e.isProduction=e.isDevelopment=e.isUnframed=e.isServer=e.isClient=void 0;var n=ae,o=ae;Object.defineProperty(e,"isClient",{enumerable:!0,get:function(){return o.isClient}}),Object.defineProperty(e,"isServer",{enumerable:!0,get:function(){return o.isServer}}),Object.defineProperty(e,"isUnframed",{enumerable:!0,get:function(){return o.isUnframed}}),e.isDevelopment=typeof process<"u"&&r&&!1,e.isProduction=!e.isDevelopment,e.isDevelopmentClient=e.isDevelopment&&n.isClient})(Qe);Object.defineProperty(D,"__esModule",{value:!0});D.isShopifyPing=D.isShopifyPOS=D.isShopifyMobile=D.isShopifyEmbedded=D.isMobile=void 0;var je=Qe;function Ut(){return Ze()||xe()||et()}D.isMobile=Ut;function Ft(){return je.isClient&&window.top!==window.self||je.isUnframed}D.isShopifyEmbedded=Ft;function Ze(){return typeof navigator<"u"&&navigator.userAgent.indexOf("Shopify Mobile")>=0}D.isShopifyMobile=Ze;function xe(){return typeof navigator<"u"&&navigator.userAgent.indexOf("Shopify POS")>=0}D.isShopifyPOS=xe;function et(){return typeof navigator<"u"&&navigator.userAgent.indexOf("Shopify Ping")>=0}D.isShopifyPing=et;var kt=y&&y.__awaiter||function(e,r,n,o){function i(t){return t instanceof n?t:new n(function(u){u(t)})}return new(n||(n=Promise))(function(t,u){function d(c){try{a(o.next(c))}catch(s){u(s)}}function l(c){try{a(o.throw(c))}catch(s){u(s)}}function a(c){c.done?t(c.value):i(c.value).then(d,l)}a((o=o.apply(e,r||[])).next())})},Gt=y&&y.__generator||function(e,r){var n={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},o,i,t,u;return u={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function d(a){return function(c){return l([a,c])}}function l(a){if(o)throw new TypeError("Generator is already executing.");for(;n;)try{if(o=1,i&&(t=a[0]&2?i.return:a[0]?i.throw||((t=i.return)&&t.call(i),0):i.next)&&!(t=t.call(i,a[1])).done)return t;switch(i=0,t&&(a=[a[0]&2,t.value]),a[0]){case 0:case 1:t=a;break;case 4:return n.label++,{value:a[1],done:!1};case 5:n.label++,i=a[1],a=[0];continue;case 7:a=n.ops.pop(),n.trys.pop();continue;default:if(t=n.trys,!(t=t.length>0&&t[t.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!t||a[1]>t[0]&&a[1]<t[3])){n.label=a[1];break}if(a[0]===6&&n.label<t[1]){n.label=t[1],t=a;break}if(t&&n.label<t[2]){n.label=t[2],n.ops.push(a);break}t[2]&&n.ops.pop(),n.trys.pop();continue}a=r.call(e,n)}catch(c){a=[6,c],i=0}finally{o=t=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(K,"__esModule",{value:!0});K.createMutationObserver=K.setupModalAutoSizing=void 0;var Wt=$e,Vt=Ye,$t=D,ge="app-bridge-utils-modal-auto-size",ne=zt();function zt(){if(typeof document>"u")return null;var e=document.createElement("style");return e.type="text/css",e.innerHTML="."+ge+" { overflow: hidden; height: auto; min-height: auto; }",e}function Ht(e,r){if(!ne)return function(){};var n=document.getElementsByTagName("head")[0],o=document.body.classList;n.appendChild(ne),o.add(ge);var i=tt(e,r);return function(){o.remove(ge),n.contains(ne)&&n.removeChild(ne),i&&i.disconnect()}}function qt(e){return kt(this,void 0,void 0,function(){function r(){o&&(o(),o=void 0)}function n(i){var t=i.context,u=i.modal.id;return $t.isMobile()||t!==Vt.Context.Modal?(r(),r):(o||(o=Ht(e,u)),r)}var o;return Gt(this,function(i){switch(i.label){case 0:return[4,e.getState().then(n)];case 1:return i.sent(),[2,r]}})})}K.setupModalAutoSizing=qt;function tt(e,r){if(typeof document>"u")return;var n=-1,o,i={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0},t=new MutationObserver(u);t.observe(document,i),d();function u(){o&&window.clearTimeout(o),o=window.setTimeout(d,16)}function d(){var l=document.body.scrollHeight;l!==n&&(n=l,e.dispatch(Wt.updateModalSize({id:r,height:String(l)})))}return t}K.createMutationObserver=tt;var nt={},x={},rt={},it={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.respond=e.request=e.Action=void 0;var r=F,n=k,o;(function(u){u.REQUEST="APP::SESSION_TOKEN::REQUEST",u.RESPOND="APP::SESSION_TOKEN::RESPOND"})(o=e.Action||(e.Action={}));function i(){return r.actionWrapper({group:n.Group.SessionToken,type:o.REQUEST})}e.request=i;function t(u){return r.actionWrapper({payload:u,group:n.Group.SessionToken,type:o.RESPOND})}e.respond=t})(it);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.respond=e.request=e.Action=void 0;var r=it;Object.defineProperty(e,"Action",{enumerable:!0,get:function(){return r.Action}}),Object.defineProperty(e,"request",{enumerable:!0,get:function(){return r.request}}),Object.defineProperty(e,"respond",{enumerable:!0,get:function(){return r.respond}})})(rt);var Oe={},Se={};const Kt="@shopify/app-bridge",Yt="3.7.10",Xt={name:Kt,version:Yt};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getPackageName=e.getVersion=e.getMergedProps=e.updateActionFromPayload=e.isValidOptionalString=e.isValidOptionalNumber=e.NonSnakeCaseGroup=e.getEventNameSpace=e.forEachInEnum=e.findMatchInEnum=e.actionWrapper=void 0;var r=F;Object.defineProperty(e,"actionWrapper",{enumerable:!0,get:function(){return r.actionWrapper}}),Object.defineProperty(e,"findMatchInEnum",{enumerable:!0,get:function(){return r.findMatchInEnum}}),Object.defineProperty(e,"forEachInEnum",{enumerable:!0,get:function(){return r.forEachInEnum}}),Object.defineProperty(e,"getEventNameSpace",{enumerable:!0,get:function(){return r.getEventNameSpace}}),Object.defineProperty(e,"NonSnakeCaseGroup",{enumerable:!0,get:function(){return r.NonSnakeCaseGroup}}),Object.defineProperty(e,"isValidOptionalNumber",{enumerable:!0,get:function(){return r.isValidOptionalNumber}}),Object.defineProperty(e,"isValidOptionalString",{enumerable:!0,get:function(){return r.isValidOptionalString}}),Object.defineProperty(e,"updateActionFromPayload",{enumerable:!0,get:function(){return r.updateActionFromPayload}}),Object.defineProperty(e,"getMergedProps",{enumerable:!0,get:function(){return r.getMergedProps}});var n=Xt;function o(){return n.version}e.getVersion=o;function i(){return n.name}e.getPackageName=i})(Se);var Ee={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ComponentType=e.Group=void 0;var r=k;Object.defineProperty(e,"Group",{enumerable:!0,get:function(){return r.Group}}),Object.defineProperty(e,"ComponentType",{enumerable:!0,get:function(){return r.ComponentType}})})(Ee);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.networkAction=e.persistenceAction=e.unsupportedOperationAction=e.unexpectedAction=e.invalidAction=e.invalidActionType=e.invalidPayload=e.Message=e.fromAction=e.Action=e.permissionAction=e.isErrorEventName=e.throwError=e.invalidOriginAction=e.AppBridgeError=e.AppActionType=void 0;var r=Z;Object.defineProperty(e,"Action",{enumerable:!0,get:function(){return r.Action}}),Object.defineProperty(e,"fromAction",{enumerable:!0,get:function(){return r.fromAction}});var n=Se,o=Ee,i=Z;Object.defineProperty(e,"AppActionType",{enumerable:!0,get:function(){return i.AppActionType}}),Object.defineProperty(e,"AppBridgeError",{enumerable:!0,get:function(){return i.AppBridgeError}}),Object.defineProperty(e,"invalidOriginAction",{enumerable:!0,get:function(){return i.invalidOriginAction}}),Object.defineProperty(e,"throwError",{enumerable:!0,get:function(){return i.throwError}}),Object.defineProperty(e,"isErrorEventName",{enumerable:!0,get:function(){return i.isErrorEventName}}),Object.defineProperty(e,"permissionAction",{enumerable:!0,get:function(){return i.permissionAction}});function t(v,p,f){var b=p.payload;return n.actionWrapper({type:v,group:o.Group.Error,payload:{action:p,message:f,type:v,id:b&&b.id?b.id:void 0}})}(function(v){v.MISSING_PAYLOAD="Missing payload",v.INVALID_PAYLOAD_ID="Id in payload is missing or invalid"})(e.Message||(e.Message={}));function u(v,p){return t(r.Action.INVALID_PAYLOAD,v,p||"The action's payload is missing required properties or has invalid properties")}e.invalidPayload=u;function d(v,p){return n.actionWrapper({group:o.Group.Error,payload:{action:v,message:p||"The action type is invalid or unsupported",type:r.Action.INVALID_ACTION_TYPE},type:r.Action.INVALID_ACTION_TYPE})}e.invalidActionType=d;function l(v,p){return n.actionWrapper({group:o.Group.Error,payload:{action:v,message:p||"The action's has missing/invalid values for `group`, `type` or `version`",type:r.Action.INVALID_ACTION},type:r.Action.INVALID_ACTION})}e.invalidAction=l;function a(v,p){return n.actionWrapper({group:o.Group.Error,payload:{action:v,message:p||"Action cannot be called at this time",type:r.Action.UNEXPECTED_ACTION},type:r.Action.UNEXPECTED_ACTION})}e.unexpectedAction=a;function c(v,p){return t(r.Action.UNSUPPORTED_OPERATION,v,p||"The action type is unsupported")}e.unsupportedOperationAction=c;function s(v,p){return t(r.Action.PERSISTENCE,v,p||"Action cannot be persisted on server")}e.persistenceAction=s;function g(v,p){return t(r.Action.NETWORK,v,p||"Network error")}e.networkAction=g})(Oe);var Jt=y&&y.__createBinding||(Object.create?function(e,r,n,o){o===void 0&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return r[n]}})}:function(e,r,n,o){o===void 0&&(o=n),e[o]=r[n]}),Qt=y&&y.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),Zt=y&&y.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&Jt(r,e,n);return Qt(r,e),r},xt=y&&y.__awaiter||function(e,r,n,o){function i(t){return t instanceof n?t:new n(function(u){u(t)})}return new(n||(n=Promise))(function(t,u){function d(c){try{a(o.next(c))}catch(s){u(s)}}function l(c){try{a(o.throw(c))}catch(s){u(s)}}function a(c){c.done?t(c.value):i(c.value).then(d,l)}a((o=o.apply(e,r||[])).next())})},en=y&&y.__generator||function(e,r){var n={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},o,i,t,u;return u={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function d(a){return function(c){return l([a,c])}}function l(a){if(o)throw new TypeError("Generator is already executing.");for(;n;)try{if(o=1,i&&(t=a[0]&2?i.return:a[0]?i.throw||((t=i.return)&&t.call(i),0):i.next)&&!(t=t.call(i,a[1])).done)return t;switch(i=0,t&&(a=[a[0]&2,t.value]),a[0]){case 0:case 1:t=a;break;case 4:return n.label++,{value:a[1],done:!1};case 5:n.label++,i=a[1],a=[0];continue;case 7:a=n.ops.pop(),n.trys.pop();continue;default:if(t=n.trys,!(t=t.length>0&&t[t.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!t||a[1]>t[0]&&a[1]<t[3])){n.label=a[1];break}if(a[0]===6&&n.label<t[1]){n.label=t[1],t=a;break}if(t&&n.label<t[2]){n.label=t[2],n.ops.push(a);break}t[2]&&n.ops.pop(),n.trys.pop();continue}a=r.call(e,n)}catch(c){a=[6,c],i=0}finally{o=t=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(x,"__esModule",{value:!0});x.getSessionToken=void 0;var Re=Zt(rt),Ce=Oe;function tn(e){return xt(this,void 0,void 0,function(){return en(this,function(r){return[2,new Promise(function(n,o){var i=e.subscribe(Re.Action.RESPOND,function(t){var u=t.sessionToken;u?n(u):o(Ce.fromAction("Failed to retrieve a session token",Ce.Action.FAILED_AUTHENTICATION)),i()});e.dispatch(Re.request())})]})})}x.getSessionToken=tn;var de={},ue=y&&y.__assign||function(){return ue=Object.assign||function(e){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},ue.apply(this,arguments)},nn=y&&y.__awaiter||function(e,r,n,o){function i(t){return t instanceof n?t:new n(function(u){u(t)})}return new(n||(n=Promise))(function(t,u){function d(c){try{a(o.next(c))}catch(s){u(s)}}function l(c){try{a(o.throw(c))}catch(s){u(s)}}function a(c){c.done?t(c.value):i(c.value).then(d,l)}a((o=o.apply(e,r||[])).next())})},rn=y&&y.__generator||function(e,r){var n={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},o,i,t,u;return u={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function d(a){return function(c){return l([a,c])}}function l(a){if(o)throw new TypeError("Generator is already executing.");for(;n;)try{if(o=1,i&&(t=a[0]&2?i.return:a[0]?i.throw||((t=i.return)&&t.call(i),0):i.next)&&!(t=t.call(i,a[1])).done)return t;switch(i=0,t&&(a=[a[0]&2,t.value]),a[0]){case 0:case 1:t=a;break;case 4:return n.label++,{value:a[1],done:!1};case 5:n.label++,i=a[1],a=[0];continue;case 7:a=n.ops.pop(),n.trys.pop();continue;default:if(t=n.trys,!(t=t.length>0&&t[t.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!t||a[1]>t[0]&&a[1]<t[3])){n.label=a[1];break}if(a[0]===6&&n.label<t[1]){n.label=t[1],t=a;break}if(t&&n.label<t[2]){n.label=t[2],n.ops.push(a);break}t[2]&&n.ops.pop(),n.trys.pop();continue}a=r.call(e,n)}catch(c){a=[6,c],i=0}finally{o=t=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(de,"__esModule",{value:!0});de.authenticatedFetch=void 0;var on=x;function an(e,r){var n=this;return r===void 0&&(r=fetch),function(o,i){return i===void 0&&(i={}),nn(n,void 0,void 0,function(){var t,u,d;return rn(this,function(l){switch(l.label){case 0:return[4,on.getSessionToken(e)];case 1:return t=l.sent(),u=new Headers(i.headers),u.append("Authorization","Bearer "+t),u.append("X-Requested-With","XMLHttpRequest"),d={},u.forEach(function(a,c){d[c]=a}),[2,r(o,ue(ue({},i),{headers:d}))]}})})}}de.authenticatedFetch=an;(function(e){var r=y&&y.__createBinding||(Object.create?function(o,i,t,u){u===void 0&&(u=t),Object.defineProperty(o,u,{enumerable:!0,get:function(){return i[t]}})}:function(o,i,t,u){u===void 0&&(u=t),o[u]=i[t]}),n=y&&y.__exportStar||function(o,i){for(var t in o)t!=="default"&&!Object.prototype.hasOwnProperty.call(i,t)&&r(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),n(x,e),n(de,e)})(nt);var ot={},ee={},at={},be={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.respond=e.Action=void 0;var r=F,n=k,o;(function(t){t.REQUEST="APP::AUTH_CODE::REQUEST",t.RESPOND="APP::AUTH_CODE::RESPOND"})(o=e.Action||(e.Action={}));function i(t){return r.actionWrapper({payload:t,group:n.Group.AuthCode,type:o.RESPOND})}e.respond=i})(be);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.request=e.Action=e.respond=void 0;var r=be;Object.defineProperty(e,"Action",{enumerable:!0,get:function(){return r.Action}});var n=Se,o=Ee,i=be;Object.defineProperty(e,"respond",{enumerable:!0,get:function(){return i.respond}});function t(u){return n.actionWrapper({group:o.Group.AuthCode,type:r.Action.REQUEST,payload:{id:u}})}e.request=t})(at);var ut={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.generateUuid=void 0;var r=Y;Object.defineProperty(e,"generateUuid",{enumerable:!0,get:function(){return r.generateUuid}}),e.default=r.generateUuid})(ut);var un=y&&y.__createBinding||(Object.create?function(e,r,n,o){o===void 0&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return r[n]}})}:function(e,r,n,o){o===void 0&&(o=n),e[o]=r[n]}),cn=y&&y.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),sn=y&&y.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&un(r,e,n);return cn(r,e),r},ln=y&&y.__awaiter||function(e,r,n,o){function i(t){return t instanceof n?t:new n(function(u){u(t)})}return new(n||(n=Promise))(function(t,u){function d(c){try{a(o.next(c))}catch(s){u(s)}}function l(c){try{a(o.throw(c))}catch(s){u(s)}}function a(c){c.done?t(c.value):i(c.value).then(d,l)}a((o=o.apply(e,r||[])).next())})},dn=y&&y.__generator||function(e,r){var n={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},o,i,t,u;return u={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function d(a){return function(c){return l([a,c])}}function l(a){if(o)throw new TypeError("Generator is already executing.");for(;n;)try{if(o=1,i&&(t=a[0]&2?i.return:a[0]?i.throw||((t=i.return)&&t.call(i),0):i.next)&&!(t=t.call(i,a[1])).done)return t;switch(i=0,t&&(a=[a[0]&2,t.value]),a[0]){case 0:case 1:t=a;break;case 4:return n.label++,{value:a[1],done:!1};case 5:n.label++,i=a[1],a=[0];continue;case 7:a=n.ops.pop(),n.trys.pop();continue;default:if(t=n.trys,!(t=t.length>0&&t[t.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!t||a[1]>t[0]&&a[1]<t[3])){n.label=a[1];break}if(a[0]===6&&n.label<t[1]){n.label=t[1],t=a;break}if(t&&n.label<t[2]){n.label=t[2],n.ops.push(a);break}t[2]&&n.ops.pop(),n.trys.pop();continue}a=r.call(e,n)}catch(c){a=[6,c],i=0}finally{o=t=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},fn=y&&y.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ee,"__esModule",{value:!0});ee.getAuthorizationCodePayload=void 0;var Ne=sn(at),De=Oe,pn=fn(ut);function hn(e){return ln(this,void 0,void 0,function(){return dn(this,function(r){return[2,new Promise(function(n,o){var i=pn.default(),t=e.subscribe(Ne.Action.RESPOND,function(u){switch(u==null?void 0:u.status){case"needsExchange":n(u);break;default:o(De.fromAction("Failed to retrieve an authorization code",De.Action.FAILED_AUTHENTICATION))}t()},i);e.dispatch(Ne.request(i))})]})})}ee.getAuthorizationCodePayload=hn;var fe={},vn=y&&y.__awaiter||function(e,r,n,o){function i(t){return t instanceof n?t:new n(function(u){u(t)})}return new(n||(n=Promise))(function(t,u){function d(c){try{a(o.next(c))}catch(s){u(s)}}function l(c){try{a(o.throw(c))}catch(s){u(s)}}function a(c){c.done?t(c.value):i(c.value).then(d,l)}a((o=o.apply(e,r||[])).next())})},yn=y&&y.__generator||function(e,r){var n={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},o,i,t,u;return u={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function d(a){return function(c){return l([a,c])}}function l(a){if(o)throw new TypeError("Generator is already executing.");for(;n;)try{if(o=1,i&&(t=a[0]&2?i.return:a[0]?i.throw||((t=i.return)&&t.call(i),0):i.next)&&!(t=t.call(i,a[1])).done)return t;switch(i=0,t&&(a=[a[0]&2,t.value]),a[0]){case 0:case 1:t=a;break;case 4:return n.label++,{value:a[1],done:!1};case 5:n.label++,i=a[1],a=[0];continue;case 7:a=n.ops.pop(),n.trys.pop();continue;default:if(t=n.trys,!(t=t.length>0&&t[t.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!t||a[1]>t[0]&&a[1]<t[3])){n.label=a[1];break}if(a[0]===6&&n.label<t[1]){n.label=t[1],t=a;break}if(t&&n.label<t[2]){n.label=t[2],n.ops.push(a);break}t[2]&&n.ops.pop(),n.trys.pop();continue}a=r.call(e,n)}catch(c){a=[6,c],i=0}finally{o=t=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(fe,"__esModule",{value:!0});fe.userAuthorizedFetch=void 0;var gn=ee,bn="auth/shopify/callback";function _n(e){var r=e.headers.get("X-Shopify-API-Request-Failure-Unauthorized");return r?r.toLowerCase()==="true":!1}function mn(e){var r=this,n=e.app,o=e.callbackUri,i=o===void 0?bn:o,t=e.isAuthorizationCodeRequired,u=t===void 0?_n:t,d=e.fetchOperation;return function(l,a){return vn(r,void 0,void 0,function(){var c,s,g,v,p,f,b,O;return yn(this,function(A){switch(A.label){case 0:return[4,d(l,a)];case 1:return c=A.sent(),u(c)?[4,gn.getAuthorizationCodePayload(n)]:[2,c];case 2:return s=A.sent(),g=s.code,v=s.hmac,p=s.shop,f=s.timestamp,b=encodeURI("https://"+window.location.hostname+"/"+i+"?code="+g+"&hmac="+v+"&shop="+p+"&timestamp="+f),[4,d(b,{})];case 3:if(O=A.sent(),!O.ok)throw new Error("Failed to authorize request.");return[2,d(l,a)]}})})}}fe.userAuthorizedFetch=mn;(function(e){var r=y&&y.__createBinding||(Object.create?function(o,i,t,u){u===void 0&&(u=t),Object.defineProperty(o,u,{enumerable:!0,get:function(){return i[t]}})}:function(o,i,t,u){u===void 0&&(u=t),o[u]=i[t]}),n=y&&y.__exportStar||function(o,i){for(var t in o)t!=="default"&&!Object.prototype.hasOwnProperty.call(i,t)&&r(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),n(ee,e),n(fe,e)})(ot);(function(e){var r=y&&y.__createBinding||(Object.create?function(o,i,t,u){u===void 0&&(u=t),Object.defineProperty(o,u,{enumerable:!0,get:function(){return i[t]}})}:function(o,i,t,u){u===void 0&&(u=t),o[u]=i[t]}),n=y&&y.__exportStar||function(o,i){for(var t in o)t!=="default"&&!Object.prototype.hasOwnProperty.call(i,t)&&r(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),n(K,e),n(D,e),n(nt,e),n(ot,e)})(Ve);(function(e){var r=y&&y.__createBinding||(Object.create?function(o,i,t,u){u===void 0&&(u=t),Object.defineProperty(o,u,{enumerable:!0,get:function(){return i[t]}})}:function(o,i,t,u){u===void 0&&(u=t),o[u]=i[t]}),n=y&&y.__exportStar||function(o,i){for(var t in o)t!=="default"&&!Object.prototype.hasOwnProperty.call(i,t)&&r(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),n(Ve,e)})(We);const Le=window.__SHOPIFY_APP_BRIDGE__;function ct(){const e=new URLSearchParams(window.location.search),r=e.get("shop")||void 0,n=e.get("id_token")||void 0;return async function(i,{method:t="GET",params:u,body:d,headers:l}={}){const a=new URLSearchParams({...u||{},...r?{shop:r}:{}}).toString(),c=`${i}${a?(i.includes("?")?"&":"?")+a:""}`;let s={};if(Le)try{s={Authorization:`Bearer ${await We.getSessionToken(Le)}`}}catch(p){console.warn("[API] Failed to get session token:",p)}const g=await fetch(c,{method:t,headers:{...t!=="GET"&&{"Content-Type":"application/json"},...n?{Authorization:`Bearer ${n}`}:s,...l},body:t!=="GET"&&d?JSON.stringify(d):void 0});if(!g.ok)throw new Error(await g.text().catch(()=>"Request failed"));return(g.headers.get("content-type")||"").includes("application/json")?g.json():g.text()}}async function An(e,r={}){return ct()(e,r)}async function Pn(e,r,n={}){return ct()(e,{method:"POST",body:r,...n})}const On=(e,r="")=>{try{return new URLSearchParams(window.location.search).get(e)||r}catch{return r}};function Sn(){const e=On("shop","");return{api:j.useMemo(()=>async(n,o={})=>{const i=new URL(n,window.location.origin);return!i.searchParams.has("shop")&&e&&i.searchParams.set("shop",e),o.method==="POST"||o.body?Pn(i.pathname+i.search,o.body||{},o):An(i.pathname+i.search,o)},[e]),shop:e}}const he=["en","de","es","fr"],Be={en:"🇬🇧",de:"🇩🇪",es:"🇪🇸",fr:"🇫🇷"},Ue={en:"English",de:"Deutsch",es:"Español",fr:"Français"};function En({lang:e="en",setLang:r,t:n}){const[o,i]=j.useState(!1);j.useEffect(()=>{if(!he.includes(e)){try{localStorage.setItem("app_lang","en")}catch{}typeof r=="function"&&r("en")}},[e,r]);const t=he.includes(e)?e:"en",u=h.jsx(vt,{onClick:()=>i(l=>!l),disclosure:!0,children:h.jsxs(ce,{gap:"200",blockAlign:"center",children:[h.jsx("span",{"aria-hidden":!0,children:Be[t]}),h.jsx(T,{as:"span",variant:"bodyMd",children:Ue[t]})]})}),d=j.useMemo(()=>he.map(l=>({content:`${Be[l]} ${Ue[l]}`,active:l===t,onAction:()=>{try{localStorage.setItem("app_lang",l)}catch{}typeof r=="function"&&r(l),i(!1)}})),[t,r]);return h.jsx(pt,{active:o,activator:u,onClose:()=>i(!1),autofocusTarget:"first-node",children:h.jsx(ht,{items:d})})}function In({sectionTitle:e,lang:r,setLang:n,t:o}){return h.jsx(R,{padding:"400",borderBlockEndWidth:"025",borderColor:"border",background:"bg",children:h.jsxs(ce,{align:"space-between",blockAlign:"center",children:[h.jsx(T,{as:"h1",variant:"headingLg",children:e}),h.jsx(En,{lang:r,setLang:n,t:o})]})})}const Fe="en",_e={en:()=>B(()=>import("./en-DY--Skhq-1758836149997.js"),[]),de:()=>B(()=>import("./de-BYtsvH6H-1758836149997.js"),[]),es:()=>B(()=>import("./es-Cshzw9pa-1758836149997.js"),[]),fr:()=>B(()=>import("./fr-DGTXCiho-1758836149997.js"),[])},st=Object.keys(_e);function Mn(){try{const e=localStorage.getItem("app_lang");return st.includes(e)?e:null}catch{return null}}function wn(e){try{localStorage.setItem("app_lang",e)}catch{}}function Tn(){const[e,r]=j.useState(()=>Mn()||Fe),[n,o]=j.useState({});j.useEffect(()=>{let t=!1;async function u(){const l=await(_e[e]||_e[Fe])();t||o(l.default||l)}return u(),wn(e),()=>{t=!0}},[e]);const i=j.useMemo(()=>(t,u="")=>{const d=t==null?void 0:t.split(".").reduce((l,a)=>l&&l[a]!==void 0?l[a]:void 0,n);return d!=null?String(d):u||t},[n]);return{lang:e,setLang:r,t:i,dict:n,langs:st}}const jn=W.lazy(()=>B(()=>import("./BulkEdit-CQNbOxd8-1758836149997.js"),__vite__mapDeps([0,1,2,3,4]))),Rn=W.lazy(()=>B(()=>import("./Collections-DUI4ib_A-1758836149997.js"),__vite__mapDeps([5,1,2,6,3,4]))),Cn=W.lazy(()=>B(()=>import("./Sitemap-CSIL6JD1-1758836149997.js"),__vite__mapDeps([7,1,2,6,4]))),Nn=W.lazy(()=>B(()=>import("./StoreMetadata-CI4T4iOH-1758836149997.js"),__vite__mapDeps([8,1,2,6,4]))),Dn=W.lazy(()=>B(()=>import("./SchemaData-Ds-YpYAW-1758836149997.js"),__vite__mapDeps([9,1,2,6,4]))),Ln=W.lazy(()=>B(()=>import("./Settings-Bczut1Bf-1758836149997.js"),__vite__mapDeps([10,1,2,6,4]))),Bn={Polaris:{ResourceList:{sortingLabel:"Sort by"}}},Ie=(e,r="")=>{try{return new URLSearchParams(window.location.search).get(e)||r}catch{return r}};function Un(){const[e,r]=j.useState(window.location.pathname);return j.useEffect(()=>{const n=()=>r(window.location.pathname);return window.addEventListener("popstate",n),()=>window.removeEventListener("popstate",n)},[]),{path:e}}function Fn({active:e,shop:r}){e==="/"||e.startsWith("/dashboard"),e.startsWith("/ai-seo"),e.startsWith("/billing"),e.startsWith("/settings");const o=new URLSearchParams(window.location.search).get("host"),i=new URLSearchParams;r&&i.set("shop",r),o&&i.set("host",o);const t=i.toString()?`?${i.toString()}`:"";return h.jsxs("ui-nav-menu",{children:[h.jsx("a",{href:`/${t}`,rel:"home",children:"Home"}),h.jsx("a",{href:`/dashboard${t}`,children:"Dashboard"}),h.jsx("a",{href:`/ai-seo${t}`,children:"Search Optimization for AI"}),h.jsx("a",{href:`/billing${t}`,children:"Billing"}),h.jsx("a",{href:`/settings${t}`,children:"Settings"})]})}const kn=W.memo(({shop:e})=>{var t;const[r,n]=j.useState(null),{api:o}=Sn(),i=e||Ie("shop","");return j.useEffect(()=>{i&&o("/plans/me",{shop:i}).then(u=>{u&&!u.error&&n(u)}).catch(u=>console.error("Failed to load plan:",u))},[i,o]),j.useEffect(()=>{i&&o("/collections/check-definitions",{shop:i}).then(u=>{const d=(u.definitions||[]).map(c=>c.key),a=["en","bg","fr"].filter(c=>!d.includes(`seo__${c}`));if(a.length>0)return o("/collections/create-definitions",{method:"POST",shop:i,body:{shop:i,languages:a}})}).catch(u=>console.error("Definitions error:",u))},[i,o]),r?h.jsx(Q,{title:"Dashboard",children:h.jsxs(R,{padding:"400",children:[h.jsxs(ce,{gap:"800",wrap:!1,children:[h.jsxs(R,{children:[h.jsx(T,{variant:"headingMd",as:"h3",children:"Current plan"}),h.jsx(T,{children:r.plan||"Free"})]}),h.jsxs(R,{children:[h.jsx(T,{variant:"headingMd",as:"h3",children:"Shop"}),h.jsx(T,{children:r.shop||"â€”"})]}),h.jsxs(R,{children:[h.jsx(T,{variant:"headingMd",as:"h3",children:"AI queries"}),h.jsxs(T,{children:[r.ai_queries_used||0," / ",r.ai_queries_limit||0]})]}),h.jsxs(R,{children:[h.jsx(T,{variant:"headingMd",as:"h3",children:"Product limit"}),h.jsx(T,{children:r.product_limit||0})]})]}),h.jsxs(R,{paddingBlockStart:"400",children:[h.jsx(T,{variant:"headingMd",as:"h3",children:"Allowed AI providers"}),h.jsx(T,{children:((t=r.providersAllowed)==null?void 0:t.join(", "))||"None"})]}),r.trial_ends_at&&h.jsxs(R,{paddingBlockStart:"400",children:[h.jsx(T,{variant:"headingMd",as:"h3",children:"Trial ends at"}),h.jsx(T,{children:new Date(r.trial_ends_at).toLocaleDateString()})]})]})}):h.jsx(Q,{children:h.jsx(R,{padding:"400",children:h.jsx(T,{children:"Loading plan info..."})})})}),Gn=W.memo(()=>{const e=Ie("shop",""),r=window.location.pathname,o=r==="/ai-seo"||r==="/ai-seo/products"?"products":r==="/ai-seo/collections"?"collections":r==="/ai-seo/sitemap"?"sitemap":r==="/ai-seo/store-metadata"?"store-metadata":r==="/ai-seo/schema-data"?"schema-data":"products",i=t=>{const u=new URLSearchParams(window.location.search),d=u.toString()?`?${u.toString()}`:"";return t==="products"?`/ai-seo${d}`:`/ai-seo/${t}${d}`};return h.jsxs("div",{children:[h.jsx(R,{paddingBlockEnd:"400",children:h.jsx(Q,{children:h.jsx(R,{padding:"200",children:h.jsxs(ce,{gap:"100",children:[h.jsx("a",{href:i("products"),style:{padding:"8px 16px",borderRadius:"4px",backgroundColor:o==="products"?"#008060":"#f6f6f7",color:o==="products"?"white":"#202223",textDecoration:"none",display:"inline-block"},children:"Products"}),h.jsx("a",{href:i("collections"),style:{padding:"8px 16px",borderRadius:"4px",backgroundColor:o==="collections"?"#008060":"#f6f6f7",color:o==="collections"?"white":"#202223",textDecoration:"none",display:"inline-block"},children:"Collections"}),h.jsx("a",{href:i("sitemap"),style:{padding:"8px 16px",borderRadius:"4px",backgroundColor:o==="sitemap"?"#008060":"#f6f6f7",color:o==="sitemap"?"white":"#202223",textDecoration:"none",display:"inline-block"},children:"Sitemap"}),h.jsx("a",{href:i("store-metadata"),style:{padding:"8px 16px",borderRadius:"4px",backgroundColor:o==="store-metadata"?"#008060":"#f6f6f7",color:o==="store-metadata"?"white":"#202223",textDecoration:"none",display:"inline-block"},children:"Store metadata"}),h.jsx("a",{href:i("schema-data"),style:{padding:"8px 16px",borderRadius:"4px",backgroundColor:o==="schema-data"?"#008060":"#f6f6f7",color:o==="schema-data"?"white":"#202223",textDecoration:"none",display:"inline-block"},children:"Schema Data"})]})})})}),h.jsxs("div",{children:[o==="products"&&h.jsx(jn,{shop:e}),o==="collections"&&h.jsx(Rn,{shop:e}),o==="sitemap"&&h.jsx(Cn,{shop:e}),o==="store-metadata"&&h.jsx(Nn,{shop:e}),o==="schema-data"&&h.jsx(Dn,{shop:e})]})]})});function Wn(){const{path:e}=Un(),{lang:r,setLang:n,t:o}=Tn(),i=!!new URLSearchParams(window.location.search).get("host"),t=Ie("shop",""),u=j.useMemo(()=>e.startsWith("/ai-seo")?"Search Optimization for AI":e.startsWith("/billing")?"Billing":e.startsWith("/settings")?"Settings":"Dashboard",[e]),d=()=>e==="/"||e==="/dashboard"?h.jsx(kn,{shop:t}):e.startsWith("/ai-seo")?h.jsx(Gn,{shop:t}):e==="/billing"?h.jsx(Q,{children:h.jsx(R,{padding:"400",children:h.jsx(T,{children:"Billing page"})})}):e==="/settings"?h.jsx(Ln,{shop:t}):h.jsx(Q,{children:h.jsxs(R,{padding:"400",children:[h.jsx(T,{variant:"headingMd",children:"Page not found"}),h.jsx(R,{paddingBlockStart:"200",children:h.jsxs(T,{children:['The page "',e,'" does not exist.']})})]})});return h.jsxs(yt,{i18n:Bn,children:[i&&h.jsx(Fn,{active:e,shop:t}),h.jsx(gt,{children:h.jsxs(bt,{children:[h.jsx(In,{sectionTitle:u,lang:r,setLang:n,t:o,shop:t}),d()]})})]})}const Me=new URLSearchParams(window.location.search),ie=Me.get("host"),V=Me.get("shop"),ke=Me.get("embedded")==="1";console.log("[MAIN] Public App - Host:",ie,"Shop:",V);console.log("[MAIN] Full URL:",window.location.href);function Vn(){const[e,r]=j.useState(!1),n=j.useMemo(()=>(console.log("[MAIN] Checking for API key..."),console.log("[MAIN] window.__SHOPIFY_API_KEY:",window.__SHOPIFY_API_KEY),console.log("[MAIN] import.meta.env.VITE_SHOPIFY_API_KEY:","2749a2f6d38ff5796ed256b5c9dc70a1"),window.__SHOPIFY_API_KEY?(console.log("[MAIN] Using injected API key:",window.__SHOPIFY_API_KEY),window.__SHOPIFY_API_KEY):(console.log("[MAIN] Using env API key:","2749a2f6d38ff5796ed256b5c9dc70a1"),"2749a2f6d38ff5796ed256b5c9dc70a1")),[]);return j.useEffect(()=>{setTimeout(()=>r(!0),100)},[]),!ke||!ie||!V?(console.log("[MAIN] Not embedded or missing params"),h.jsxs("div",{style:{padding:"20px",textAlign:"center"},children:[h.jsx("h1",{children:"Error: App must be loaded from Shopify Admin"}),h.jsxs("p",{children:["Shop: ",V||"Missing"]}),h.jsxs("p",{children:["Host: ",ie||"Missing"]}),h.jsxs("p",{children:["Embedded: ",ke?"Yes":"No"]}),h.jsx("a",{href:`https://admin.shopify.com/store/${V==null?void 0:V.replace(".myshopify.com","")}/apps`,children:"Go to Shopify Admin"})]})):n?(console.log("[MAIN] App config:",{apiKey:n?"SET":"MISSING",host:ie?"SET":"MISSING",shop:V?"SET":"MISSING"}),e?h.jsx(Wn,{}):h.jsx("div",{children:"Loading..."})):h.jsxs("div",{style:{padding:"20px",textAlign:"center"},children:[h.jsx("h1",{children:"Configuration Error"}),h.jsx("p",{children:"Shopify API key is not configured."}),h.jsx("p",{children:"Please contact support."})]})}Ge(document.getElementById("root")).render(h.jsx(Vn,{}));export{Sn as u};
