import{j as e}from"./app-bridge-CsmRklsU-1758976903201.js";import{r as l}from"./react-vendor-tAaa2TlE-1758976903201.js";import{m as ve}from"./sessionFetch-BeujoHhM-1758976903201.js";import{C as v,a as i,T as n,I as g,s as he,d as h,g as I,h as f,D as pe,f as B,B as m,n as Ce,v as Pe,M as u,e as Te,k as Me}from"./polaris-Da2Gr_2A-1758976903201.js";const Ge=(P,L="")=>{try{return new URLSearchParams(window.location.search).get(P)||L}catch{return L}},C=P=>(P||"starter").toLowerCase().replace(" ","_");function ke(){var le,ie;const P=(s,a=null)=>{console.log(`[SETTINGS DEBUG] ${s}`,a||"")},[L,W]=l.useState(!0),[ue,_]=l.useState(!1),[t,U]=l.useState(null),[Y,k]=l.useState(""),[H,N]=l.useState(!1),[V,d]=l.useState(""),[ge,X]=l.useState(!1),[Z,O]=l.useState(!1),[K,$]=l.useState(!1),[ee,R]=l.useState(!1),[xe,me]=l.useState(""),[se,G]=l.useState(null),[te,ae]=l.useState(!1),[T,q]=l.useState(null),x=l.useMemo(()=>ve(),[]),be=async(s,a)=>{var c,p;console.log("[DEBUG] runGQL called with query:",s),console.log("[DEBUG] runGQL variables:",a);const o=await x("/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:s,variables:a})});if(console.log("[DEBUG] runGQL response:",o),(c=o==null?void 0:o.errors)!=null&&c.length)throw console.error("[DEBUG] GraphQL errors:",o.errors),new Error(((p=o.errors[0])==null?void 0:p.message)||"GraphQL error");return o==null?void 0:o.data},[oe,je]=l.useState(!1),[Ee,De]=l.useState(!1),[Ie,Be]=l.useState(""),[Le,fe]=l.useState({enabled:!1,generating:!1,generated:!1,progress:""}),[E,j]=l.useState(!1),[A,J]=l.useState({current:0,total:0,percent:0,currentProduct:"",stats:{siteFAQ:!1,products:0,totalSchemas:0}}),[M,y]=l.useState(!1),r=Ge("shop","");l.useEffect(()=>{if(!r){W(!1);return}Ae()},[r,x]),l.useEffect(()=>{oe&&Se()},[oe]),l.useEffect(()=>{t&&Object.values(t.features||{}).some(s=>s)&&U(s=>({...s,enabled:!0,discoveryEnabled:!0}))},[t==null?void 0:t.features]);const Se=async()=>{try{const s=await x(`/api/schema/status?shop=${r}`);fe({enabled:s.enabled,generating:s.generating,generated:s.hasSiteFAQ||s.productsWithSchema>0,progress:s.progress||""})}catch(s){console.error("Failed to check schema status:",s)}},z=async()=>{try{const s=await x(`/ai/schema-data.json?shop=${r}`);if(s.schemas&&s.schemas.length>0){y(!0),j(!1);const a=[...new Set(s.schemas.map(o=>{var c,p;return(p=(c=o.url)==null?void 0:c.split("/products/")[1])==null?void 0:p.split("#")[0]}))].filter(Boolean);J(o=>({...o,percent:100,stats:{siteFAQ:!!s.site_faq,products:a.length,totalSchemas:s.schemas.length}}))}else J(a=>({...a,percent:Math.min(a.percent+10,90),currentProduct:"Processing products..."})),setTimeout(z,3e3)}catch(s){console.error("Progress check error:",s),setTimeout(z,3e3)}},Ae=async()=>{try{const s=await x(`/api/ai-discovery/settings?shop=${r}`);console.log("Loaded settings:",s),console.log("Settings plan:",s==null?void 0:s.plan),console.log("Normalized plan:",C(s==null?void 0:s.plan)),U(s),q(s),je(s.advancedSchemaEnabled||!1),F(s)}catch(s){console.error("Failed to load settings:",s),d("Failed to load settings")}finally{W(!1)}},F=async(s=t)=>{console.log("[GENERATE ROBOTS] Called with shop:",r);try{const a=await x(`/api/ai-discovery/robots-txt?shop=${r}`,{responseType:"text"});console.log("[GENERATE ROBOTS] Received:",a),k(a||`User-agent: *
Disallow: /`)}catch(a){console.error("[GENERATE ROBOTS] Error:",a),k(`# Error generating robots.txt
# `+a.message)}};console.log("[SETTINGS DEBUG] generateRobotsTxt function exists:",typeof F);const Q=s=>{var a;if(!((a=t==null?void 0:t.availableBots)!=null&&a.includes(s))){d(`Upgrade to ${requiredPlan} plan to enable ${t.bots[s].name}`);return}U(o=>({...o,bots:{...o.bots,[s]:{...o.bots[s],enabled:!o.bots[s].enabled}}})),X(!0)},ne=s=>{if(!re(s)){d(`Upgrade your plan to enable ${{productsJson:"Products JSON Feed",aiSitemap:"AI-Optimized Sitemap",welcomePage:"AI Welcome Page",collectionsJson:"Collections JSON Feed",storeMetadata:"Store Metadata",schemaData:"Schema Data"}[s]||s}`);return}U(a=>({...a,features:{...a.features,[s]:!a.features[s]}}))},ye=async()=>{_(!0);try{await x(`/api/ai-discovery/settings?shop=${r}`,{method:"POST",body:{shop:r,bots:t.bots,features:t.features}}),d("Settings saved successfully"),X(!1),q(t),F()}catch(s){console.error("Failed to save settings:",s),d("Failed to save settings")}finally{_(!1)}},re=s=>{var c;const a=C(t==null?void 0:t.plan);return((c={productsJson:["starter","professional","growth","growth_extra","enterprise"],aiSitemap:["starter","professional","growth","growth_extra","enterprise"],welcomePage:["professional","growth","growth_extra","enterprise"],collectionsJson:["growth","growth_extra","enterprise"],storeMetadata:["growth_extra","enterprise"],schemaData:["enterprise"]}[s])==null?void 0:c.includes(a))||!1},D=async s=>{console.log(`[DEBUG] setTestPlan called with plan: ${s}, shop: ${r}`);try{const a=`
        mutation SetPlan($shop:String!, $plan: PlanEnum) {
          setPlanOverride(shop:$shop, plan:$plan) { shop plan }
        }
      `;console.log("[DEBUG] GraphQL mutation:",a),console.log("[DEBUG] Variables:",{shop:r,plan:s});const o=await be(a,{shop:r,plan:s});console.log("[DEBUG] GraphQL result:",o),d(`Test plan set to ${s||"actual"}`),setTimeout(()=>window.location.reload(),500)}catch(a){console.error("[DEBUG] Failed to set test plan",a),d(`Failed to set test plan: ${a.message}`)}},we=async(s,a)=>{me(a),R(!0),ae(!0),G(null);try{const o={productsJson:`/ai/products.json?shop=${r}`,collectionsJson:`/ai/collections-feed.json?shop=${r}`,storeMetadata:`/ai/store-metadata.json?shop=${r}`,schemaData:`/ai/schema-data.json?shop=${r}`,aiSitemap:`/ai/sitemap-feed.xml?shop=${r}`,welcomePage:`/ai/welcome?shop=${r}`},c=await x(o[s]),p="application/json";G(JSON.stringify(c,null,2))}catch(o){G(`Error loading data: ${o.message}`)}finally{ae(!1)}};return r?L?e.jsx(v,{children:e.jsx(i,{padding:"400",children:e.jsxs(g,{align:"center",children:[e.jsx(he,{size:"small"}),e.jsx(n,{children:"Loading settings..."})]})})}):e.jsxs(h,{gap:"600",children:[e.jsx(v,{children:e.jsx(i,{padding:"400",children:e.jsxs(h,{gap:"400",children:[e.jsxs(g,{align:"space-between",children:[e.jsx(n,{as:"h2",variant:"headingMd",children:"AI Bot Access Control"}),(t==null?void 0:t.plan)&&e.jsxs(I,{tone:"info",children:[t.plan.charAt(0).toUpperCase()+t.plan.slice(1)," Plan"]})]}),e.jsx(n,{variant:"bodyMd",tone:"subdued",children:"Choose which AI bots can access your store's structured data"}),e.jsx(f,{status:"info",children:e.jsxs(h,{gap:"200",children:[e.jsx(n,{variant:"bodyMd",fontWeight:"semibold",children:"How it works:"}),e.jsxs("ol",{style:{marginLeft:"20px",marginBottom:0},children:[e.jsx("li",{children:"Select AI bots below"}),e.jsx("li",{children:"Save Settings"}),e.jsx("li",{children:"Generate robots.txt"})]})]})}),e.jsx(pe,{}),e.jsxs(h,{gap:"300",children:[e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"1rem"},children:["openai","perplexity"].map(s=>{var w,ce,de;const a=(w=t==null?void 0:t.bots)==null?void 0:w[s];if(!a)return null;const o={starter:["openai","perplexity"],professional:["openai","anthropic","perplexity"],growth:["openai","anthropic","google","perplexity","meta","others"],growth_extra:["openai","anthropic","google","perplexity","meta","others"],enterprise:["openai","anthropic","google","perplexity","meta","others"]},c=C(t==null?void 0:t.plan),b=(o[c]||o.starter).includes(s),S=s==="anthropic"?"Professional":s==="google"?"Growth":["meta","others"].includes(s)?"Growth Extra":null;return e.jsx(i,{padding:"200",background:b?"bg-surface":"bg-surface-secondary",borderRadius:"200",borderWidth:"025",borderColor:"border",children:e.jsx(h,{gap:"100",children:e.jsx(B,{label:e.jsxs(g,{gap:"200",align:"center",children:[e.jsx(n,{variant:b?"bodyMd":"bodySm",tone:b?"base":"subdued",children:a.name||s}),!b&&S&&e.jsxs(I,{tone:"info",size:"small",children:[S,"+"]})]}),checked:!!((de=(ce=t==null?void 0:t.bots)==null?void 0:ce[s])!=null&&de.enabled),onChange:()=>Q(s),disabled:!b,helpText:b?s==="openai"?"Most popular AI assistant":s==="anthropic"?"Claude AI assistant":s==="google"?"Google Gemini":s==="perplexity"?"AI-powered search":s==="meta"?"Meta AI platforms":s==="others"?"Bytespider, DeepSeek, etc.":"":`Upgrade to ${S} plan to enable this AI bot`})})},s)})}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"1rem"},children:["anthropic","google"].map(s=>{var p,b,S,w;const a=(p=t==null?void 0:t.bots)==null?void 0:p[s];if(!a)return null;const o=(b=t==null?void 0:t.availableBots)==null?void 0:b.includes(s),c=s==="anthropic"?"Professional":s==="google"?"Growth":["meta","others"].includes(s)?"Growth Extra":null;return e.jsx(i,{padding:"200",background:o?"bg-surface":"bg-surface-secondary",borderRadius:"200",borderWidth:"025",borderColor:"border",children:e.jsx(h,{gap:"100",children:e.jsx(B,{label:e.jsxs(g,{gap:"200",align:"center",children:[e.jsx(n,{variant:o?"bodyMd":"bodySm",tone:o?"base":"subdued",children:a.name||s}),!o&&c&&e.jsxs(I,{tone:"info",size:"small",children:[c,"+"]})]}),checked:!!((w=(S=t==null?void 0:t.bots)==null?void 0:S[s])!=null&&w.enabled),onChange:()=>Q(s),disabled:!o,helpText:o?s==="openai"?"Most popular AI assistant":s==="anthropic"?"Claude AI assistant":s==="google"?"Google Gemini":s==="perplexity"?"AI-powered search":s==="meta"?"Meta AI platforms":s==="others"?"Bytespider, DeepSeek, etc.":"":`Upgrade to ${c} plan to enable this AI bot`})})},s)})}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"1rem"},children:["meta","others"].map(s=>{var p,b,S,w;const a=(p=t==null?void 0:t.bots)==null?void 0:p[s];if(!a)return null;const o=(b=t==null?void 0:t.availableBots)==null?void 0:b.includes(s),c=s==="anthropic"?"Professional":s==="google"?"Growth":["meta","others"].includes(s)?"Growth Extra":null;return e.jsx(i,{padding:"200",background:o?"bg-surface":"bg-surface-secondary",borderRadius:"200",borderWidth:"025",borderColor:"border",children:e.jsx(h,{gap:"100",children:e.jsx(B,{label:e.jsxs(g,{gap:"200",align:"center",children:[e.jsx(n,{variant:o?"bodyMd":"bodySm",tone:o?"base":"subdued",children:a.name||s}),!o&&c&&e.jsxs(I,{tone:"info",size:"small",children:[c,"+"]})]}),checked:!!((w=(S=t==null?void 0:t.bots)==null?void 0:S[s])!=null&&w.enabled),onChange:()=>Q(s),disabled:!o,helpText:o?s==="openai"?"Most popular AI assistant":s==="anthropic"?"Claude AI assistant":s==="google"?"Google Gemini":s==="perplexity"?"AI-powered search":s==="meta"?"Meta AI platforms":s==="others"?"Bytespider, DeepSeek, etc.":"":`Upgrade to ${c} plan to enable this AI bot`})})},s)})})]})]})})}),e.jsx(v,{children:e.jsx(i,{padding:"400",children:e.jsxs(h,{gap:"400",children:[e.jsx(n,{as:"h2",variant:"headingMd",children:"robots.txt Configuration"}),ge&&e.jsx(f,{status:"warning",title:"Unsaved changes",children:e.jsx("p",{children:'You have unsaved bot selections. Please click "Save Settings" before configuring robots.txt.'})}),e.jsx(f,{children:e.jsx("p",{children:["growth","growth_extra","enterprise"].includes(C(t==null?void 0:t.plan))?"With your plan, you can apply robots.txt changes directly to your theme!":"Copy the generated rules and add them to your theme's robots.txt.liquid file."})}),e.jsxs(g,{gap:"200",children:[e.jsx(m,{onClick:async()=>{console.log("[ADD MANUAL] Starting..."),console.log("[ADD MANUAL] Settings:",t);try{const s=Object.values((t==null?void 0:t.bots)||{}).some(a=>a.enabled);console.log("[ADD MANUAL] Has selected bots:",s),s?(console.log("[ADD MANUAL] Calling generateRobotsTxt..."),await F(),console.log("[ADD MANUAL] Robots.txt generated, showing instructions"),$(!0)):(console.log("[ADD MANUAL] No bots, showing modal"),O(!0))}catch(s){console.error("[ADD MANUAL] Error:",s),d("Error generating robots.txt: "+s.message)}},children:"Add manually"}),["growth","growth_extra","enterprise"].includes(C(t==null?void 0:t.plan))&&e.jsx(m,{primary:!0,onClick:async()=>{console.log("[APPLY AUTO] Starting..."),console.log("[APPLY AUTO] Settings:",t),console.log("[APPLY AUTO] Bots:",t==null?void 0:t.bots);try{const s=Object.values((t==null?void 0:t.bots)||{}).some(o=>o.enabled);if(console.log("[APPLY AUTO] Has selected bots:",s),!s){console.log("[APPLY AUTO] No bots selected, showing modal"),O(!0);return}console.log("[APPLY AUTO] Applying robots.txt...");const a=await x(`/api/ai-discovery/apply-robots?shop=${r}`,{method:"POST",shop:r,body:{shop:r}});console.log("[APPLY AUTO] Data:",a),d(a.message||"robots.txt applied successfully!")}catch(s){console.error("[APPLY AUTO] Error:",s),d(s.message)}},children:"Apply Automatically"})]})]})})}),e.jsx(i,{paddingInlineStart:"600",paddingInlineEnd:"600",children:e.jsxs(g,{align:"center",blockAlign:"center",children:[e.jsx(i,{children:e.jsx(Ce,{source:Pe,color:"subdued"})}),e.jsx(n,{variant:"bodySm",tone:"subdued",children:"Configure what data the AI bots can access"})]})}),e.jsx(v,{children:e.jsx(i,{padding:"400",children:e.jsxs(h,{gap:"400",children:[e.jsx(n,{as:"h2",variant:"headingMd",children:"AI Discovery Features"}),e.jsx(n,{variant:"bodyMd",tone:"subdued",children:"Select the features you want to enable for AI bots to consume your store data."}),e.jsx(f,{status:"info",children:`Don't forget to click "Save Settings" after making changes.`}),e.jsx(pe,{}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"1rem"},children:[{key:"productsJson",name:"Products JSON Feed",description:"Bulk product data for AI consumption",requiredPlan:null},{key:"aiSitemap",name:"AI-Optimized Sitemap",description:"Enhanced sitemap with AI hints",requiredPlan:null},{key:"welcomePage",name:"AI Welcome Page",description:"Landing page for AI bots",requiredPlan:"Professional"},{key:"collectionsJson",name:"Collections JSON Feed",description:"Category data for better AI understanding",requiredPlan:"Growth"},{key:"storeMetadata",name:"Store Metadata for AI Search",description:"Organization & LocalBusiness schema",requiredPlan:"Growth Extra"},{key:"schemaData",name:"Advanced Schema Data",description:"BreadcrumbList, FAQPage & more",requiredPlan:"Enterprise"}].map(s=>{var c,p;const a=re(s.key),o=!!((c=t==null?void 0:t.features)!=null&&c[s.key]);return e.jsx(i,{padding:"200",background:a?"bg-surface":"bg-surface-secondary",borderRadius:"200",borderWidth:"025",borderColor:"border",children:a?e.jsxs(g,{align:"space-between",blockAlign:"center",children:[e.jsx(i,{flexGrow:1,children:e.jsx(B,{label:s.name,checked:o,onChange:()=>ne(s.key),helpText:s.description})}),((p=T==null?void 0:T.features)==null?void 0:p[s.key])&&s.key!=="schemaData"&&e.jsx(m,{size:"slim",onClick:()=>we(s.key,s.name),children:"View"})]}):e.jsx(B,{label:e.jsxs(g,{gap:"200",align:"center",children:[e.jsx(n,{variant:"bodySm",tone:"subdued",children:s.name}),s.requiredPlan&&e.jsxs(I,{tone:"info",size:"small",children:[s.requiredPlan,s.requiredPlan!=="Enterprise"&&"+"]})]}),checked:!1,onChange:()=>ne(s.key),disabled:!0,helpText:`Upgrade to ${s.requiredPlan} plan to enable`})},s.key)})})]})})}),C(t==null?void 0:t.plan)==="enterprise"&&((le=t==null?void 0:t.features)==null?void 0:le.schemaData)&&((ie=T==null?void 0:T.features)==null?void 0:ie.schemaData)&&e.jsx(v,{children:e.jsx(i,{padding:"400",children:e.jsxs(h,{gap:"400",children:[e.jsx(n,{as:"h2",variant:"headingMd",children:"Advanced Schema Data Management"}),e.jsx(n,{variant:"bodyMd",tone:"subdued",children:"Generate and manage structured data for your products"}),e.jsxs(g,{gap:"300",children:[e.jsx(m,{primary:!0,onClick:async()=>{const s=await x(`/ai/schema-data.json?shop=${r}`);if(!(s.schemas&&s.schemas.length>0&&!confirm("This will replace existing schema data. Continue?"))){j(!0),y(!1),J({current:0,total:0,percent:0,currentProduct:"Initializing...",stats:{siteFAQ:!1,products:0,totalSchemas:0}});try{const a=await x(`/api/schema/generate-all?shop=${r}`,{method:"POST",shop:r,body:{shop:r}});setTimeout(z,2e3)}catch(a){console.error("Error:",a),d("Failed to generate schema"),j(!1)}}},children:"Generate/Update Schema Data"}),e.jsx(m,{onClick:()=>{window.open(`/ai/schema-data.json?shop=${r}`,"_blank")},children:"View Generated Schema"}),e.jsx(m,{destructive:!0,onClick:async()=>{if(confirm("This will delete all advanced schema data. Are you sure?"))try{await x(`/api/schema/delete?shop=${r}`,{method:"DELETE",shop:r,body:{shop:r}}),d("Schema data deleted successfully")}catch{d("Failed to delete schema data")}},children:"Delete Schema Data"})]}),e.jsx(f,{status:"info",tone:"subdued",children:e.jsxs("p",{children:["Generation creates BreadcrumbList, FAQPage, WebPage and more schemas for each product. AI can access them at ",e.jsx("code",{children:"/ai/product/[handle]/schemas.json"})]})})]})})}),e.jsxs(g,{gap:"200",align:"end",children:[e.jsx(m,{tone:"critical",onClick:async()=>{if(window.confirm("Are you sure you want to reset all AI Discovery settings to defaults?"))try{await x(`/api/ai-discovery/settings?shop=${r}`,{method:"DELETE",shop:r}),d("Settings reset successfully"),q(null),setTimeout(()=>{window.location.reload()},1e3)}catch(s){console.error("Failed to reset:",s),d("Failed to reset settings")}},children:"Reset to Defaults"}),e.jsx(m,{primary:!0,size:"large",loading:ue,onClick:ye,disabled:!t,children:"Save Settings"})]}),H&&e.jsx(u,{open:H,onClose:()=>N(!1),title:"robots.txt Configuration",primaryAction:{content:"Copy to clipboard",onAction:()=>{navigator.clipboard.writeText(Y),d("Copied to clipboard!")}},secondaryActions:[{content:"Close",onAction:()=>N(!1)}],children:e.jsx(u.Section,{children:e.jsxs(h,{gap:"400",children:[!["growth","growth_extra","enterprise"].includes(C(t==null?void 0:t.plan))&&e.jsx(f,{status:"info",title:"Manual Configuration Steps",children:e.jsxs("ol",{style:{marginLeft:"20px",marginTop:"10px"},children:[e.jsx("li",{children:"Copy the robots.txt content below"}),e.jsxs("li",{children:["Go to ",e.jsx("strong",{children:"Online Store → Themes"})]}),e.jsxs("li",{children:["Click ",e.jsx("strong",{children:"Actions → Edit code"})," on your active theme"]}),e.jsxs("li",{children:["In the file browser, look for ",e.jsx("strong",{children:"robots.txt.liquid"})]}),e.jsxs("li",{children:["If it doesn't exist, click ",e.jsx("strong",{children:"Add a new template"}),' → Select "robots" → Create']}),e.jsx("li",{children:"Replace the content with what you copied"}),e.jsxs("li",{children:["Click ",e.jsx("strong",{children:"Save"})]})]})}),e.jsx(i,{padding:"200",background:"bg-surface-secondary",borderRadius:"100",children:e.jsx("pre",{style:{whiteSpace:"pre-wrap",fontFamily:"monospace",fontSize:"12px",margin:0,overflow:"auto",maxHeight:"400px"},children:Y})})]})})}),Z&&e.jsx(u,{open:Z,onClose:()=>O(!1),title:"No AI Bots Selected",primaryAction:{content:"Got it",onAction:()=>O(!1)},children:e.jsx(u.Section,{children:e.jsxs(h,{gap:"400",children:[e.jsx(f,{status:"warning",children:e.jsx("p",{children:"You haven't selected any AI bots yet."})}),e.jsx(n,{children:"To configure robots.txt:"}),e.jsxs("ol",{style:{marginLeft:"20px",marginTop:"10px"},children:[e.jsx("li",{children:'Select AI bots from the "AI Bot Access Control" section above'}),e.jsx("li",{children:'Click "Save Settings" to save your selections'}),e.jsx("li",{children:'Then click "Apply Automatically" to configure robots.txt'})]})]})})}),K&&e.jsx(u,{open:K,onClose:()=>$(!1),title:"Manual robots.txt Configuration",primaryAction:{content:"Continue",onAction:()=>{$(!1),N(!0)}},secondaryActions:[{content:"Cancel",onAction:()=>$(!1)}],children:e.jsx(u.Section,{children:e.jsxs(h,{gap:"400",children:[e.jsx(n,{variant:"headingMd",children:"How to add robots.txt manually:"}),e.jsxs("ol",{style:{marginLeft:"20px",marginTop:"10px"},children:[e.jsx("li",{children:'Click "Continue" to see your custom robots.txt content'}),e.jsx("li",{children:"Copy the generated content"}),e.jsxs("li",{children:["Go to ",e.jsx("strong",{children:"Online Store → Themes"})]}),e.jsxs("li",{children:["Click ",e.jsx("strong",{children:"Actions → Edit code"})," on your active theme"]}),e.jsxs("li",{children:["Find or create ",e.jsx("strong",{children:"robots.txt.liquid"})," file"]}),e.jsx("li",{children:"Paste the content and save"})]}),e.jsx(f,{status:"info",children:e.jsx("p",{children:"This allows AI bots to discover and properly index your products."})})]})})}),e.jsx(v,{children:e.jsx(i,{padding:"400",children:e.jsxs(h,{gap:"400",children:[e.jsx(n,{as:"h2",variant:"headingMd",children:"Test Plan Switcher (Dev Only)"}),e.jsxs(g,{gap:"200",children:[e.jsx(m,{onClick:()=>D("starter"),children:"Starter"}),e.jsx(m,{onClick:()=>D("professional"),children:"Professional"}),e.jsx(m,{onClick:()=>D("growth"),children:"Growth"}),e.jsx(m,{onClick:()=>D("growth extra"),children:"Growth Extra"}),e.jsx(m,{onClick:()=>D("enterprise"),children:"Enterprise"})]})]})})}),ee&&e.jsx(u,{open:ee,onClose:()=>{R(!1),G(null)},title:xe,primaryAction:{content:"Copy",onAction:()=>{navigator.clipboard.writeText(se),d("Copied to clipboard!")},disabled:te},secondaryActions:[{content:"Close",onAction:()=>{R(!1),G(null)}}],children:e.jsx(u.Section,{children:e.jsx(i,{padding:"200",background:"bg-surface-secondary",borderRadius:"100",children:te?e.jsxs(g,{align:"center",children:[e.jsx(he,{size:"small"}),e.jsx(n,{children:"Loading..."})]}):e.jsx("pre",{style:{whiteSpace:"pre-wrap",fontFamily:"monospace",fontSize:"12px",margin:0,overflow:"auto",maxHeight:"400px"},children:se})})})}),P("Modal states",{schemaGenerating:E,schemaComplete:M,modalShouldShow:E&&!M}),E&&!M&&e.jsx(u,{open:E,title:"Generating Advanced Schema Data",onClose:()=>{P("Modal close clicked"),j(!1)},children:e.jsx(u.Section,{children:e.jsxs(n,{children:["Modal is showing! Progress: ",A.percent,"%"]})})}),M&&e.jsx(u,{open:!0,title:"Schema Generation Complete",onClose:()=>{j(!1),y(!1)},primaryAction:{content:"View Generated Schemas",onAction:()=>{window.open(`/ai/schema-data.json?shop=${r}`,"_blank"),j(!1),y(!1)}},secondaryActions:[{content:"Close",onAction:()=>{j(!1),y(!1)}}],children:e.jsx(u.Section,{children:e.jsxs(h,{gap:"400",children:[e.jsx(f,{status:"success",title:"Generation successful!",children:e.jsx("p",{children:"Advanced schema data has been generated for your products."})}),e.jsx(n,{variant:"headingMd",children:"Generation Statistics"}),e.jsxs(g,{gap:"600",wrap:!0,children:[e.jsxs(i,{children:[e.jsx(n,{variant:"bodyMd",tone:"subdued",children:"Site FAQ"}),e.jsx(n,{variant:"headingLg",fontWeight:"bold",children:A.stats.siteFAQ?"✓":"—"})]}),e.jsxs(i,{children:[e.jsx(n,{variant:"bodyMd",tone:"subdued",children:"Products Processed"}),e.jsx(n,{variant:"headingLg",fontWeight:"bold",children:A.stats.products})]}),e.jsxs(i,{children:[e.jsx(n,{variant:"bodyMd",tone:"subdued",children:"Total Schemas"}),e.jsx(n,{variant:"headingLg",fontWeight:"bold",children:A.stats.totalSchemas})]})]}),e.jsx(i,{paddingBlockStart:"200",children:e.jsx(n,{variant:"bodySm",tone:"subdued",children:"Schemas are now available at /ai/product/[handle]/schemas.json"})})]})})}),E&&!M&&e.jsx(u,{open:!0,title:"Generating Advanced Schema Data",onClose:()=>{},noScroll:!0,children:e.jsx(u.Section,{children:e.jsxs(h,{gap:"400",children:[e.jsx(n,{variant:"bodyMd",children:"Generating schemas for your products..."}),e.jsx(Te,{progress:A.percent,size:"small"}),e.jsx(n,{variant:"bodySm",tone:"subdued",children:"This process may take 1-2 minutes depending on the number of products."})]})})}),M&&e.jsx(u,{open:!0,title:"Schema Generation Complete",onClose:()=>{j(!1),y(!1)},primaryAction:{content:"View Generated Schemas",onAction:()=>{window.open(`/ai/schema-data.json?shop=${r}`,"_blank"),j(!1),y(!1)}},secondaryActions:[{content:"Close",onAction:()=>{j(!1),y(!1)}}],children:e.jsx(u.Section,{children:e.jsxs(h,{gap:"400",children:[e.jsx(f,{status:"success",title:"Generation successful!",children:e.jsx("p",{children:"Advanced schema data has been generated for your products."})}),e.jsx(n,{variant:"headingMd",children:"Generation Statistics"}),e.jsxs(g,{gap:"600",wrap:!0,children:[e.jsxs(i,{children:[e.jsx(n,{variant:"bodyMd",tone:"subdued",children:"Site FAQ"}),e.jsx(n,{variant:"headingLg",fontWeight:"bold",children:A.stats.siteFAQ?"✓":"—"})]}),e.jsxs(i,{children:[e.jsx(n,{variant:"bodyMd",tone:"subdued",children:"Products Processed"}),e.jsx(n,{variant:"headingLg",fontWeight:"bold",children:A.stats.products})]}),e.jsxs(i,{children:[e.jsx(n,{variant:"bodyMd",tone:"subdued",children:"Total Schemas"}),e.jsx(n,{variant:"headingLg",fontWeight:"bold",children:A.stats.totalSchemas})]})]}),e.jsx(i,{paddingBlockStart:"200",children:e.jsx(n,{variant:"bodySm",tone:"subdued",children:"Schemas are now available at /ai/product/[handle]/schemas.json"})})]})})}),V&&e.jsx(Me,{content:V,onDismiss:()=>d("")})]}):e.jsx(v,{children:e.jsx(i,{padding:"400",children:e.jsx(n,{tone:"critical",children:"Missing shop parameter"})})})}export{ke as default};
