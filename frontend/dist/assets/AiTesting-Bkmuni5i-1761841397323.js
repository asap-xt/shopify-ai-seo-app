import{j as e}from"./app-bridge-CtxlwsP4-1761841397323.js";import{r as l,R as xe}from"./react-vendor-tAaa2TlE-1761841397323.js";import{m as pe}from"./sessionFetch-CJepNHo3-1761841397323.js";import{b as c,a as p,T as s,L as W,C as D,B as g,I as r,e as d,c as _,d as o,D as w,h as je,k as me,M as S}from"./polaris-DFqE7_Zx-1761841397323.js";const be=(z,h="")=>{try{return new URLSearchParams(window.location.search).get(z)||h}catch{return h}};function ke({shop:z}){var K,X,Z;const h=z||be("shop",""),ee=i=>{const a=new URLSearchParams(window.location.search),t=a.toString()?`?${a.toString()}`:"";window.location.href=`${i}${t}`},[J,x]=l.useState(""),y=l.useMemo(()=>pe(),[]),[P,se]=l.useState(null),[N,M]=l.useState(""),[ne,$]=l.useState(!1),[j,te]=l.useState(null),[B,ie]=l.useState(""),[ae,C]=l.useState(!1),[re,R]=l.useState(!1),[u,A]=l.useState(null),[oe,L]=l.useState(!1),[m,Se]=l.useState(null),[f,O]=l.useState({}),[E,U]=l.useState(!1),[ce,H]=l.useState(0),[n,V]=l.useState({}),[G,Y]=l.useState(!1),[le,Q]=l.useState(0),[k,de]=l.useState(null);l.useEffect(()=>{h&&(he(),T())},[h,y]),l.useEffect(()=>{const i=()=>{!document.hidden&&h&&(console.log("[AI-TESTING] Page visible, refreshing token balance..."),T())};return document.addEventListener("visibilitychange",i),()=>{document.removeEventListener("visibilitychange",i)}},[h,y]);const he=async()=>{var i,a;try{const b=await y("/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:`
        query PlansMe($shop:String!) {
          plansMe(shop:$shop) {
            shop
            plan
            planKey
          }
        }
      `,variables:{shop:h}})});console.log("[AI-TESTING] Plan data:",b),se((a=(i=b==null?void 0:b.data)==null?void 0:i.plansMe)==null?void 0:a.plan)}catch(t){console.error("[AI-TESTING] Error loading plan:",t)}},T=async()=>{var i;try{const a=await y(`/api/billing/info?shop=${h}`);console.log("[AI-TESTING] Token balance data:",a),de(((i=a==null?void 0:a.tokens)==null?void 0:i.balance)||0)}catch(a){console.error("[AI-TESTING] Error loading token balance:",a)}},v=i=>{if(!P)return!1;const t=["Starter","Professional","Growth","Growth Extra","Enterprise"].indexOf(P);switch(i){case"productsJson":return t>=0;case"storeMetadata":return t>=1;case"welcomePage":case"collectionsJson":return t>=2;case"aiSitemap":return t>=3;case"schemaData":return t>=4;case"meta":return t>=0;case"claude":return t>=0;case"gemini":return t>=1;case"chatgpt":return t>=2;case"perplexity":return t>=3;case"deepseek":return t>=4;default:return!1}},I=i=>{switch(i){case"storeMetadata":return"Professional";case"welcomePage":case"collectionsJson":return"Growth";case"aiSitemap":return"Growth Extra";case"schemaData":return"Enterprise";case"gemini":return"Professional";case"chatgpt":return"Growth";case"perplexity":return"Growth Extra";case"deepseek":return"Enterprise";default:return"Professional"}},F=(i,a)=>{te({name:i,url:a}),$(!0)},ue=async()=>{U(!0),H(0),O({});try{console.log("[AI-TESTING] Starting tests for shop:",h);const i=await y("/api/ai-testing/run-tests",{method:"POST",body:{shop:h}});console.log("[AI-TESTING] Test results:",i),i.results?(O(i.results),H(100),x("Basic tests completed!")):x("Testing failed. Please try again.")}catch(i){console.error("[AI-TESTING] Error running tests:",i),x("Failed to run tests. Please try again.")}finally{U(!1)}},ge=async()=>{if(["Starter","Professional","Growth","Growth Extra","Enterprise"].indexOf(P)<1){A({message:"AI-powered validation requires Professional plan or higher",requiredPlan:"Professional"}),C(!0);return}if(!k||k<50){A({message:"You need at least 50 tokens to run AI validation",tokenCost:50,currentBalance:k||0}),R(!0);return}Y(!0),Q(0),V({});try{console.log("[AI-TESTING] Starting AI validation for shop:",h);const t=await y("/api/ai-testing/ai-validate",{method:"POST",body:{shop:h,endpointResults:f}});console.log("[AI-TESTING] AI validation results:",t),t.results?(V(t.results),Q(100),x(`AI validation completed! (${t.tokensUsed||0} tokens used)`),T()):x("AI validation failed. Please try again.")}catch(t){if(console.error("[AI-TESTING] Error running AI validation:",t),t.status===402){if(t.requiresUpgrade){A(t),C(!0);return}if(t.requiresPurchase){A(t),R(!0);return}}x("Failed to run AI validation. Please try again.")}finally{Y(!1)}},q=async(i,a=null)=>{try{M("Generating AI response...");let t=`/api/ai-discovery/simulate?shop=${h}&type=${i}`;a&&(t+=`&question=${encodeURIComponent(a)}`);const b=await y(t,{method:"GET"});M(b.response||"No response generated")}catch(t){if(console.error("[AI-TESTING] Simulation error:",t),console.log("[AI-TESTING] Error status:",t.status),console.log("[AI-TESTING] Error requiresUpgrade:",t.requiresUpgrade),console.log("[AI-TESTING] Error requiresPurchase:",t.requiresPurchase),t.status===402){if(t.requiresUpgrade){A(t),C(!0),M("");return}if(t.requiresPurchase){A(t),R(!0),M("");return}}M("Error generating response. Please try again."),x("Failed to simulate AI response")}};return e.jsxs(e.Fragment,{children:[e.jsxs(c,{gap:"400",children:[e.jsx(p,{tone:"info",children:e.jsx(s,{children:"Test how AI models discover and understand your store content. Check if your structured data and AI Discovery features are working correctly."})}),e.jsxs(W,{children:[e.jsx(W.Section,{variant:"oneHalf",children:e.jsx(D,{children:e.jsx(g,{padding:"300",children:e.jsxs(c,{gap:"400",children:[e.jsxs(r,{align:"space-between",blockAlign:"center",children:[e.jsxs(c,{gap:"100",children:[e.jsx(s,{as:"h3",variant:"headingMd",children:"🔧 Basic Endpoint Tests"}),e.jsx(s,{variant:"bodySm",tone:"subdued",children:"Quick check if endpoints are accessible and returning data"})]}),e.jsx(d,{onClick:ue,loading:E,disabled:E,children:E?"Testing...":"Run Basic Tests"})]}),E&&e.jsx(g,{children:e.jsxs(c,{gap:"200",children:[e.jsx(s,{variant:"bodySm",children:"Testing endpoints..."}),e.jsx(_,{progress:ce,size:"small"})]})}),Object.keys(f).length>0&&e.jsx(c,{gap:"300",children:Object.entries(f).map(([i,a],t)=>{const b=t===Object.entries(f).length-1;return e.jsxs(xe.Fragment,{children:[e.jsx(r,{align:"space-between",blockAlign:"center",children:e.jsxs(c,{gap:"100",children:[e.jsxs(r,{gap:"200",blockAlign:"center",children:[e.jsx(s,{variant:"bodyMd",fontWeight:"semibold",children:a.name}),a.status==="success"&&e.jsx(o,{tone:"success",children:"✓ OK"}),a.status==="warning"&&e.jsx(o,{tone:"warning",children:"⚠️ Warning"}),a.status==="error"&&e.jsx(o,{tone:"critical",children:"✗ Failed"}),a.status==="locked"&&e.jsx(o,{children:"🔒 Locked"})]}),e.jsxs(s,{variant:"bodySm",tone:"subdued",children:[a.message,a.dataSize&&` (${(a.dataSize/1024).toFixed(1)} KB)`]}),a.actionLink&&e.jsx(d,{size:"slim",onClick:()=>ee(a.actionLink),children:i==="basicSitemap"?"Go to Sitemap":i==="aiSitemap"?"Go to Settings":"Go"})]})}),!b&&e.jsx(w,{})]},i)})}),Object.keys(f).length===0&&!E&&e.jsx(p,{tone:"info",children:e.jsx(s,{children:'Click "Run Basic Tests" to check if your AI Discovery endpoints are configured correctly.'})})]})})})}),e.jsx(W.Section,{variant:"oneHalf",children:e.jsx(D,{children:e.jsx(g,{padding:"300",children:e.jsxs(c,{gap:"400",children:[e.jsxs(r,{align:"space-between",blockAlign:"center",children:[e.jsxs(c,{gap:"100",children:[e.jsxs(r,{gap:"200",blockAlign:"center",children:[e.jsx(s,{as:"h3",variant:"headingMd",children:"🤖 AI-Powered Validation"}),k!==null&&e.jsxs(o,{tone:k>50?"success":"warning",children:[k," tokens"]}),e.jsx(d,{size:"micro",onClick:()=>{console.log("[AI-TESTING] Manual token refresh..."),T()},accessibilityLabel:"Refresh token balance",children:"🔄"})]}),e.jsx(s,{variant:"bodySm",tone:"subdued",children:"Deep analysis with AI bot"}),P&&e.jsx(s,{variant:"bodySm",tone:"subdued",children:"Requires: Professional+ plan & pay-per-use tokens"})]}),e.jsx(d,{onClick:ge,loading:G,disabled:G||Object.keys(f).length===0,variant:"primary",children:G?"Validating...":"Test with AI Bot"})]}),G&&e.jsx(g,{children:e.jsxs(c,{gap:"200",children:[e.jsx(s,{variant:"bodySm",children:"AI is analyzing your endpoints..."}),e.jsx(_,{progress:le,size:"small",tone:"primary"})]})}),Object.keys(n).length>0&&e.jsxs(c,{gap:"300",children:[n.productsJson&&e.jsxs(e.Fragment,{children:[e.jsx(r,{align:"space-between",blockAlign:"center",children:e.jsxs(c,{gap:"100",children:[e.jsxs(r,{gap:"200",blockAlign:"center",children:[e.jsx(s,{variant:"bodyMd",fontWeight:"semibold",children:"Products JSON Feed"}),n.productsJson.rating==="excellent"&&e.jsx(o,{tone:"success",children:"🤖 Excellent"}),n.productsJson.rating==="good"&&e.jsx(o,{tone:"success",children:"🤖 Good"}),n.productsJson.rating==="fair"&&e.jsx(o,{tone:"warning",children:"🤖 Fair"}),n.productsJson.rating==="poor"&&e.jsx(o,{tone:"critical",children:"🤖 Poor"})]}),e.jsx(s,{variant:"bodySm",children:n.productsJson.feedback}),n.productsJson.suggestions&&e.jsxs(s,{variant:"bodySm",tone:"subdued",children:["💡 ",n.productsJson.suggestions]})]})}),e.jsx(w,{})]}),n.storeMetadata&&e.jsxs(e.Fragment,{children:[e.jsx(r,{align:"space-between",blockAlign:"center",children:e.jsxs(c,{gap:"100",children:[e.jsxs(r,{gap:"200",blockAlign:"center",children:[e.jsx(s,{variant:"bodyMd",fontWeight:"semibold",children:"Store Metadata"}),n.storeMetadata.rating==="excellent"&&e.jsx(o,{tone:"success",children:"🤖 Excellent"}),n.storeMetadata.rating==="good"&&e.jsx(o,{tone:"success",children:"🤖 Good"}),n.storeMetadata.rating==="fair"&&e.jsx(o,{tone:"warning",children:"🤖 Fair"}),n.storeMetadata.rating==="poor"&&e.jsx(o,{tone:"critical",children:"🤖 Poor"})]}),e.jsx(s,{variant:"bodySm",children:n.storeMetadata.feedback}),n.storeMetadata.suggestions&&e.jsxs(s,{variant:"bodySm",tone:"subdued",children:["💡 ",n.storeMetadata.suggestions]})]})}),e.jsx(w,{})]}),n.welcomePage&&e.jsxs(e.Fragment,{children:[e.jsx(r,{align:"space-between",blockAlign:"center",children:e.jsxs(c,{gap:"100",children:[e.jsxs(r,{gap:"200",blockAlign:"center",children:[e.jsx(s,{variant:"bodyMd",fontWeight:"semibold",children:"AI Welcome Page"}),n.welcomePage.rating==="excellent"&&e.jsx(o,{tone:"success",children:"🤖 Excellent"}),n.welcomePage.rating==="good"&&e.jsx(o,{tone:"success",children:"🤖 Good"}),n.welcomePage.rating==="fair"&&e.jsx(o,{tone:"warning",children:"🤖 Fair"}),n.welcomePage.rating==="poor"&&e.jsx(o,{tone:"critical",children:"🤖 Poor"})]}),e.jsx(s,{variant:"bodySm",children:n.welcomePage.feedback}),n.welcomePage.suggestions&&e.jsxs(s,{variant:"bodySm",tone:"subdued",children:["💡 ",n.welcomePage.suggestions]})]})}),e.jsx(w,{})]}),n.collectionsJson&&e.jsxs(e.Fragment,{children:[e.jsx(r,{align:"space-between",blockAlign:"center",children:e.jsxs(c,{gap:"100",children:[e.jsxs(r,{gap:"200",blockAlign:"center",children:[e.jsx(s,{variant:"bodyMd",fontWeight:"semibold",children:"Collections JSON Feed"}),n.collectionsJson.rating==="excellent"&&e.jsx(o,{tone:"success",children:"🤖 Excellent"}),n.collectionsJson.rating==="good"&&e.jsx(o,{tone:"success",children:"🤖 Good"}),n.collectionsJson.rating==="fair"&&e.jsx(o,{tone:"warning",children:"🤖 Fair"}),n.collectionsJson.rating==="poor"&&e.jsx(o,{tone:"critical",children:"🤖 Poor"})]}),e.jsx(s,{variant:"bodySm",children:n.collectionsJson.feedback}),n.collectionsJson.suggestions&&e.jsxs(s,{variant:"bodySm",tone:"subdued",children:["💡 ",n.collectionsJson.suggestions]})]})}),e.jsx(w,{})]}),n.aiSitemap&&e.jsxs(e.Fragment,{children:[e.jsx(r,{align:"space-between",blockAlign:"center",children:e.jsxs(c,{gap:"100",children:[e.jsxs(r,{gap:"200",blockAlign:"center",children:[e.jsx(s,{variant:"bodyMd",fontWeight:"semibold",children:"AI-Enhanced Sitemap"}),n.aiSitemap.rating==="excellent"&&e.jsx(o,{tone:"success",children:"🤖 Excellent"}),n.aiSitemap.rating==="good"&&e.jsx(o,{tone:"success",children:"🤖 Good"}),n.aiSitemap.rating==="fair"&&e.jsx(o,{tone:"warning",children:"🤖 Fair"}),n.aiSitemap.rating==="poor"&&e.jsx(o,{tone:"critical",children:"🤖 Poor"})]}),e.jsx(s,{variant:"bodySm",children:n.aiSitemap.feedback}),n.aiSitemap.suggestions&&e.jsxs(s,{variant:"bodySm",tone:"subdued",children:["💡 ",n.aiSitemap.suggestions]})]})}),e.jsx(w,{})]}),n.schemaData&&e.jsx(r,{align:"space-between",blockAlign:"center",children:e.jsxs(c,{gap:"100",children:[e.jsxs(r,{gap:"200",blockAlign:"center",children:[e.jsx(s,{variant:"bodyMd",fontWeight:"semibold",children:"Advanced Schema Data"}),n.schemaData.rating==="excellent"&&e.jsx(o,{tone:"success",children:"🤖 Excellent"}),n.schemaData.rating==="good"&&e.jsx(o,{tone:"success",children:"🤖 Good"}),n.schemaData.rating==="fair"&&e.jsx(o,{tone:"warning",children:"🤖 Fair"}),n.schemaData.rating==="poor"&&e.jsx(o,{tone:"critical",children:"🤖 Poor"})]}),e.jsx(s,{variant:"bodySm",children:n.schemaData.feedback}),n.schemaData.suggestions&&e.jsxs(s,{variant:"bodySm",tone:"subdued",children:["💡 ",n.schemaData.suggestions]})]})})]}),Object.keys(n).length===0&&!G&&e.jsx(p,{tone:"info",children:e.jsx(s,{children:Object.keys(f).length===0?"Run Basic Tests first, then use AI validation for deep analysis":'Click "Test with AI Bot" to get AI-powered feedback on your endpoint data quality'})}),!P&&e.jsx(p,{tone:"warning",children:e.jsx(s,{children:"Loading plan information..."})})]})})})})]}),e.jsx(D,{children:e.jsx(g,{padding:"300",children:e.jsxs(c,{gap:"400",children:[e.jsx(s,{as:"h3",variant:"headingMd",children:"Test with Real AI Bots"}),e.jsx(s,{variant:"bodyMd",tone:"subdued",children:"Manually test your store with real AI search engines"}),e.jsxs(c,{gap:"200",children:[e.jsxs(r,{align:"space-between",children:[e.jsx(s,{children:"Meta AI Search"}),v("meta")?e.jsx(d,{onClick:()=>F("Meta AI","https://www.meta.ai/"),size:"slim",children:"Test"}):e.jsxs(d,{disabled:!0,size:"slim",children:[I("meta"),"+ Required"]})]}),e.jsxs(r,{align:"space-between",children:[e.jsx(s,{children:"Claude AI Search"}),v("claude")?e.jsx(d,{onClick:()=>F("Claude AI","https://claude.ai/"),size:"slim",children:"Test"}):e.jsxs(d,{disabled:!0,size:"slim",children:[I("claude"),"+ Required"]})]}),e.jsxs(r,{align:"space-between",children:[e.jsx(s,{children:"Gemini AI Search"}),v("gemini")?e.jsx(d,{onClick:()=>F("Gemini AI","https://gemini.google.com/"),size:"slim",children:"Test"}):e.jsxs(d,{disabled:!0,size:"slim",children:[I("gemini"),"+ Required"]})]}),e.jsxs(r,{align:"space-between",children:[e.jsx(s,{children:"ChatGPT Web Search"}),v("chatgpt")?e.jsx(d,{url:`https://chat.openai.com/?q=What+products+does+${h}+sell%3F+Tell+me+about+this+business+and+what+they+offer`,external:!0,size:"slim",children:"Test"}):e.jsxs(d,{disabled:!0,size:"slim",children:[I("chatgpt"),"+ Required"]})]}),e.jsxs(r,{align:"space-between",children:[e.jsx(s,{children:"Perplexity AI Search"}),v("perplexity")?e.jsx(d,{url:`https://www.perplexity.ai/search?q=What+products+does+${h}+sell%3F+Tell+me+about+this+business+and+what+they+offer`,external:!0,size:"slim",children:"Test"}):e.jsxs(d,{disabled:!0,size:"slim",children:[I("perplexity"),"+ Required"]})]}),e.jsxs(r,{align:"space-between",children:[e.jsx(s,{children:"DeepSeek AI Search"}),v("deepseek")?e.jsx(d,{onClick:()=>F("DeepSeek AI","https://chat.deepseek.com/"),size:"slim",children:"Test"}):e.jsxs(d,{disabled:!0,size:"slim",children:[I("deepseek"),"+ Required"]})]})]}),e.jsx(p,{tone:"info",children:e.jsxs(s,{children:[e.jsx("strong",{children:"How to test with AI bots:"}),e.jsx("br",{}),"• ",e.jsx("strong",{children:"Perplexity & ChatGPT:"}),' Click "Test" - they support URL parameters',e.jsx("br",{}),"• ",e.jsx("strong",{children:"Meta AI, Claude, Gemini, DeepSeek:"}),' Click "Test" to open a modal with the prompt to copy']})})]})})}),e.jsx(D,{children:e.jsx(g,{padding:"300",children:e.jsxs(c,{gap:"300",children:[e.jsx(s,{as:"h4",variant:"headingSm",children:"AI Search Simulation"}),e.jsx(s,{variant:"bodyMd",tone:"subdued",children:"Test how AI bots would respond to questions about your store based on your structured data."}),e.jsx(p,{tone:"info",children:e.jsxs(c,{gap:"100",children:[e.jsx(s,{variant:"bodySm",fontWeight:"semibold",children:"Simulation Details:"}),e.jsxs(s,{variant:"bodySm",children:["• ",e.jsx("strong",{children:"Data Source:"})," Your store's products, collections, and metadata"]}),e.jsxs(s,{variant:"bodySm",children:["• ",e.jsx("strong",{children:"Response Style:"})," Concise (2-3 sentences), natural language"]}),e.jsxs(s,{variant:"bodySm",children:["• ",e.jsx("strong",{children:"Best For:"})," General store info, products, categories, contact details"]}),e.jsxs(s,{variant:"bodySm",children:["• ",e.jsx("strong",{children:"Limitations:"})," May not have real-time data (current stock, active promotions, exact shipping times)"]})]})}),e.jsxs(c,{gap:"200",children:[e.jsxs(r,{align:"space-between",children:[e.jsx(s,{children:"What products does this store sell?"}),e.jsx(d,{onClick:()=>q("products"),size:"slim",children:"Simulate Response"})]}),e.jsxs(r,{align:"space-between",children:[e.jsx(s,{children:"Tell me about this business"}),e.jsx(d,{onClick:()=>q("business"),size:"slim",children:"Simulate Response"})]}),e.jsxs(r,{align:"space-between",children:[e.jsx(s,{children:"What categories does this store have?"}),e.jsx(d,{onClick:()=>q("categories"),size:"slim",children:"Simulate Response"})]}),e.jsxs(r,{align:"space-between",children:[e.jsx(s,{children:"What is this store's contact information?"}),e.jsx(d,{onClick:()=>q("contact"),size:"slim",children:"Simulate Response"})]})]}),e.jsx(w,{}),e.jsxs(c,{gap:"200",children:[e.jsx(s,{variant:"headingSm",children:"Ask Your Own Question"}),e.jsx(je,{label:"",value:B,onChange:ie,placeholder:"e.g., What are your return policies? Do you ship internationally?",autoComplete:"off",connectedRight:e.jsx(d,{onClick:()=>{B.trim()?q("custom",B):x("Please enter a question")},disabled:!B.trim(),children:"Ask AI"})})]}),N&&e.jsxs(g,{background:"bg-surface-secondary",padding:"300",borderRadius:"200",children:[e.jsx(s,{variant:"bodyMd",fontWeight:"semibold",children:"AI Bot Response:"}),e.jsx(g,{paddingBlockStart:"200",children:e.jsx(s,{variant:"bodyMd",children:N})})]})]})})})]}),J&&e.jsx(me,{content:J,onDismiss:()=>x("")}),e.jsx(S,{open:ne,onClose:()=>$(!1),title:`Test with ${j==null?void 0:j.name}`,primaryAction:{content:"Open AI Bot",url:j==null?void 0:j.url,external:!0},secondaryActions:[{content:"Copy Prompt",onAction:()=>{navigator.clipboard.writeText(`What products does ${h} sell? Tell me about this business and what they offer.`),x("Prompt copied to clipboard!")}}],children:e.jsx(S.Section,{children:e.jsxs(c,{gap:"300",children:[e.jsx(s,{variant:"bodyMd",children:'1. Click "Copy Prompt" (left button)'}),e.jsxs(s,{variant:"bodyMd",children:['2. Click "Open AI Bot" (right button) to visit ',j==null?void 0:j.name]}),e.jsx(s,{variant:"bodyMd",children:"3. Paste the prompt and send"}),e.jsxs(g,{background:"bg-surface-secondary",padding:"300",borderRadius:"200",children:[e.jsx(s,{variant:"bodyMd",fontWeight:"semibold",children:"Prompt to test:"}),e.jsx(g,{paddingBlockStart:"200",children:e.jsxs(s,{variant:"bodyMd",as:"p",children:["What products does ",h," sell? Tell me about this business and what they offer."]})})]}),e.jsx(p,{tone:"info",children:e.jsx(s,{children:"The AI bot will search the web and use your store's structured data to answer."})})]})})}),e.jsx(S,{open:oe,onClose:()=>L(!1),title:"Upgrade Required",primaryAction:{content:"View Plans",onAction:()=>{const i=new URLSearchParams(window.location.search),a=i.toString()?`?${i.toString()}`:"";window.location.href=`/billing${a}`}},secondaryActions:[{content:"Cancel",onAction:()=>L(!1)}],children:e.jsx(S.Section,{children:e.jsxs(c,{gap:"300",children:[e.jsxs(s,{variant:"bodyMd",children:[e.jsx("strong",{children:m==null?void 0:m.endpoint})," requires ",e.jsx("strong",{children:m==null?void 0:m.requiredPlan})," plan or higher."]}),e.jsxs(s,{variant:"bodyMd",tone:"subdued",children:["Your current plan: ",e.jsx("strong",{children:m==null?void 0:m.currentPlan})]}),e.jsx(p,{tone:"info",children:e.jsx(s,{children:"Upgrade to access this advanced AI Discovery feature."})})]})})}),e.jsx(S,{open:ae,onClose:()=>C(!1),title:"Upgrade Required",primaryAction:{content:"View Plans",onAction:()=>{const i=new URLSearchParams(window.location.search),a=i.toString()?`?${i.toString()}`:"";window.location.href=`/billing${a}`}},secondaryActions:[{content:"Cancel",onAction:()=>C(!1)}],children:e.jsx(S.Section,{children:e.jsxs(c,{gap:"300",children:[e.jsxs(s,{variant:"bodyMd",children:["AI Testing requires ",e.jsx("strong",{children:(u==null?void 0:u.minimumPlan)||"Professional"})," plan or higher."]}),e.jsxs(s,{variant:"bodyMd",tone:"subdued",children:["Your current plan: ",e.jsx("strong",{children:(u==null?void 0:u.currentPlan)||"Starter"})]}),e.jsx(p,{tone:"info",children:e.jsx(s,{children:"Upgrade to test AI responses with real store data."})})]})})}),e.jsx(S,{open:re,onClose:()=>{R(!1),T()},title:"Insufficient Tokens",primaryAction:{content:"Buy Tokens",onAction:()=>{const i=new URLSearchParams(window.location.search),a=i.toString()?`?${i.toString()}`:"";window.location.href=`/billing${a}`}},secondaryActions:[{content:"Cancel",onAction:()=>{R(!1),T()}}],children:e.jsx(S.Section,{children:e.jsxs(c,{gap:"300",children:[e.jsx(s,{variant:"bodyMd",children:"You need more tokens to use AI Testing."}),e.jsx(g,{background:"bg-surface-secondary",padding:"300",borderRadius:"200",children:e.jsxs(c,{gap:"200",children:[e.jsxs(r,{align:"space-between",children:[e.jsx(s,{variant:"bodySm",children:"Required:"}),e.jsxs(s,{variant:"bodySm",fontWeight:"semibold",children:[((K=u==null?void 0:u.tokensRequired)==null?void 0:K.toLocaleString())||0," tokens"]})]}),e.jsxs(r,{align:"space-between",children:[e.jsx(s,{variant:"bodySm",children:"Available:"}),e.jsxs(s,{variant:"bodySm",children:[((X=u==null?void 0:u.tokensAvailable)==null?void 0:X.toLocaleString())||0," tokens"]})]}),e.jsxs(r,{align:"space-between",children:[e.jsx(s,{variant:"bodySm",children:"Needed:"}),e.jsxs(s,{variant:"bodySm",fontWeight:"semibold",tone:"critical",children:[((Z=u==null?void 0:u.tokensNeeded)==null?void 0:Z.toLocaleString())||0," tokens"]})]})]})}),e.jsx(p,{tone:"info",children:e.jsx(s,{children:"Purchase tokens to continue using AI features. Tokens never expire."})})]})})})]})}export{ke as default};
