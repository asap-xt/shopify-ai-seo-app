import{j as e}from"./app-bridge-BqwOrh8G-1762035523529.js";import{r as o}from"./react-vendor-tAaa2TlE-1762035523529.js";import{m as Te}from"./sessionFetch-CJepNHo3-1762035523529.js";import{L as m,C as b,B as h,T as n,a as d,I as c,b as g,c as Ce,D as w,d as O,e as C,f as ue,g as ze}from"./polaris-CgHBx8Y9-1762035523529.js";const Ee=(z,i="")=>{try{return new URLSearchParams(window.location.search).get(z)||i}catch{return i}};function We({shop:z}){var H,J,Q,K,X,Z,ee,ne,te,re,ae,se;const i=z||Ee("shop",""),S=o.useMemo(()=>Te(),[]),j=t=>{const s=new URLSearchParams(window.location.search),u=s.toString()?`?${s.toString()}`:"";window.location.href=`${t}${u}`},[he,W]=o.useState(!0),[r,ge]=o.useState(null),[a,pe]=o.useState(null),[f,me]=o.useState(null),[l,E]=o.useState(null),[v,k]=o.useState(!1),[U,A]=o.useState(!1),[xe,N]=o.useState(()=>{try{const t=localStorage.getItem(`syncCardExpanded_${i}`);return t===null?!0:t==="true"}catch{return!0}}),p=o.useRef(null),R=o.useRef(!1),[D,ye]=o.useState(()=>{try{const t=localStorage.getItem(`onboardingOpen_${i}`);return t===null?!0:t==="true"}catch{return!0}}),[be,je]=o.useState(()=>{try{return localStorage.getItem(`dismissedUpgradeBanner_${i}`)==="true"}catch{return!1}}),[fe,Se]=o.useState(()=>{try{return localStorage.getItem(`dismissedTokenBanner_${i}`)==="true"}catch{return!1}}),M=o.useRef(null);o.useEffect(()=>(G(!0),ve(),()=>{p.current&&(clearInterval(p.current),p.current=null),M.current&&clearTimeout(M.current)}),[i]),o.useEffect(()=>{l&&l.autoSyncEnabled&&!v&&!R.current&&(console.log("[Dashboard] Auto-sync is enabled, triggering sync..."),R.current=!0,P())},[l==null?void 0:l.autoSyncEnabled]);const G=async(t=!1)=>(!t&&M.current&&clearTimeout(M.current),new Promise(s=>{M.current=setTimeout(async()=>{try{W(!0);const[u,I]=await Promise.all([S(`/api/dashboard/stats?shop=${i}`),S(`/api/billing/tokens/balance?shop=${i}`)]);u&&(ge(u),pe(u.subscription)),I&&me(I),s()}catch(u){console.error("[Dashboard] Error loading data:",u),s()}finally{W(!1)}},t?0:500)})),ve=async()=>{try{const t=await S(`/api/dashboard/sync-status?shop=${i}`);t&&(E(t),A(t.autoSyncEnabled||!1),k(!!t.inProgress))}catch(t){console.error("[Dashboard] Error loading sync status:",t)}},P=async()=>{try{k(!0);const t=await S(`/api/dashboard/sync?shop=${i}`,{method:"POST"});console.log("[Dashboard] Sync start response:",t),t!=null&&t.success||t!=null&&t.inProgress?(p.current&&clearInterval(p.current),p.current=setInterval(async()=>{try{const s=await S(`/api/dashboard/sync-status?shop=${i}`);s&&(E(s),s.inProgress||(p.current&&(clearInterval(p.current),p.current=null),k(!1),G()))}catch(s){console.error("[Dashboard] Poll error:",s)}},2e3)):k(!1)}catch(t){console.error("[Dashboard] Error syncing:",t),k(!1)}},we=async t=>{try{console.log("[Dashboard] Toggling auto-sync to:",t),A(t);const s=await S(`/api/dashboard/auto-sync?shop=${i}`,{method:"POST",body:{enabled:t}});console.log("[Dashboard] Auto-sync toggle response:",s),s!=null&&s.success&&(A(!!s.autoSyncEnabled),E({...l||{},autoSyncEnabled:!!s.autoSyncEnabled}))}catch(s){console.error("[Dashboard] Error toggling auto-sync:",s),A(!t)}},B=((H=r==null?void 0:r.products)==null?void 0:H.total)>0?Math.round(r.products.optimized/r.products.total*100):0,_=((J=r==null?void 0:r.collections)==null?void 0:J.total)>0?Math.round(r.collections.optimized/r.collections.total*100):0;["growth","growth_plus","growth plus","growth_extra","growth extra","enterprise"].includes(a==null?void 0:a.plan),["professional","professional_plus","professional plus","growth","growth_plus","growth plus","growth_extra","growth extra","enterprise"].includes(a==null?void 0:a.plan),a==null||a.plan,["growth_extra","growth extra","enterprise"].includes(a==null?void 0:a.plan);const F=o.useMemo(()=>({starter:9.99,professional:15.99,professional_plus:19.99,"professional plus":19.99,growth:29.99,growth_plus:35.99,"growth plus":35.99,growth_extra:79.99,"growth extra":79.99,enterprise:139.99}),[]),q=a!=null&&a.price&&a.price>0?a.price:a!=null&&a.plan?F[a.plan]:void 0,L=t=>{switch(t){case"starter":return{products:100,languages:1};case"professional":return{products:250,languages:2};case"professional_plus":case"professional plus":return{products:250,languages:2};case"growth":return{products:700,languages:3};case"growth_plus":case"growth plus":return{products:700,languages:3};case"growth_extra":case"growth extra":return{products:1e3,languages:6};case"enterprise":return{products:2500,languages:10};default:return{products:0,languages:0}}},V=t=>({starter:1,professional:2,professional_plus:2.5,"professional plus":2.5,growth:3,growth_plus:3.5,"growth plus":3.5,growth_extra:4,"growth extra":4,enterprise:5})[t]||0,ke=()=>{var ie,de;if(!r)return null;const t=((ie=r.products)==null?void 0:ie.total)||0,s=((de=r.languages)==null?void 0:de.length)||1,u=(a==null?void 0:a.plan)||"starter",I=V(u),Ie=["starter","professional","growth","growth_extra","enterprise"];let y=null;for(const le of Ie){const ce=L(le);if(t<=ce.products&&s<=ce.languages){y=le;break}}if(y||(y="enterprise"),V(y)<=I)return null;const T=L(u),oe=L(y);let $="";return t>T.products?$=`Your store has ${t} products, exceeding the ${T.products}-product limit of your current plan.`:s>T.languages&&($=`Your store has ${s} language(s), exceeding the ${T.languages}-language limit of your current plan.`),{plan:y,planName:y.replace("_"," ").toUpperCase(),price:F[y],productLimit:oe.products,languageLimit:oe.languages,reason:$}},x=o.useMemo(()=>ke(),[r,a]),Me=o.useMemo(()=>{if(!(a!=null&&a.plan))return!1;const t=a.plan;return!(!["professional","professional_plus","professional plus","growth","growth_plus","growth plus"].includes(t)||((f==null?void 0:f.balance)||0)>=1e3)},[a,f]),Ae=()=>{try{localStorage.setItem(`dismissedUpgradeBanner_${i}`,"true"),je(!0)}catch(t){console.error("[Dashboard] Error saving dismissed banner state:",t)}},De=()=>{try{localStorage.setItem(`dismissedTokenBanner_${i}`,"true"),Se(!0)}catch(t){console.error("[Dashboard] Error saving dismissed token banner state:",t)}},Pe=()=>{const t=!D;ye(t);try{localStorage.setItem(`onboardingOpen_${i}`,String(t))}catch(s){console.error("[Dashboard] Error saving onboarding state:",s)}};if(he)return e.jsx(m,{children:e.jsx(m.Section,{children:e.jsx(b,{children:e.jsx(h,{padding:"400",children:e.jsx(n,{children:"Loading dashboard..."})})})})});const Y=!(l!=null&&l.synced);return e.jsxs(m,{children:[e.jsx(m.Section,{children:e.jsx(b,{children:e.jsxs(d,{gap:"300",children:[e.jsxs(c,{align:"space-between",blockAlign:"center",children:[e.jsx(n,{variant:"headingMd",children:"Getting Started"}),e.jsxs(g,{onClick:Pe,disclosure:D?"up":"down",children:[D?"Hide":"Show"," Guide"]})]}),e.jsx(Ce,{open:D,id:"onboarding-collapsible",transition:{duration:"200ms",timingFunction:"ease-in-out"},children:e.jsx(h,{paddingBlockStart:"300",children:e.jsxs(d,{gap:"400",children:[e.jsx(w,{}),e.jsxs(d,{gap:"300",children:[e.jsx(n,{variant:"headingMd",as:"h3",children:"What This App Does"}),e.jsxs(n,{variant:"bodyMd",tone:"subdued",children:["This app helps optimize your Shopify store for ",e.jsx("strong",{children:"AI search engines"})," (like ChatGPT, Claude, Perplexity) by structuring your existing product data in a format that AI bots can easily understand and reference."]}),e.jsxs(n,{variant:"bodyMd",tone:"subdued",children:[e.jsx("strong",{children:"Important:"})," This app primarily ",e.jsx("strong",{children:"structures"})," your existing data rather than creating new content. AI-enhanced features are supplementary and require additional tokens (unless you're on Growth Extra or Enterprise plans)."]})]}),e.jsx(w,{}),e.jsxs(d,{gap:"300",children:[e.jsx(n,{variant:"headingMd",as:"h3",children:"Quick Start Guide"}),e.jsxs(d,{gap:"200",children:[e.jsx(n,{variant:"bodyMd",fontWeight:"semibold",children:"1. Sync Your Store Data"}),e.jsx(n,{variant:"bodyMd",tone:"subdued",children:'Click "Sync Now" to fetch your products, collections, languages, and markets from Shopify. This is required before you can start optimizing. Enable "Auto-sync on load" to keep your data fresh.'}),e.jsx(n,{variant:"bodyMd",fontWeight:"semibold",children:"2. Plan Selection & Token Management"}),e.jsx(n,{variant:"bodyMd",tone:"subdued",children:'Plan selection happens during app installation. Visit "Plans & Billing" to upgrade your plan or purchase additional tokens for AI-enhanced features (Professional/Growth plans).'}),e.jsx(n,{variant:"bodyMd",fontWeight:"semibold",children:"3. Structure Your Product Data"}),e.jsxs(n,{variant:"bodyMd",tone:"subdued",children:['Go to "Search Optimization for AI" → Products tab. First, create ',e.jsx("strong",{children:"basic optimization"})," by structuring existing titles, descriptions, and metadata for better AI consumption. This is essential - without basic optimization, AI-enhanced features cannot be applied."]}),e.jsxs(n,{variant:"bodyMd",tone:"subdued",children:["Also optimize your ",e.jsx("strong",{children:"Collections"})," to help AI bots understand your product categories and relationships."]}),e.jsx(n,{variant:"bodyMd",fontWeight:"semibold",children:"4. Configure Store Metadata"}),e.jsx(n,{variant:"bodyMd",tone:"subdued",children:'Go to "Store Metadata" to configure store description, keywords, business information, and contact details (Professional+ plans). This helps AI bots understand your brand and business context.'}),e.jsx(n,{variant:"bodyMd",fontWeight:"semibold",children:"5. Generate Sitemaps"}),e.jsxs(n,{variant:"bodyMd",tone:"subdued",children:["Navigate to Sitemap tab to generate your ",e.jsx("strong",{children:"standard sitemap"})," for search engines. For advanced optimization, go to Settings → Sitemap to configure ",e.jsx("strong",{children:"AI-enhanced sitemap"}),"with structured data that helps AI search engines discover and index your products (Growth Extra+ plans)."]}),e.jsx(n,{variant:"bodyMd",fontWeight:"semibold",children:"6. AI-Enhanced Features (Optional)"}),e.jsxs(n,{variant:"bodyMd",tone:"subdued",children:["Use AI-enhanced add-ons to ",e.jsx("strong",{children:"supplement and strengthen"})," your data discovery by AI bots, increasing your store's chances of being well-represented. These include:"]}),e.jsxs(n,{variant:"bodyMd",tone:"subdued",children:["• ",e.jsx("strong",{children:"AI Testing:"})," Test how AI bots respond to your products (Professional+)"]}),e.jsxs(n,{variant:"bodyMd",tone:"subdued",children:["• ",e.jsx("strong",{children:"AI Discovery Endpoints:"})," Advanced AI simulation features (Growth Extra+)"]}),e.jsxs(n,{variant:"bodyMd",tone:"subdued",children:["• ",e.jsx("strong",{children:"Advanced Schema Data:"})," Rich structured data markup (Enterprise only)"]}),e.jsx(n,{variant:"bodyMd",tone:"subdued",children:"These features require additional tokens unless you're on Growth Extra or Enterprise plans."}),e.jsx(n,{variant:"bodyMd",fontWeight:"semibold",children:"7. Configure Settings"}),e.jsx(n,{variant:"bodyMd",tone:"subdued",children:'Visit "Settings" to configure app preferences, view JSON feeds, manage AI providers, and access advanced features like AI-enhanced sitemap generation. Settings are crucial for fine-tuning how your store data is presented to AI search engines.'}),e.jsx(n,{variant:"bodyMd",fontWeight:"semibold",children:"8. Manual Setup Required"}),e.jsxs(n,{variant:"bodyMd",tone:"subdued",children:[e.jsx("strong",{children:"Important:"})," Some features require manual setup in your Shopify theme:"]}),e.jsxs(n,{variant:"bodyMd",tone:"subdued",children:["• ",e.jsx("strong",{children:"Schema Data:"})," Copy the generated schema markup from Settings → Schema Data and paste it into your theme's product templates (Enterprise plan)"]}),e.jsxs(n,{variant:"bodyMd",tone:"subdued",children:["• ",e.jsx("strong",{children:"robots.txt.liquid:"})," Add the generated robots.txt content to your theme's templates/layout/robots.txt.liquid file to help AI crawlers discover your content"]}),e.jsx(n,{variant:"bodyMd",tone:"subdued",children:"These manual steps are essential for full AI search engine optimization."}),e.jsx(n,{variant:"bodyMd",fontWeight:"semibold",children:"9. Monitor & Improve"}),e.jsx(n,{variant:"bodyMd",tone:"subdued",children:"Return to Dashboard regularly to track optimization progress, monitor token usage, and review plan recommendations."})]})]}),e.jsx(w,{}),e.jsxs(d,{gap:"200",children:[e.jsx(n,{variant:"headingMd",as:"h3",children:"Video Tutorial"}),e.jsx(h,{padding:"400",background:"bg-surface-secondary",borderRadius:"200",children:e.jsxs(d,{gap:"200",inlineAlign:"center",children:[e.jsx(n,{variant:"bodyMd",tone:"subdued",alignment:"center",children:"Video tutorial coming soon"}),e.jsx(n,{variant:"bodySm",tone:"subdued",alignment:"center",children:"[Embedded video will be added here]"})]})})]}),e.jsx(h,{paddingBlockStart:"200",children:e.jsxs(c,{gap:"200",children:[e.jsx(g,{variant:"primary",onClick:()=>j("/ai-seo/products"),children:"Start Optimizing"}),e.jsx(g,{onClick:()=>j("/billing"),children:"View Plans"})]})})]})})})]})})}),Y&&e.jsx(m.Section,{children:e.jsx(O,{title:"Sync your store",tone:"info",action:{content:v?"Syncing...":"Sync Now",onAction:P,loading:v},children:e.jsxs(d,{gap:"200",children:[e.jsx(n,{children:"Sync products, collections, languages, and markets to get started with AI optimization."}),v&&e.jsxs(h,{paddingBlockStart:"200",children:[e.jsx(C,{progress:50,size:"small",tone:"highlight"}),e.jsx(h,{paddingBlockStart:"100",children:e.jsx(n,{variant:"bodySm",tone:"subdued",children:"Fetching store data..."})})]})]})})}),!Y&&l&&e.jsx(m.Section,{children:e.jsx(b,{children:xe?e.jsxs(d,{gap:"300",children:[e.jsxs(c,{align:"space-between",blockAlign:"center",children:[e.jsxs("div",{children:[e.jsx(n,{variant:"bodyMd",fontWeight:"semibold",children:"Store Sync"}),e.jsx(h,{paddingBlockStart:"050",children:e.jsxs(n,{variant:"bodySm",tone:"subdued",children:["Last synced: ",l.lastSyncDate?new Date(l.lastSyncDate).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Never"]})})]}),e.jsxs(c,{gap:"200",children:[e.jsx(g,{onClick:P,loading:v,children:"Sync Now"}),e.jsx(g,{onClick:()=>{N(!1);try{localStorage.setItem(`syncCardExpanded_${i}`,"false")}catch(t){console.error("[Dashboard] Error saving sync card state:",t)}},variant:"plain",children:"Close"})]})]}),e.jsx(w,{}),e.jsx(ze,{label:"Auto-sync on load",checked:U,onChange:we,helpText:"Automatically sync store data when you open the dashboard"})]}):e.jsxs(c,{align:"space-between",blockAlign:"center",gap:"400",children:[e.jsxs(c,{gap:"200",blockAlign:"center",children:[U&&e.jsx(ue,{tone:"success",children:"Auto-sync enabled"}),e.jsxs(n,{variant:"bodySm",tone:"subdued",children:["Last synced: ",l.lastSyncDate?new Date(l.lastSyncDate).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Never"]})]}),e.jsxs(c,{gap:"200",children:[e.jsx(g,{onClick:P,loading:v,size:"slim",children:"Sync Now"}),e.jsx(g,{onClick:()=>{N(!0);try{localStorage.setItem(`syncCardExpanded_${i}`,"true")}catch(t){console.error("[Dashboard] Error saving sync card state:",t)}},size:"slim",variant:"plain",children:"Expand"})]})]})})}),x&&!be&&e.jsx(m.Section,{children:e.jsx(O,{title:`Upgrade to ${x.planName} Plan`,tone:"warning",action:{content:"View Plans",onAction:()=>j("/billing")},onDismiss:Ae,children:e.jsxs(d,{gap:"200",children:[e.jsx(n,{children:x.reason}),e.jsxs(n,{variant:"bodySm",tone:"subdued",children:["The ",x.planName," plan supports up to ",x.productLimit," products in ",x.languageLimit," language",x.languageLimit>1?"s":"","for $",x.price,"/month."]})]})})}),Me&&!fe&&e.jsx(m.Section,{children:e.jsx(O,{title:"Buy Tokens to Unlock AI Features",tone:"info",action:{content:"Buy Tokens",onAction:()=>j("/billing")},onDismiss:De,children:e.jsx(n,{children:"Your current plan uses pay-per-use tokens. Purchase tokens to access AI-enhanced optimization features like SEO generation, bulk editing, and AI Discovery."})})}),e.jsx(m.Section,{children:e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(320px, 1fr))",gap:"16px"},children:[e.jsxs("div",{style:{display:"grid",gap:16},children:[e.jsx(b,{children:e.jsxs(d,{gap:"400",children:[e.jsx(n,{variant:"headingMd",children:"Products & Collections"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))",gap:12},children:[e.jsxs(d,{gap:"150",children:[e.jsx(n,{variant:"bodyMd",fontWeight:"semibold",children:"Products"}),e.jsxs(c,{align:"space-between",children:[e.jsx(n,{variant:"bodySm",tone:"subdued",children:"Total"}),e.jsx(n,{variant:"bodySm",fontWeight:"semibold",children:((Q=r==null?void 0:r.products)==null?void 0:Q.total)||0})]}),e.jsxs(c,{align:"space-between",children:[e.jsx(n,{variant:"bodySm",tone:"subdued",children:"Optimized"}),e.jsx(n,{variant:"bodySm",fontWeight:"semibold",tone:"success",children:((K=r==null?void 0:r.products)==null?void 0:K.optimized)||0})]}),e.jsxs(c,{align:"space-between",children:[e.jsx(n,{variant:"bodySm",tone:"subdued",children:"Unoptimized"}),e.jsx(n,{variant:"bodySm",fontWeight:"semibold",children:Math.max((((X=r==null?void 0:r.products)==null?void 0:X.total)||0)-(((Z=r==null?void 0:r.products)==null?void 0:Z.optimized)||0),0)})]}),e.jsxs(h,{paddingBlockStart:"100",children:[e.jsx(C,{progress:B,size:"small",tone:B===100?"success":"primary"}),e.jsx(h,{paddingBlockStart:"050",children:e.jsxs(n,{variant:"bodySm",tone:"subdued",children:[B,"% optimized"]})})]})]}),e.jsxs(d,{gap:"150",children:[e.jsx(n,{variant:"bodyMd",fontWeight:"semibold",children:"Collections"}),e.jsxs(c,{align:"space-between",children:[e.jsx(n,{variant:"bodySm",tone:"subdued",children:"Total"}),e.jsx(n,{variant:"bodySm",fontWeight:"semibold",children:((ee=r==null?void 0:r.collections)==null?void 0:ee.total)||0})]}),e.jsxs(c,{align:"space-between",children:[e.jsx(n,{variant:"bodySm",tone:"subdued",children:"Optimized"}),e.jsx(n,{variant:"bodySm",fontWeight:"semibold",tone:"success",children:((ne=r==null?void 0:r.collections)==null?void 0:ne.optimized)||0})]}),e.jsxs(c,{align:"space-between",children:[e.jsx(n,{variant:"bodySm",tone:"subdued",children:"Unoptimized"}),e.jsx(n,{variant:"bodySm",fontWeight:"semibold",children:Math.max((((te=r==null?void 0:r.collections)==null?void 0:te.total)||0)-(((re=r==null?void 0:r.collections)==null?void 0:re.optimized)||0),0)})]}),e.jsxs(h,{paddingBlockStart:"100",children:[e.jsx(C,{progress:_,size:"small",tone:_===100?"success":"primary"}),e.jsx(h,{paddingBlockStart:"050",children:e.jsxs(n,{variant:"bodySm",tone:"subdued",children:[_,"% optimized"]})})]})]})]}),e.jsx(w,{}),e.jsx(c,{align:"space-between",children:e.jsxs(n,{variant:"bodySm",tone:"subdued",children:["Last synced: ",l!=null&&l.lastSyncDate?new Date(l.lastSyncDate).toLocaleString():"Never"]})})]})}),e.jsx(b,{style:{height:220,minHeight:220},children:e.jsxs(d,{gap:"300",children:[e.jsxs(c,{align:"space-between",blockAlign:"center",children:[e.jsxs("div",{children:[e.jsx(n,{variant:"headingMd",children:"Current Plan"}),e.jsx(h,{paddingBlockStart:"100",children:e.jsxs(n,{variant:"bodySm",tone:"subdued",children:[q?`$${q.toFixed(2)}`:"—","/month"]})})]}),e.jsx(ue,{tone:"info",size:"large",children:((ae=a==null?void 0:a.plan)==null?void 0:ae.replace("_"," ").toUpperCase())||"N/A"})]}),e.jsx(g,{onClick:()=>j("/billing"),children:"View Plans & Billing"})]})})]}),e.jsxs("div",{style:{display:"grid",gap:16},children:[e.jsx(b,{children:e.jsxs(d,{gap:"400",children:[e.jsx(n,{variant:"headingMd",children:"Languages & Markets"}),e.jsx(d,{gap:"200",children:r!=null&&r.languages&&r.languages.length>0?e.jsxs(e.Fragment,{children:[r.languages.slice().sort((t,s)=>(s.primary?1:0)-(t.primary?1:0)||(s.totalCount||0)-(t.totalCount||0)).slice(0,3).map((t,s)=>{const u=t.totalCount>0?Math.round(t.optimizedCount/t.totalCount*100):0;return e.jsxs(d,{gap:"050",children:[e.jsxs(c,{align:"space-between",children:[e.jsxs(n,{variant:"bodyMd",tone:"subdued",children:[t.name||t.code," ",t.primary?"★":""]}),e.jsxs(n,{variant:"bodySm",fontWeight:"semibold",children:[t.optimizedCount||0,"/",t.totalCount||0]})]}),e.jsx(C,{progress:u,size:"small",tone:u===100?"success":"primary"})]},s)}),r.languages.length>3&&e.jsxs(n,{variant:"bodySm",tone:"subdued",children:["+",r.languages.length-3," more..."]})]}):e.jsx(n,{variant:"bodyMd",tone:"subdued",children:"No language data"})}),(r==null?void 0:r.storeMarkets)&&r.storeMarkets.length>0&&e.jsxs(h,{paddingBlockStart:"200",children:[e.jsx(w,{}),e.jsx(h,{paddingBlockStart:"200",children:e.jsxs(n,{variant:"bodySm",tone:"subdued",children:["Markets: ",r.storeMarkets.slice(0,2).map(t=>t.name).join(", "),r.storeMarkets.length>2?` +${r.storeMarkets.length-2}`:""]})})]})]})}),e.jsx(b,{children:e.jsxs(d,{gap:"300",children:[e.jsx(n,{variant:"headingMd",children:"Last Optimization"}),e.jsx(n,{variant:"bodyLg",fontWeight:"semibold",children:r!=null&&r.lastOptimization?new Date(r.lastOptimization).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Never"}),e.jsx(g,{onClick:()=>j("/ai-seo/products"),children:"Optimize Now"})]})}),e.jsx(b,{style:{height:220,minHeight:220},children:e.jsxs(d,{gap:"300",children:[e.jsx(n,{variant:"headingMd",children:"Token Balance"}),e.jsxs(n,{variant:"bodyLg",fontWeight:"semibold",children:[((se=f==null?void 0:f.balance)==null?void 0:se.toLocaleString())||0," tokens"]}),((a==null?void 0:a.plan)==="growth_extra"||(a==null?void 0:a.plan)==="enterprise")&&e.jsxs(n,{variant:"bodySm",tone:"subdued",children:[(a==null?void 0:a.plan)==="growth_extra"?"100M":"300M"," included monthly"]}),e.jsx(g,{onClick:()=>j("/billing"),children:"Manage Tokens"})]})})]})]})})]})}export{We as default};
