const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/BulkEdit-D6vvVmHg-1758834241284.js","assets/app-bridge-c_iwp6SH-1758834241284.js","assets/react-vendor-tAaa2TlE-1758834241284.js","assets/UpgradeModal-DZOHwytc-1758834241284.js","assets/polaris-BKMQ_i6j-1758834241284.js","assets/Collections-D_ZqpxMB-1758834241284.js","assets/sessionFetch-BETtxx1w-1758834241284.js","assets/Sitemap-CUAKj6iL-1758834241284.js","assets/StoreMetadata-1sPVnmhE-1758834241284.js","assets/SchemaData-Blnw-oXx-1758834241284.js","assets/Settings-CGb3J9jn-1758834241284.js"])))=>i.map(i=>d[i]);
import{j as y}from"./app-bridge-c_iwp6SH-1758834241284.js";import{a as On,c as v,g as En,r as H,R as he}from"./react-vendor-tAaa2TlE-1758834241284.js";import{P as Sn,A as Tn,B as In,I as Ke,T as G,a as J,C as Me,b as Mn,F as wn,c as Cn}from"./polaris-BKMQ_i6j-1758834241284.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerPolicy&&(n.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?n.credentials="include":i.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(i){if(i.ep)return;i.ep=!0;const n=t(i);fetch(i.href,n)}})();var Ft,Ot=On;Ft=Ot.createRoot,Ot.hydrateRoot;const jn="modulepreload",Nn=function(e){return"/"+e},Et={},oe=function(r,t,o){let i=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),d=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(t.map(l=>{if(l=Nn(l),l in Et)return;Et[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const s=document.createElement("link");if(s.rel=u?"stylesheet":jn,u||(s.as="script"),s.crossOrigin="",s.href=l,d&&s.setAttribute("nonce",d),document.head.appendChild(s),u)return new Promise((g,h)=>{s.addEventListener("load",g),s.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function n(a){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=a,window.dispatchEvent(d),!d.defaultPrevented)throw a}return i.then(a=>{for(const d of a||[])d.status==="rejected"&&n(d.reason);return r().catch(n)})};var Bt={exports:{}},Ut={},it={},ot={},Te={},ae={},ft={};Object.defineProperty(ft,"__esModule",{value:!0});function Wt(e,r){if(r==null||typeof e>"u"||!Object.prototype.isPrototypeOf.call(Object.getPrototypeOf(e),r)||r.constructor.name!=="Object"&&r.constructor.name!=="Array")return r;var t={};return Object.keys(r).forEach(function(o){var i=Object.prototype.hasOwnProperty.call(e,o);i&&typeof e[o]=="object"&&!Array.isArray(e[o])?t[o]=Wt(e[o],r[o]):t[o]=r[o]}),Object.keys(e).forEach(function(o){var i=Object.prototype.hasOwnProperty.call(r,o);i||(t[o]=e[o])}),Object.setPrototypeOf(t,Object.getPrototypeOf(e)),t}ft.default=Wt;var _e={};Object.defineProperty(_e,"__esModule",{value:!0});_e.SEPARATOR=_e.PREFIX=void 0;_e.PREFIX="APP";_e.SEPARATOR="::";var ue={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ComponentType=e.Group=void 0,function(r){r.AuthCode="AuthCode",r.Button="Button",r.ButtonGroup="ButtonGroup",r.Cart="Cart",r.Client="Client",r.ContextualSaveBar="ContextualSaveBar",r.Error="Error",r.Features="Features",r.FeedbackModal="FeedbackModal",r.Fullscreen="Fullscreen",r.LeaveConfirmation="LeaveConfirmation",r.Link="Link",r.Loading="Loading",r.Menu="Menu",r.Modal="Modal",r.Navigation="Navigation",r.Performance="Performance",r.Pos="Pos",r.Print="Print",r.ResourcePicker="Resource_Picker",r.unstable_Picker="unstable_Picker",r.Scanner="Scanner",r.SessionToken="SessionToken",r.Share="Share",r.TitleBar="TitleBar",r.Toast="Toast",r.MarketingExternalActivityTopBar="MarketingExternalActivityTopBar",r.WebVitals="WebVitals"}(e.Group||(e.Group={})),function(r){r.Button="Button",r.ButtonGroup="ButtonGroup"}(e.ComponentType||(e.ComponentType={}))})(ue);(function(e){var r=v&&v.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(e,"__esModule",{value:!0}),e.updateActionFromPayload=e.isValidOptionalString=e.isValidOptionalNumber=e.forEachInEnum=e.getMergedProps=e.findMatchInEnum=e.getEventNameSpace=e.NonSnakeCaseGroup=e.actionWrapper=void 0;var t=r(ft),o=_e,i=ue;function n(p){return p}e.actionWrapper=n,e.NonSnakeCaseGroup=[i.Group.AuthCode,i.Group.Button,i.Group.ButtonGroup,i.Group.Cart,i.Group.Error,i.Group.Features,i.Group.Fullscreen,i.Group.Link,i.Group.Loading,i.Group.Menu,i.Group.Modal,i.Group.Navigation,i.Group.Pos,i.Group.Print,i.Group.ResourcePicker,i.Group.Scanner,i.Group.SessionToken,i.Group.Share,i.Group.TitleBar,i.Group.Toast,i.Group.unstable_Picker];function a(p){return p.replace(/([A-Z])/g,function(m,C,I){return(I===0?"":"_")+m[0].toLowerCase()})}function d(p){return e.NonSnakeCaseGroup.includes(p)?p.toUpperCase():a(p).toUpperCase()}function l(p,m,C){if(m.startsWith(""+o.PREFIX+o.SEPARATOR))return m;var I=d(p);if(C){var F=C.subgroups,D=C.type;F&&F.length>0&&(I+=I.length>0?o.SEPARATOR:"",F.forEach(function(Y,O){I+=""+Y.toUpperCase()+(O<F.length-1?o.SEPARATOR:"")})),D!==p&&D&&(I+=""+(I.length>0?o.SEPARATOR:"")+D.toUpperCase())}return I&&(I+=""+(I.length>0?o.SEPARATOR:"")+m.toUpperCase()),""+o.PREFIX+o.SEPARATOR+I}e.getEventNameSpace=l;function u(p,m){var C=Object.keys(p).find(function(I){return m===p[I]});return C?p[C]:void 0}e.findMatchInEnum=u;function c(p,m){var C=t.default(p,m);if(!C){var I=Object.assign(p,m);return I}return C}e.getMergedProps=c;function s(p,m){Object.keys(p).forEach(function(C){m(p[C])})}e.forEachInEnum=s;function g(p){return p==null||typeof p=="number"}e.isValidOptionalNumber=g;function h(p){return p==null||typeof p=="string"}e.isValidOptionalString=h;function f(p,m){var C=p.id;return C===m.id?(Object.assign(p,c(p,m)),!0):!1}e.updateActionFromPayload=f})(ae);const Rn="@shopify/app-bridge",Ln="3.7.10",Dn={name:Rn,version:Ln};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getPackageName=e.getVersion=e.getMergedProps=e.updateActionFromPayload=e.isValidOptionalString=e.isValidOptionalNumber=e.NonSnakeCaseGroup=e.getEventNameSpace=e.forEachInEnum=e.findMatchInEnum=e.actionWrapper=void 0;var r=ae;Object.defineProperty(e,"actionWrapper",{enumerable:!0,get:function(){return r.actionWrapper}}),Object.defineProperty(e,"findMatchInEnum",{enumerable:!0,get:function(){return r.findMatchInEnum}}),Object.defineProperty(e,"forEachInEnum",{enumerable:!0,get:function(){return r.forEachInEnum}}),Object.defineProperty(e,"getEventNameSpace",{enumerable:!0,get:function(){return r.getEventNameSpace}}),Object.defineProperty(e,"NonSnakeCaseGroup",{enumerable:!0,get:function(){return r.NonSnakeCaseGroup}}),Object.defineProperty(e,"isValidOptionalNumber",{enumerable:!0,get:function(){return r.isValidOptionalNumber}}),Object.defineProperty(e,"isValidOptionalString",{enumerable:!0,get:function(){return r.isValidOptionalString}}),Object.defineProperty(e,"updateActionFromPayload",{enumerable:!0,get:function(){return r.updateActionFromPayload}}),Object.defineProperty(e,"getMergedProps",{enumerable:!0,get:function(){return r.getMergedProps}});var t=Dn;function o(){return t.version}e.getVersion=o;function i(){return t.name}e.getPackageName=i})(Te);var kt={},Vt={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.app=e.Action=void 0;var r=ae,t=ue,o;(function(n){n.APP="APP::PRINT::APP"})(o=e.Action||(e.Action={}));function i(){return r.actionWrapper({group:t.Group.Print,type:o.APP})}e.app=i})(Vt);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.app=e.Action=void 0;var r=Vt;Object.defineProperty(e,"Action",{enumerable:!0,get:function(){return r.Action}}),Object.defineProperty(e,"app",{enumerable:!0,get:function(){return r.app}})})(kt);var Ce={},we={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.permissionAction=e.isErrorEventName=e.throwError=e.invalidOriginAction=e.fromAction=e.AppBridgeError=e.AppActionType=e.Action=void 0;var r=ue,t=ae,o;(function(s){s.INVALID_ACTION="APP::ERROR::INVALID_ACTION",s.INVALID_ACTION_TYPE="APP::ERROR::INVALID_ACTION_TYPE",s.INVALID_PAYLOAD="APP::ERROR::INVALID_PAYLOAD",s.INVALID_OPTIONS="APP::ERROR::INVALID_OPTIONS",s.UNEXPECTED_ACTION="APP::ERROR::UNEXPECTED_ACTION",s.PERSISTENCE="APP::ERROR::PERSISTENCE",s.UNSUPPORTED_OPERATION="APP::ERROR::UNSUPPORTED_OPERATION",s.NETWORK="APP::ERROR::NETWORK",s.PERMISSION="APP::ERROR::PERMISSION",s.FAILED_AUTHENTICATION="APP::ERROR::FAILED_AUTHENTICATION",s.INVALID_ORIGIN="APP::ERROR::INVALID_ORIGIN"})(o=e.Action||(e.Action={})),function(s){s.INVALID_CONFIG="APP::ERROR::INVALID_CONFIG",s.MISSING_CONFIG="APP::APP_ERROR::MISSING_CONFIG",s.MISSING_APP_BRIDGE_MIDDLEWARE="APP::APP_ERROR::MISSING_APP_BRIDGE_MIDDLEWARE",s.WINDOW_UNDEFINED="APP::APP_ERROR::WINDOW_UNDEFINED",s.REDUX_REINSTANTIATED="APP::APP_ERROR::REDUX_REINSTANTIATED",s.MISSING_LOCAL_ORIGIN="APP::APP_ERROR::MISSING_LOCAL_ORIGIN",s.MISSING_HOST_PROVIDER="APP::APP_ERROR::MISSING_HOST_PROVIDER",s.MISSING_ROUTER_CONTEXT="APP::APP_ERROR::MISSING_ROUTER_CONTEXT",s.MISSING_HISTORY_BLOCK="APP::APP_ERROR::MISSING_HISTORY_BLOCK"}(e.AppActionType||(e.AppActionType={}));var i=function(){function s(g){this.name="AppBridgeError",this.message=g,typeof Error.captureStackTrace=="function"?Error.captureStackTrace(this,this.constructor):this.stack=new Error(this.message).stack}return s}();e.AppBridgeError=i,i.prototype=Object.create(Error.prototype);function n(s,g,h){var f=s?g+": "+s:g,p=new i(f);return p.action=h,p.type=g,p}e.fromAction=n;function a(s){return t.actionWrapper({group:r.Group.Error,payload:{message:s,type:o.INVALID_ORIGIN},type:o.INVALID_ORIGIN})}e.invalidOriginAction=a;function d(){for(var s=[],g=0;g<arguments.length;g++)s[g]=arguments[g];var h=s[0],f,p;throw typeof s[1]=="string"?f=s[1]:(p=s[1],f=s[2]||""),n(f,h,p)}e.throwError=d;function l(s){var g=t.findMatchInEnum(o,s);return typeof g=="string"}e.isErrorEventName=l;function u(s,g,h){var f=g.payload;return t.actionWrapper({type:s,group:r.Group.Error,payload:{action:g,message:h,type:s,id:f&&f.id?f.id:void 0}})}function c(s,g){return u(o.PERMISSION,s,g||"Action is not permitted")}e.permissionAction=c})(we);var je={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ComponentType=e.Group=void 0;var r=ue;Object.defineProperty(e,"Group",{enumerable:!0,get:function(){return r.Group}}),Object.defineProperty(e,"ComponentType",{enumerable:!0,get:function(){return r.ComponentType}})})(je);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.networkAction=e.persistenceAction=e.unsupportedOperationAction=e.unexpectedAction=e.invalidAction=e.invalidActionType=e.invalidPayload=e.Message=e.fromAction=e.Action=e.permissionAction=e.isErrorEventName=e.throwError=e.invalidOriginAction=e.AppBridgeError=e.AppActionType=void 0;var r=we;Object.defineProperty(e,"Action",{enumerable:!0,get:function(){return r.Action}}),Object.defineProperty(e,"fromAction",{enumerable:!0,get:function(){return r.fromAction}});var t=Te,o=je,i=we;Object.defineProperty(e,"AppActionType",{enumerable:!0,get:function(){return i.AppActionType}}),Object.defineProperty(e,"AppBridgeError",{enumerable:!0,get:function(){return i.AppBridgeError}}),Object.defineProperty(e,"invalidOriginAction",{enumerable:!0,get:function(){return i.invalidOriginAction}}),Object.defineProperty(e,"throwError",{enumerable:!0,get:function(){return i.throwError}}),Object.defineProperty(e,"isErrorEventName",{enumerable:!0,get:function(){return i.isErrorEventName}}),Object.defineProperty(e,"permissionAction",{enumerable:!0,get:function(){return i.permissionAction}});function n(h,f,p){var m=f.payload;return t.actionWrapper({type:h,group:o.Group.Error,payload:{action:f,message:p,type:h,id:m&&m.id?m.id:void 0}})}(function(h){h.MISSING_PAYLOAD="Missing payload",h.INVALID_PAYLOAD_ID="Id in payload is missing or invalid"})(e.Message||(e.Message={}));function a(h,f){return n(r.Action.INVALID_PAYLOAD,h,f||"The action's payload is missing required properties or has invalid properties")}e.invalidPayload=a;function d(h,f){return t.actionWrapper({group:o.Group.Error,payload:{action:h,message:f||"The action type is invalid or unsupported",type:r.Action.INVALID_ACTION_TYPE},type:r.Action.INVALID_ACTION_TYPE})}e.invalidActionType=d;function l(h,f){return t.actionWrapper({group:o.Group.Error,payload:{action:h,message:f||"The action's has missing/invalid values for `group`, `type` or `version`",type:r.Action.INVALID_ACTION},type:r.Action.INVALID_ACTION})}e.invalidAction=l;function u(h,f){return t.actionWrapper({group:o.Group.Error,payload:{action:h,message:f||"Action cannot be called at this time",type:r.Action.UNEXPECTED_ACTION},type:r.Action.UNEXPECTED_ACTION})}e.unexpectedAction=u;function c(h,f){return n(r.Action.UNSUPPORTED_OPERATION,h,f||"The action type is unsupported")}e.unsupportedOperationAction=c;function s(h,f){return n(r.Action.PERSISTENCE,h,f||"Action cannot be persisted on server")}e.persistenceAction=s;function g(h,f){return n(r.Action.NETWORK,h,f||"Network error")}e.networkAction=g})(Ce);var Ye={},Gt={},ee={},Oe={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.LifecycleHook=e.PermissionType=e.MessageType=void 0,function(r){r.GetState="getState",r.Dispatch="dispatch",r.Subscribe="subscribe",r.Unsubscribe="unsubscribe"}(e.MessageType||(e.MessageType={})),function(r){r.Dispatch="Dispatch",r.Subscribe="Subscribe"}(e.PermissionType||(e.PermissionType={})),function(r){r.UpdateAction="UpdateAction",r.DispatchAction="DispatchAction"}(e.LifecycleHook||(e.LifecycleHook={}))})(Oe);Object.defineProperty(ee,"__esModule",{value:!0});ee.isPermitted=ee.getPermissionKey=ee.isPerformanceOrWebVitalsAction=ee.isAppMessage=ee.isAppBridgeAction=void 0;var Fn=Oe,ke=_e,Bn=ae;function Un(e){return e instanceof Object&&Object.prototype.hasOwnProperty.call(e,"type")&&e.type.toString().startsWith(ke.PREFIX)}ee.isAppBridgeAction=Un;function Wn(e){if(typeof e!="object"||!e.data||typeof e.data!="object")return!1;var r=e.data;return Object.prototype.hasOwnProperty.call(r,"type")&&Bn.findMatchInEnum(Fn.MessageType,r.type)!==void 0}ee.isAppMessage=Wn;function kn(e){var r=e.type;return r.match(/^APP::(PERFORMANCE|WEB_VITALS)::/)}ee.isPerformanceOrWebVitalsAction=kn;function $t(e){return e.replace(new RegExp("^"+ke.PREFIX+ke.SEPARATOR+"\\w+"+ke.SEPARATOR),"")}ee.getPermissionKey=$t;function Vn(e,r,t){var o=r.group,i=r.type;if(!o||!Object.prototype.hasOwnProperty.call(e,o))return!1;var n=e[o];if(!n)return!1;var a=$t(i);return n[a]?n[a][t]===!0:!1}ee.isPermitted=Vn;var pe={};Object.defineProperty(pe,"__esModule",{value:!0});pe.removeFromCollection=pe.addAndRemoveFromCollection=void 0;function Gn(e,r,t){return e.push(r),function(){return zt(e,r,t)}}pe.addAndRemoveFromCollection=Gn;function zt(e,r,t){var o=e.findIndex(function(i){return i===r});return o>=0?(e.splice(o,1),t&&t(r),!0):!1}pe.removeFromCollection=zt;var Ge={};(function(e){var r,t;Object.defineProperty(e,"__esModule",{value:!0}),e.isUnframed=e.isClient=e.isServer=void 0,e.isServer=typeof window>"u",e.isClient=!e.isServer,e.isUnframed=e.isClient&&((t=(r=window.navigator)===null||r===void 0?void 0:r.userAgent)===null||t===void 0?void 0:t.indexOf("Unframed"))>0})(Ge);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createTransportListener=e.fromWindow=e.fromFrame=e.Context=void 0;var r=we,t=ee,o=Oe,i=pe,n=Ge;(function(c){c.Modal="Modal",c.Main="Main"})(e.Context||(e.Context={}));function a(c,s,g){var h=[],f=c.host,p=c.window;if(!f)throw r.fromAction("App frame is undefined",r.AppActionType.WINDOW_UNDEFINED);return n.isUnframed&&window.MobileWebView&&Object.assign(window.MobileWebView,{postMessageToIframe:function(m,C){p==null||p.postMessage(m,C),u(m)&&f.postMessage(JSON.stringify(m.payload),location.origin)},updateIframeUrl:function(m){var C=window.location,I=(c.window||{}).location;try{var F=new URL(m).origin;F===s&&I?I.replace(m):C.href=m}catch{}}}),f.addEventListener("message",function(m){if(!(m.source===f||!t.isAppMessage(m))){if(m.origin!==s){var C="Message origin '"+m.origin+"' does not match app origin '"+s+"'.",I=r.invalidOriginAction(C),F={type:"dispatch",payload:I};p==null||p.postMessage(F,m.origin);return}if(n.isUnframed&&window.MobileWebView){var I=JSON.stringify({id:"unframed://fromClient",origin:s,data:m.data});window.MobileWebView.postMessage(I);return}for(var D=0,Y=h;D<Y.length;D++){var O=Y[D];O(m)}}}),{context:g,localOrigin:s,frameWindow:p,hostFrame:f,dispatch:function(m){p==null||p.postMessage(m,s)},subscribe:function(m){return i.addAndRemoveFromCollection(h,m)}}}e.fromFrame=a;function d(c,s){var g=[];return typeof window!==void 0&&window.addEventListener("message",function(h){if(!(window===c&&!n.isUnframed||h.source!==c||!(t.isAppBridgeAction(h.data.payload)||t.isAppMessage(h))))for(var f=0,p=g;f<p.length;f++){var m=p[f];m(h)}}),{localOrigin:s,hostFrame:c,dispatch:function(h){var f;if(!((f=h.source)===null||f===void 0)&&f.host){if(n.isUnframed&&window&&window.MobileWebView){var p=JSON.stringify({id:"unframed://fromClient",origin:s,data:h});window.MobileWebView.postMessage(p);return}var m=new URL("https://"+h.source.host).origin;c.postMessage(h,m)}},subscribe:function(h){return i.addAndRemoveFromCollection(g,h)}}}e.fromWindow=d;function l(){var c=[],s={};function g(h){function f(){if(arguments.length<2)return i.addAndRemoveFromCollection(c,{callback:arguments[0]});var p=Array.from(arguments),m=p[0],C=p[1],I=p[2],F={callback:C,id:I},D={type:m,id:I};return Object.prototype.hasOwnProperty.call(s,m)||(s[m]=[]),h&&h(o.MessageType.Subscribe,D),i.addAndRemoveFromCollection(s[m],F,function(){h&&h(o.MessageType.Unsubscribe,D)})}return f}return{createSubscribeHandler:g,handleMessage:function(h){c.forEach(function(f){return f.callback(h)})},handleActionDispatch:function(h){var f=h.type,p=h.payload,m=!1;if(Object.prototype.hasOwnProperty.call(s,f))for(var C=0,I=s[f];C<I.length;C++){var F=I[C],D=F.id,Y=F.callback,O=p&&p.id===D;(O||!D)&&(Y(p),m=!0)}return m}}}e.createTransportListener=l;function u(c){return c!==null&&typeof c=="object"&&!Array.isArray(c)&&c.type==="dispatch"&&typeof c.payload=="object"}})(Gt);(function(e){var r=v&&v.__createBinding||(Object.create?function(o,i,n,a){a===void 0&&(a=n),Object.defineProperty(o,a,{enumerable:!0,get:function(){return i[n]}})}:function(o,i,n,a){a===void 0&&(a=n),o[a]=i[n]}),t=v&&v.__exportStar||function(o,i){for(var n in o)n!=="default"&&!Object.prototype.hasOwnProperty.call(i,n)&&r(i,o,n)};Object.defineProperty(e,"__esModule",{value:!0}),t(Gt,e)})(Ye);var Ee={};Object.defineProperty(Ee,"__esModule",{value:!0});Ee.mockAppBridge=Ee.serverAppBridge=void 0;var Be=Ce,$e=function(){},St=new Promise(function(){});Ee.serverAppBridge={dispatch:function(){return{}},error:function(){return $e},featuresAvailable:function(){return Promise.reject(Be.fromAction("Feature detection is only available on the client side.",Be.AppActionType.WINDOW_UNDEFINED))},getState:function(){return Promise.reject(Be.fromAction("State is only available on the client side.",Be.AppActionType.WINDOW_UNDEFINED))},localOrigin:"",hostOrigin:"",subscribe:function(){return $e}};Ee.mockAppBridge={dispatch:function(){return{}},error:function(){return $e},featuresAvailable:function(){return St},getState:function(){return St},localOrigin:"",hostOrigin:"",subscribe:function(){return $e}};var Ne={};(function(e){var r={};Object.defineProperty(e,"__esModule",{value:!0}),e.isDevelopmentClient=e.isProduction=e.isDevelopment=e.isUnframed=e.isServer=e.isClient=void 0;var t=Ge,o=Ge;Object.defineProperty(e,"isClient",{enumerable:!0,get:function(){return o.isClient}}),Object.defineProperty(e,"isServer",{enumerable:!0,get:function(){return o.isServer}}),Object.defineProperty(e,"isUnframed",{enumerable:!0,get:function(){return o.isUnframed}}),e.isDevelopment=typeof process<"u"&&r&&!1,e.isProduction=!e.isDevelopment,e.isDevelopmentClient=e.isDevelopment&&t.isClient})(Ne);var Ht={},Kt={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Action=void 0,function(r){r.INITIALIZE="APP::CLIENT::INITIALIZE"}(e.Action||(e.Action={}))})(Kt);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.initialize=e.Action=void 0;var r=Kt;Object.defineProperty(e,"Action",{enumerable:!0,get:function(){return r.Action}});var t=je,o=Te;function i(){return o.actionWrapper({group:t.Group.Client,type:r.Action.INITIALIZE})}e.initialize=i})(Ht);var Yt={},qt={},at={exports:{}};(function(e,r){(function(t,o){o(r)})(v,function(t){var o,i,n,a,d,l=-1,u=function(P){addEventListener("pageshow",function(_){_.persisted&&(l=_.timeStamp,P(_))},!0)},c=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},s=function(){var P=c();return P&&P.activationStart||0},g=function(P,_){var S=c(),j="navigate";return l>=0?j="back-forward-cache":S&&(document.prerendering||s()>0?j="prerender":document.wasDiscarded?j="restore":S.type&&(j=S.type.replace(/_/g,"-"))),{name:P,value:_===void 0?-1:_,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:j}},h=function(P,_,S){try{if(PerformanceObserver.supportedEntryTypes.includes(P)){var j=new PerformanceObserver(function(E){Promise.resolve().then(function(){_(E.getEntries())})});return j.observe(Object.assign({type:P,buffered:!0},S||{})),j}}catch{}},f=function(P,_,S,j){var E,L;return function(U){_.value>=0&&(U||j)&&((L=_.value-(E||0))||E===void 0)&&(E=_.value,_.delta=L,_.rating=function(k,B){return k>B[1]?"poor":k>B[0]?"needs-improvement":"good"}(_.value,S),P(_))}},p=function(P){requestAnimationFrame(function(){return requestAnimationFrame(function(){return P()})})},m=function(P){var _=function(S){S.type!=="pagehide"&&document.visibilityState!=="hidden"||P(S)};addEventListener("visibilitychange",_,!0),addEventListener("pagehide",_,!0)},C=function(P){var _=!1;return function(S){_||(P(S),_=!0)}},I=-1,F=function(){return document.visibilityState!=="hidden"||document.prerendering?1/0:0},D=function(P){document.visibilityState==="hidden"&&I>-1&&(I=P.type==="visibilitychange"?P.timeStamp:0,O())},Y=function(){addEventListener("visibilitychange",D,!0),addEventListener("prerenderingchange",D,!0)},O=function(){removeEventListener("visibilitychange",D,!0),removeEventListener("prerenderingchange",D,!0)},w=function(){return I<0&&(I=F(),Y(),u(function(){setTimeout(function(){I=F(),Y()},0)})),{get firstHiddenTime(){return I}}},M=function(P){document.prerendering?addEventListener("prerenderingchange",function(){return P()},!0):P()},b=[1800,3e3],A=function(P,_){_=_||{},M(function(){var S,j=w(),E=g("FCP"),L=h("paint",function(U){U.forEach(function(k){k.name==="first-contentful-paint"&&(L.disconnect(),k.startTime<j.firstHiddenTime&&(E.value=Math.max(k.startTime-s(),0),E.entries.push(k),S(!0)))})});L&&(S=f(P,E,b,_.reportAllChanges),u(function(U){E=g("FCP"),S=f(P,E,b,_.reportAllChanges),p(function(){E.value=performance.now()-U.timeStamp,S(!0)})}))})},T=[.1,.25],R=function(P,_){_=_||{},A(C(function(){var S,j=g("CLS",0),E=0,L=[],U=function(B){B.forEach(function(z){if(!z.hadRecentInput){var fe=L[0],tt=L[L.length-1];E&&z.startTime-tt.startTime<1e3&&z.startTime-fe.startTime<5e3?(E+=z.value,L.push(z)):(E=z.value,L=[z])}}),E>j.value&&(j.value=E,j.entries=L,S())},k=h("layout-shift",U);k&&(S=f(P,j,T,_.reportAllChanges),m(function(){U(k.takeRecords()),S(!0)}),u(function(){E=0,j=g("CLS",0),S=f(P,j,T,_.reportAllChanges),p(function(){return S()})}),setTimeout(S,0))}))},N={passive:!0,capture:!0},q=new Date,W=function(P,_){o||(o=_,i=P,n=new Date,ve(removeEventListener),ie())},ie=function(){if(i>=0&&i<n-q){var P={entryType:"first-input",name:o.type,target:o.target,cancelable:o.cancelable,startTime:o.timeStamp,processingStart:o.timeStamp+i};a.forEach(function(_){_(P)}),a=[]}},X=function(P){if(P.cancelable){var _=(P.timeStamp>1e12?new Date:performance.now())-P.timeStamp;P.type=="pointerdown"?function(S,j){var E=function(){W(S,j),U()},L=function(){U()},U=function(){removeEventListener("pointerup",E,N),removeEventListener("pointercancel",L,N)};addEventListener("pointerup",E,N),addEventListener("pointercancel",L,N)}(_,P):W(_,P)}},ve=function(P){["mousedown","keydown","touchstart","pointerdown"].forEach(function(_){return P(_,X,N)})},de=[100,300],ye=function(P,_){_=_||{},M(function(){var S,j=w(),E=g("FID"),L=function(B){B.startTime<j.firstHiddenTime&&(E.value=B.processingStart-B.startTime,E.entries.push(B),S(!0))},U=function(B){B.forEach(L)},k=h("first-input",U);S=f(P,E,de,_.reportAllChanges),k&&m(C(function(){U(k.takeRecords()),k.disconnect()})),k&&u(function(){var B;E=g("FID"),S=f(P,E,de,_.reportAllChanges),a=[],i=-1,o=null,ve(addEventListener),B=L,a.push(B),ie()})})},ge=0,ne=1/0,le=0,De=function(P){P.forEach(function(_){_.interactionId&&(ne=Math.min(ne,_.interactionId),le=Math.max(le,_.interactionId),ge=le?(le-ne)/7+1:0)})},Fe=function(){return d?ge:performance.interactionCount||0},V=function(){"interactionCount"in performance||d||(d=h("event",De,{type:"event",buffered:!0,durationThreshold:0}))},Z=[200,500],K=0,Q=function(){return Fe()-K},$=[],ce={},me=function(P){var _=$[$.length-1],S=ce[P.interactionId];if(S||$.length<10||P.duration>_.latency){if(S)S.entries.push(P),S.latency=Math.max(S.latency,P.duration);else{var j={id:P.interactionId,latency:P.duration,entries:[P]};ce[j.id]=j,$.push(j)}$.sort(function(E,L){return L.latency-E.latency}),$.splice(10).forEach(function(E){delete ce[E.id]})}},_t=function(P,_){_=_||{},M(function(){var S;V();var j,E=g("INP"),L=function(k){k.forEach(function(fe){fe.interactionId&&me(fe),fe.entryType==="first-input"&&!$.some(function(tt){return tt.entries.some(function(Pt){return fe.duration===Pt.duration&&fe.startTime===Pt.startTime})})&&me(fe)});var B,z=(B=Math.min($.length-1,Math.floor(Q()/50)),$[B]);z&&z.latency!==E.value&&(E.value=z.latency,E.entries=z.entries,j())},U=h("event",L,{durationThreshold:(S=_.durationThreshold)!==null&&S!==void 0?S:40});j=f(P,E,Z,_.reportAllChanges),U&&("PerformanceEventTiming"in window&&"interactionId"in PerformanceEventTiming.prototype&&U.observe({type:"first-input",buffered:!0}),m(function(){L(U.takeRecords()),E.value<0&&Q()>0&&(E.value=0,E.entries=[]),j(!0)}),u(function(){$=[],K=Fe(),E=g("INP"),j=f(P,E,Z,_.reportAllChanges)}))})},Qe=[2500,4e3],xe={},mt=function(P,_){_=_||{},M(function(){var S,j=w(),E=g("LCP"),L=function(B){var z=B[B.length-1];z&&z.startTime<j.firstHiddenTime&&(E.value=Math.max(z.startTime-s(),0),E.entries=[z],S())},U=h("largest-contentful-paint",L);if(U){S=f(P,E,Qe,_.reportAllChanges);var k=C(function(){xe[E.id]||(L(U.takeRecords()),U.disconnect(),xe[E.id]=!0,S(!0))});["keydown","click"].forEach(function(B){addEventListener(B,function(){return setTimeout(k,0)},!0)}),m(k),u(function(B){E=g("LCP"),S=f(P,E,Qe,_.reportAllChanges),p(function(){E.value=performance.now()-B.timeStamp,xe[E.id]=!0,S(!0)})})}})},et=[800,1800],Pn=function P(_){document.prerendering?M(function(){return P(_)}):document.readyState!=="complete"?addEventListener("load",function(){return P(_)},!0):setTimeout(_,0)},At=function(P,_){_=_||{};var S=g("TTFB"),j=f(P,S,et,_.reportAllChanges);Pn(function(){var E=c();if(E){var L=E.responseStart;if(L<=0||L>performance.now())return;S.value=Math.max(L-s(),0),S.entries=[E],j(!0),u(function(){S=g("TTFB",0),(j=f(P,S,et,_.reportAllChanges))(!0)})}})};t.CLSThresholds=T,t.FCPThresholds=b,t.FIDThresholds=de,t.INPThresholds=Z,t.LCPThresholds=Qe,t.TTFBThresholds=et,t.getCLS=R,t.getFCP=A,t.getFID=ye,t.getINP=_t,t.getLCP=mt,t.getTTFB=At,t.onCLS=R,t.onFCP=A,t.onFID=ye,t.onINP=_t,t.onLCP=mt,t.onTTFB=At})})(at,at.exports);var $n=at.exports,Xt={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Action=void 0,function(r){r.LARGEST_CONTENTFUL_PAINT="APP::WEB_VITALS::LARGEST_CONTENTFUL_PAINT",r.FIRST_INPUT_DELAY="APP::WEB_VITALS::FIRST_INPUT_DELAY",r.CUMULATIVE_LAYOUT_SHIFT="APP::WEB_VITALS::CUMULATIVE_LAYOUT_SHIFT",r.FIRST_CONTENTFUL_PAINT="APP::WEB_VITALS::FIRST_CONTENTFUL_PAINT",r.TIME_TO_FIRST_BYTE="APP::WEB_VITALS::TIME_TO_FIRST_BYTE",r.INTERACTION_TO_NEXT_PAINT="APP::WEB_VITALS::INTERACTION_TO_NEXT_PAINT"}(e.Action||(e.Action={}))})(Xt);var te={};Object.defineProperty(te,"__esModule",{value:!0});te.isShopifyPing=te.isShopifyPOS=te.isShopifyMobile=te.isShopifyEmbedded=te.isMobile=void 0;var Tt=Ne;function zn(){return Zt()||Jt()||Qt()}te.isMobile=zn;function Hn(){return Tt.isClient&&window.top!==window.self||Tt.isUnframed}te.isShopifyEmbedded=Hn;function Zt(){return typeof navigator<"u"&&navigator.userAgent.indexOf("Shopify Mobile")>=0}te.isShopifyMobile=Zt;function Jt(){return typeof navigator<"u"&&navigator.userAgent.indexOf("Shopify POS")>=0}te.isShopifyPOS=Jt;function Qt(){return typeof navigator<"u"&&navigator.userAgent.indexOf("Shopify Ping")>=0}te.isShopifyPing=Qt;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.initializeWebVitals=e.interactionToNextPaint=e.timeToFirstByte=e.firstContentfulPaint=e.cumulativeLayoutShift=e.firstInputDelay=e.largestContentfulPaint=e.Action=void 0;var r=$n,t=Xt;Object.defineProperty(e,"Action",{enumerable:!0,get:function(){return t.Action}});var o=Ne,i=je,n=Te,a=te;function d(f){return n.actionWrapper({group:i.Group.WebVitals,type:t.Action.LARGEST_CONTENTFUL_PAINT,payload:f})}e.largestContentfulPaint=d;function l(f){return n.actionWrapper({group:i.Group.WebVitals,type:t.Action.FIRST_INPUT_DELAY,payload:f})}e.firstInputDelay=l;function u(f){return n.actionWrapper({group:i.Group.WebVitals,type:t.Action.CUMULATIVE_LAYOUT_SHIFT,payload:f})}e.cumulativeLayoutShift=u;function c(f){return n.actionWrapper({group:i.Group.WebVitals,type:t.Action.FIRST_CONTENTFUL_PAINT,payload:f})}e.firstContentfulPaint=c;function s(f){return n.actionWrapper({group:i.Group.WebVitals,type:t.Action.TIME_TO_FIRST_BYTE,payload:f})}e.timeToFirstByte=s;function g(f){return n.actionWrapper({group:i.Group.WebVitals,type:t.Action.INTERACTION_TO_NEXT_PAINT,payload:f})}e.interactionToNextPaint=g;function h(f){function p(C){return function(I){var F=I.id,D=I.name,Y=I.value,O={id:F,metricName:D,value:Y},w=C(O);f.dispatch(w)}}var m=window;o.isServer||o.isClient&&m.__is_web_vitals_initialized__||a.isMobile()||(m.__is_web_vitals_initialized__=!0,r.onLCP(p(d)),r.onFID(p(l)),r.onCLS(p(u)),r.onFCP(p(c)),r.onTTFB(p(s)),r.onINP(p(g)))}e.initializeWebVitals=h})(qt);(function(e){var r=v&&v.__createBinding||(Object.create?function(o,i,n,a){a===void 0&&(a=n),Object.defineProperty(o,a,{enumerable:!0,get:function(){return i[n]}})}:function(o,i,n,a){a===void 0&&(a=n),o[a]=i[n]}),t=v&&v.__exportStar||function(o,i){for(var n in o)n!=="default"&&!Object.prototype.hasOwnProperty.call(i,n)&&r(i,o,n)};Object.defineProperty(e,"__esModule",{value:!0}),t(qt,e)})(Yt);var qe={},re={};Object.defineProperty(re,"__esModule",{value:!0});re.getWindow=re.getLocation=re.redirect=re.shouldRedirect=void 0;function Kn(e){return e===window}re.shouldRedirect=Kn;function Yn(e){var r=xt();r&&r.assign(e)}re.redirect=Yn;function xt(){return en()?window.location:void 0}re.getLocation=xt;function qn(){return en()?window:void 0}re.getWindow=qn;function en(){return typeof window<"u"}Object.defineProperty(qe,"__esModule",{value:!0});qe.handleAppPrint=void 0;var tn=re;function Xn(){return navigator.userAgent.indexOf("iOS")>=0}function Zn(){var e=tn.getWindow();if(!(!e||!e.document||!e.document.body)){var r=e.document.createElement("input");return r.style.display="none",e.document.body.appendChild(r),r}}function nn(){var e;(e=tn.getWindow())===null||e===void 0||e.print()}function Jn(){var e=Zn();e&&(e.select(),nn(),e.remove())}function Qn(){Xn()?Jn():nn()}qe.handleAppPrint=Qn;var pt={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isV1Config=e.MessageType=e.LifecycleHook=e.PermissionType=void 0;var r=Oe;Object.defineProperty(e,"MessageType",{enumerable:!0,get:function(){return r.MessageType}});var t=Oe;Object.defineProperty(e,"PermissionType",{enumerable:!0,get:function(){return t.PermissionType}}),Object.defineProperty(e,"LifecycleHook",{enumerable:!0,get:function(){return t.LifecycleHook}});function o(i){return!i.host}e.isV1Config=o})(pt);var ht={},rn={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.removeFromCollection=e.addAndRemoveFromCollection=void 0;var r=pe;Object.defineProperty(e,"addAndRemoveFromCollection",{enumerable:!0,get:function(){return r.addAndRemoveFromCollection}}),Object.defineProperty(e,"removeFromCollection",{enumerable:!0,get:function(){return r.removeFromCollection}})})(rn);Object.defineProperty(ht,"__esModule",{value:!0});var xn=rn,er=function(){function e(){this.map={}}return e.prototype.set=function(r,t){Object.prototype.hasOwnProperty.call(this.map,r)||(this.map[r]=[]);var o={handler:t,remove:function(){}},i=xn.addAndRemoveFromCollection(this.map[r],o);return o={handler:t,remove:i},i},e.prototype.get=function(r){var t=this.map[r];return t?t.map(function(o){return o.handler}):void 0},e.prototype.run=function(r,t,o){for(var i=[],n=3;n<arguments.length;n++)i[n-3]=arguments[n];var a=0,d=this.get(r)||[];function l(){for(var u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];var s=d[a++];return s?s(l).apply(o,u):t.apply(o,u)}return l.apply(o,i)},e}();ht.default=er;(function(e){var r=v&&v.__assign||function(){return r=Object.assign||function(b){for(var A,T=1,R=arguments.length;T<R;T++){A=arguments[T];for(var N in A)Object.prototype.hasOwnProperty.call(A,N)&&(b[N]=A[N])}return b},r.apply(this,arguments)},t=v&&v.__spreadArray||function(b,A){for(var T=0,R=A.length,N=b.length;T<R;T++,N++)b[N]=A[T];return b},o=v&&v.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(e,"__esModule",{value:!0}),e.createApp=e.createAppWrapper=e.createClientApp=e.WINDOW_UNDEFINED_MESSAGE=void 0;var i=Te,n=kt,a=Ce,d=Ye,l=Ee,u=Ne,c=Ht,s=Yt,g=qe,h=re,f=pt,p=o(ht);e.WINDOW_UNDEFINED_MESSAGE="window is not defined. Running an app outside a browser is not supported";function m(b,A){var T=A.apiKey,R=A.host,N=A.forceRedirect,q=N===void 0?!u.isDevelopmentClient:N,W=h.getLocation();if(u.isUnframed||!W||!T||!R||!q||!h.shouldRedirect(b))return!1;var ie="https://"+R+"/apps/"+T+W.pathname+(W.search||"");return h.redirect(ie),!0}var C=function(b){return function(A){return b(r(r({},A),{version:i.getVersion(),clientInterface:{name:i.getPackageName(),version:i.getVersion()}}))}},I=function(b){b.set(f.LifecycleHook.DispatchAction,C)};function F(b){b.subscribe(n.Action.APP,g.handleAppPrint),b.dispatch(c.initialize());try{s.initializeWebVitals(b)}catch(A){console.error("App-Bridge failed to initialize web-vitals",A)}}var D=function(b,A){A===void 0&&(A=[]);var T=[],R=d.createTransportListener(),N=function(q){var W=q.data,ie=W.type,X=W.payload;switch(ie){case"getState":{var ve=T.splice(0);ve.forEach(function(ge){return ge(X)});break}case"dispatch":{R.handleMessage(X);var de=R.handleActionDispatch(X);if(de)return;var ye=i.findMatchInEnum(a.Action,X.type);ye&&a.throwError(ye,X);break}}};return b.subscribe(N),function(q){var W=Y(q),ie=m(b.hostFrame,W);if(ie)return l.mockAppBridge;var X=M(b,W),ve=R.createSubscribeHandler(X);X(f.MessageType.Unsubscribe);function de(V){return X(f.MessageType.Dispatch,V),V}for(var ye=new URL("https://"+W.host).origin,ge=new p.default,ne={hostOrigin:ye,localOrigin:b.localOrigin,hooks:ge,dispatch:function(V){return ne.hooks?ne.hooks.run(f.LifecycleHook.DispatchAction,de,ne,V):de(V)},featuresAvailable:function(){for(var V=[],Z=0;Z<arguments.length;Z++)V[Z]=arguments[Z];var K=V[0],Q=Array.isArray(K)?t([],K):V;return ne.getState("features").then(function($){return Q.length?Q.reduce(function(ce,me){return Object.keys($).includes(me)&&(ce[me]=$[me]),ce},{}):$})},getState:function(V){return V&&typeof V!="string"?Promise.resolve(void 0):new Promise(function(Z){T.push(Z),X(f.MessageType.GetState)}).then(function(Z){var K=Z;if(V)for(var Q=0,$=V.split(".");Q<$.length;Q++){var ce=$[Q];if(K==null||typeof K!="object"||Array.isArray(K)||!Object.keys(K).includes(ce))return;K=K[ce]}return K})},subscribe:ve,error:function(V,Z){var K=[];return i.forEachInEnum(a.Action,function(Q){K.push(ve(Q,V,Z))}),function(){K.forEach(function(Q){return Q()})}}},le=0,De=A;le<De.length;le++){var Fe=De[le];Fe(ge,ne)}return F(ne),ne}};e.createClientApp=D;function Y(b){var A;if(!b.host)throw a.fromAction("host must be provided",a.AppActionType.INVALID_CONFIG);if(!b.apiKey)throw a.fromAction("apiKey must be provided",a.AppActionType.INVALID_CONFIG);try{var T=atob((A=b.host)===null||A===void 0?void 0:A.replace(/_/g,"/").replace(/-/g,"+"));return r(r({},b),{host:T})}catch{var R="not a valid host, please use the value provided by Shopify";throw a.fromAction(R,a.AppActionType.INVALID_CONFIG)}}function O(b,A,T){if(T===void 0&&(T=[]),!b)throw a.fromAction(e.WINDOW_UNDEFINED_MESSAGE,a.AppActionType.WINDOW_UNDEFINED);var R=h.getLocation(),N=A||R&&R.origin;if(!N)throw a.fromAction("local origin cannot be blank",a.AppActionType.MISSING_LOCAL_ORIGIN);var q=d.fromWindow(b,N),W=e.createClientApp(q,t([I],T));return W}e.createAppWrapper=O;function w(b){var A=h.getWindow();return!A||!A.top?l.serverAppBridge:O(A.top)(b)}e.createApp=w;function M(b,A){return function(T,R){b.dispatch({payload:R,source:A,type:T})}}e.default=w})(ot);(function(e){var r=v&&v.__createBinding||(Object.create?function(i,n,a,d){d===void 0&&(d=a),Object.defineProperty(i,d,{enumerable:!0,get:function(){return n[a]}})}:function(i,n,a,d){d===void 0&&(d=a),i[d]=n[a]}),t=v&&v.__exportStar||function(i,n){for(var a in i)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&r(n,i,a)};Object.defineProperty(e,"__esModule",{value:!0});var o=ot;t(pt,e),t(ot,e),e.default=o.createClientApp})(it);(function(e){var r=v&&v.__createBinding||(Object.create?function(i,n,a,d){d===void 0&&(d=a),Object.defineProperty(i,d,{enumerable:!0,get:function(){return n[a]}})}:function(i,n,a,d){d===void 0&&(d=a),i[d]=n[a]}),t=v&&v.__exportStar||function(i,n){for(var a in i)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&r(n,i,a)};Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=it;Object.defineProperty(e,"default",{enumerable:!0,get:function(){return o.createApp}}),t(Ye,e),t(it,e)})(Ut);Bt.exports=Ut;var tr=Bt.exports;const nr=En(tr);var on={},an={},Se={},un={},ut={},Xe={},vt={},se={},Ie={};Object.defineProperty(Ie,"__esModule",{value:!0});Ie.generateUuid=void 0;function Ae(e){return Array.from(e).map(function(r){return("00"+r.toString(16)).slice(-2)}).join("")}function Pe(e){if(typeof Uint8Array=="function"&&typeof window=="object"&&window.crypto){var r=new Uint8Array(e),t=window.crypto.getRandomValues(r);if(t)return t}return Array.from(new Array(e),function(){return Math.random()*255|0})}function cn(){var e=64,r=Pe(1),t=Pe(2);return r[0]&=191,t[0]&=15|e,[Ae(Pe(4)),"-",Ae(Pe(2)),"-",Ae(t),"-",Ae(r),Ae(Pe(1)),"-",Ae(Pe(6))].join("")}Ie.generateUuid=cn;Ie.default=cn;var rr=v&&v.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,i){o.__proto__=i}||function(o,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])},e(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(r,t);function o(){this.constructor=r}r.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),ze=v&&v.__assign||function(){return ze=Object.assign||function(e){for(var r,t=1,o=arguments.length;t<o;t++){r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},ze.apply(this,arguments)},ir=v&&v.__spreadArray||function(e,r){for(var t=0,o=r.length,i=e.length;t<o;t++,i++)e[i]=r[t];return e},or=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(se,"__esModule",{value:!0});se.unsubscribeActions=se.ActionSetWithChildren=se.ActionSet=void 0;var ar=Oe,ct=pe,Ue=we,ur=ue,cr=or(Ie),nt=ae,sn=function(){function e(r,t,o,i){var n=this;this.app=r,this.type=t,this.group=o,this.subgroups=[],this.subscriptions=[],r||Ue.throwError(Ue.Action.INVALID_ACTION,"Missing required `app`"),this.id=i||cr.default(),this.defaultGroup=o;var a=this.set;this.set=function(){for(var d,l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];return n.app.hooks?(d=n.app.hooks).run.apply(d,ir([ar.LifecycleHook.UpdateAction,a,n],l)):a.apply(n,l)}}return e.prototype.set=function(){},Object.defineProperty(e.prototype,"component",{get:function(){return{id:this.id,subgroups:this.subgroups,type:this.type}},enumerable:!1,configurable:!0}),e.prototype.updateSubscription=function(r,t,o){var i=r.eventType,n=r.callback,a=r.component,d;return d=this.subscriptions.findIndex(function(l){return l===r}),d>=0?this.subscriptions[d].unsubscribe():d=void 0,this.group=t,this.subgroups=o,Object.assign(a,{subgroups:this.subgroups}),this.subscribe(i,n,a,d)},e.prototype.error=function(r){var t=this,o=[];return nt.forEachInEnum(Ue.Action,function(i){o.push(t.subscriptions.length),t.subscribe(i,r)}),function(){var i=o.map(function(n){return t.subscriptions[n]});i.forEach(function(n){ct.removeFromCollection(t.subscriptions,n,function(a){a.unsubscribe()})})}},e.prototype.subscribe=function(r,t,o,i){var n=this,a=o||this.component,d=r.toUpperCase(),l=typeof i=="number"?t:t.bind(this),u;Ue.isErrorEventName(r)?u=nt.getEventNameSpace(ur.Group.Error,r,ze(ze({},a),{type:""})):u=nt.getEventNameSpace(this.group,r,a);var c=this.app.subscribe(u,l,o?o.id:this.id),s={eventType:d,unsubscribe:c,callback:l,component:a,updateSubscribe:function(g,h){return n.updateSubscription(s,g,h)}};return typeof i=="number"&&i>=0&&i<this.subscriptions.length?this.subscriptions[i]=s:this.subscriptions.push(s),c},e.prototype.unsubscribe=function(r){return r===void 0&&(r=!1),yt(this.subscriptions,this.defaultGroup,r),this},e}();se.ActionSet=sn;var sr=function(e){rr(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.children=[],t}return r.prototype.unsubscribe=function(t,o){return t===void 0&&(t=!0),o===void 0&&(o=!1),yt(this.subscriptions,this.defaultGroup,o),this.children.forEach(function(i){i instanceof r?i.unsubscribe(t,!t):i.unsubscribe(!t)}),this},r.prototype.getChild=function(t){var o=this.children.findIndex(function(i){return i.id===t});return o>=0?this.children[o]:void 0},r.prototype.getChildIndex=function(t){return this.children.findIndex(function(o){return o.id===t})},r.prototype.getChildSubscriptions=function(t,o){return this.subscriptions.filter(function(i){return i.component.id===t&&(!o||o===i.eventType)})},r.prototype.addChild=function(t,o,i){var n=this,a=t.subscriptions,d=this.getChild(t.id);return d||this.children.push(t),!a||o===t.group&&i===t.subgroups?this:(a.forEach(function(l){var u=l.updateSubscribe;u(o,i)}),Object.assign(t,{group:o,subgroups:i}),t instanceof r&&t.children.forEach(function(l){return n.addChild(l,o,i)}),this)},r.prototype.removeChild=function(t){var o=this;return ct.removeFromCollection(this.children,this.getChild(t),function(){var i=o.subscriptions.filter(function(n){return n.component.id===t});i.forEach(function(n){ct.removeFromCollection(o.subscriptions,n,function(a){a.unsubscribe()})})}),this},r.prototype.subscribeToChild=function(t,o,i){var n=this,a=i.bind(this);if(o instanceof Array)return o.forEach(function(c){return n.subscribeToChild(t,c,i)}),this;if(typeof o!="string")return this;var d=o.toUpperCase(),l=this.getChildSubscriptions(t.id,d);if(l.length>0)l.forEach(function(c){return c.updateSubscribe(n.group,t.subgroups)});else{var u={id:t.id,subgroups:t.subgroups,type:t.type};this.subscribe(d,a,u)}return this},r.prototype.getUpdatedChildActions=function(t,o){if(t.length===0){for(;o.length>0;){var i=o.pop();if(!i)break;this.removeChild(i.id)}return}for(var n=t.filter(function(l,u,c){return u===c.indexOf(l)}),a=n.map(function(l){return l.id}),d=o.filter(function(l){return a.indexOf(l.id)<0});d.length>0;){var i=d.pop();if(!i)break;this.removeChild(i.id)}return n},r}(sn);se.ActionSetWithChildren=sr;function yt(e,r,t){t===void 0&&(t=!1),e.forEach(function(o){if(t){var i=o.updateSubscribe;i(r,[])}else{var n=o.unsubscribe;n()}}),t||(e.length=0)}se.unsubscribeActions=yt;(function(e){var r=v&&v.__extends||function(){var c=function(s,g){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,f){h.__proto__=f}||function(h,f){for(var p in f)Object.prototype.hasOwnProperty.call(f,p)&&(h[p]=f[p])},c(s,g)};return function(s,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");c(s,g);function h(){this.constructor=s}s.prototype=g===null?Object.create(g):(h.prototype=g.prototype,new h)}}(),t=v&&v.__assign||function(){return t=Object.assign||function(c){for(var s,g=1,h=arguments.length;g<h;g++){s=arguments[g];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(c[f]=s[f])}return c},t.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.Button=e.update=e.clickButton=e.Style=e.Icon=e.Action=void 0;var o=ae,i=se,n=ue,a;(function(c){c.CLICK="CLICK",c.UPDATE="UPDATE"})(a=e.Action||(e.Action={})),function(c){c.Print="print"}(e.Icon||(e.Icon={})),function(c){c.Danger="danger"}(e.Style||(e.Style={}));function d(c,s,g){var h=s.id,f=o.getEventNameSpace(c,a.CLICK,s),p={id:h,payload:g};return o.actionWrapper({type:f,group:c,payload:p})}e.clickButton=d;function l(c,s,g){var h=s.id,f=g.label,p=o.getEventNameSpace(c,a.UPDATE,s),m=t(t({},g),{id:h,label:f});return o.actionWrapper({type:p,group:c,payload:m})}e.update=l;var u=function(c){r(s,c);function s(g,h){var f=c.call(this,g,n.ComponentType.Button,n.Group.Button)||this;return f.disabled=!1,f.loading=!1,f.plain=!1,f.set(h,!1),f}return Object.defineProperty(s.prototype,"options",{get:function(){return{disabled:this.disabled,icon:this.icon,label:this.label,style:this.style,loading:this.loading,plain:this.plain}},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"payload",{get:function(){return t(t({},this.options),{id:this.id})},enumerable:!1,configurable:!0}),s.prototype.set=function(g,h){h===void 0&&(h=!0);var f=o.getMergedProps(this.options,g),p=f.label,m=f.disabled,C=f.icon,I=f.style,F=f.loading,D=f.plain;return this.label=p,this.disabled=!!m,this.icon=C,this.style=I,this.loading=!!F,this.plain=!!D,h&&this.dispatch(a.UPDATE),this},s.prototype.dispatch=function(g,h){switch(g){case a.CLICK:this.app.dispatch(d(this.group,this.component,h));break;case a.UPDATE:{var f=l(this.group,this.component,this.payload);this.app.dispatch(f);break}}return this},s}(i.ActionSet);e.Button=u})(vt);Object.defineProperty(Xe,"__esModule",{value:!0});Xe.getSingleButton=void 0;var dr=vt;function lr(e,r,t,o){return e.addChild(r,e.group,t),e.subscribeToChild(r,dr.Action.UPDATE,o),r.payload}Xe.getSingleButton=lr;(function(e){var r=v&&v.__extends||function(){var O=function(w,M){return O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,A){b.__proto__=A}||function(b,A){for(var T in A)Object.prototype.hasOwnProperty.call(A,T)&&(b[T]=A[T])},O(w,M)};return function(w,M){if(typeof M!="function"&&M!==null)throw new TypeError("Class extends value "+String(M)+" is not a constructor or null");O(w,M);function b(){this.constructor=w}w.prototype=M===null?Object.create(M):(b.prototype=M.prototype,new b)}}(),t=v&&v.__assign||function(){return t=Object.assign||function(O){for(var w,M=1,b=arguments.length;M<b;M++){w=arguments[M];for(var A in w)Object.prototype.hasOwnProperty.call(w,A)&&(O[A]=w[A])}return O},t.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.ModalIframe=e.ModalMessage=e.Modal=e.isMessageModal=e.isIframeModal=e.data=e.update=e.clickFooterButton=e.updateModalSize=e.closeModal=e.openModal=e.Size=e.Action=void 0;var o=Xe,i=ae,n=se,a=ue,d=vt,l;(function(O){O.OPEN="APP::MODAL::OPEN",O.CLOSE="APP::MODAL::CLOSE",O.UPDATE="APP::MODAL::UPDATE",O.UPDATE_CONTENT="APP::MODAL::CONTENT::UPDATE",O.FOOTER_BUTTON_CLICK="APP::MODAL::FOOTER::BUTTON::CLICK",O.FOOTER_BUTTON_UPDATE="APP::MODAL::FOOTER::BUTTON::UPDATE",O.UPDATE_SIZE="APP::MODAL::UPDATE_SIZE",O.DATA="APP::MODAL::DATA"})(l=e.Action||(e.Action={}));var u;(function(O){O.Small="small",O.Medium="medium",O.Large="large",O.Full="full",O.Auto="auto"})(u=e.Size||(e.Size={}));var c={group:a.Group.Modal,subgroups:["Footer"],type:a.ComponentType.Button};function s(O){return i.actionWrapper({group:a.Group.Modal,payload:O,type:l.OPEN})}e.openModal=s;function g(O){return i.actionWrapper({group:a.Group.Modal,payload:O,type:l.CLOSE})}e.closeModal=g;function h(O){return i.actionWrapper({group:a.Group.Modal,payload:O,type:l.UPDATE_SIZE})}e.updateModalSize=h;function f(O,w){var M=t({id:O},c);return d.clickButton(a.Group.Modal,M,w)}e.clickFooterButton=f;function p(O){return i.actionWrapper({payload:O,group:a.Group.Modal,type:l.UPDATE})}e.update=p;function m(O){return i.actionWrapper({payload:O,group:a.Group.Modal,type:l.DATA})}e.data=m;function C(O){return typeof O.url=="string"||typeof O.path=="string"}e.isIframeModal=C;function I(O){return typeof O.message=="string"}e.isMessageModal=I;var F=function(O){r(w,O);function w(){var M=O!==null&&O.apply(this,arguments)||this;return M.size=u.Small,M}return Object.defineProperty(w.prototype,"footer",{get:function(){if(!(!this.footerPrimary&&!this.footerSecondary))return{buttons:{primary:this.footerPrimary,secondary:this.footerSecondary}}},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"footerOptions",{get:function(){if(!(!this.footerPrimaryOptions&&!this.footerSecondaryOptions))return{buttons:{primary:this.footerPrimaryOptions,secondary:this.footerSecondaryOptions}}},enumerable:!1,configurable:!0}),w.prototype.close=function(){this.app.dispatch(g({id:this.id}))},w.prototype.setFooterPrimaryButton=function(M,b){var A=this,T=c.subgroups;this.footerPrimaryOptions=this.getChildButton(M,this.footerPrimaryOptions),this.footerPrimary=this.footerPrimaryOptions?o.getSingleButton(this,this.footerPrimaryOptions,T,function(R){A.updatePrimaryFooterButton(R,b)}):void 0},w.prototype.setFooterSecondaryButtons=function(M,b){var A=this,T=c.subgroups,R=M||[],N=this.footerOptions&&this.footerOptions.buttons.secondary||[];this.footerSecondaryOptions=this.getUpdatedChildActions(R,N),this.footerSecondary=this.footerSecondaryOptions?this.footerSecondaryOptions.map(function(q){return o.getSingleButton(A,q,T,function(W){A.updateSecondaryFooterButton(W,b)})}):void 0},w.prototype.getChildButton=function(M,b){var A=M?[M]:[],T=b?[b]:[],R=this.getUpdatedChildActions(A,T);return R?R[0]:void 0},w.prototype.updatePrimaryFooterButton=function(M,b){!this.footer||!this.footer.buttons.primary||i.updateActionFromPayload(this.footer.buttons.primary,M)&&b()},w.prototype.updateSecondaryFooterButton=function(M,b){if(!(!this.footer||!this.footer.buttons||!this.footer.buttons.secondary)){for(var A,T=0,R=this.footer.buttons.secondary;T<R.length;T++){var N=R[T];if(A=i.updateActionFromPayload(N,M),A)break}A&&b()}},w}(n.ActionSetWithChildren);e.Modal=F;var D=function(O){r(w,O);function w(M,b){var A=O.call(this,M,a.Group.Modal,a.Group.Modal)||this;return A.set(b,!1),A}return Object.defineProperty(w.prototype,"payload",{get:function(){return t(t({},this.options),{footer:this.footer,id:this.id})},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"options",{get:function(){return{footer:this.footerOptions,message:this.message,size:this.size,title:this.title}},enumerable:!1,configurable:!0}),w.prototype.set=function(M,b){var A=this;b===void 0&&(b=!0);var T=i.getMergedProps(this.options,M),R=T.title,N=T.footer,q=T.message,W=T.size;return this.title=R,this.message=q,this.size=W,this.setFooterPrimaryButton(N?N.buttons.primary:void 0,function(){A.dispatch(l.UPDATE)}),this.setFooterSecondaryButtons(N?N.buttons.secondary:void 0,function(){A.dispatch(l.UPDATE)}),b&&this.dispatch(l.UPDATE),this},w.prototype.dispatch=function(M){switch(M){case l.OPEN:this.app.dispatch(s(this.payload));break;case l.CLOSE:this.close();break;case l.UPDATE:this.app.dispatch(p(this.payload));break}return this},w}(F);e.ModalMessage=D;var Y=function(O){r(w,O);function w(M,b){var A=O.call(this,M,a.Group.Modal,a.Group.Modal)||this;return A.set(b,!1),A}return Object.defineProperty(w.prototype,"payload",{get:function(){return t(t({},this.options),{footer:this.footer,id:this.id})},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"options",{get:function(){return{footer:this.footerOptions,path:this.path,size:this.size,title:this.title,url:this.url,loading:this.loading}},enumerable:!1,configurable:!0}),w.prototype.set=function(M,b){var A=this;b===void 0&&(b=!0);var T=i.getMergedProps(this.options,M),R=T.title,N=T.footer,q=T.path,W=T.url,ie=T.size,X=T.loading;return this.title=R,this.url=W,this.path=q,this.size=ie,this.loading=X,this.setFooterPrimaryButton(N?N.buttons.primary:void 0,function(){A.dispatch(l.UPDATE)}),this.setFooterSecondaryButtons(N?N.buttons.secondary:void 0,function(){A.dispatch(l.UPDATE)}),b&&this.dispatch(l.UPDATE),this},w.prototype.dispatch=function(M,b){switch(M){case l.OPEN:this.app.dispatch(s(this.payload));break;case l.CLOSE:this.close();break;case l.UPDATE:this.app.dispatch(p(this.payload));break;case l.DATA:this.app.dispatch(m(b||{}));break}return this},w}(F);e.ModalIframe=Y})(ut);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.Modal=e.isMessageModal=e.data=e.update=e.clickFooterButton=e.updateModalSize=e.closeModal=e.openModal=e.Size=e.Action=e.isIframeModal=e.ModalMessage=e.ModalIframe=void 0;var r=ut;Object.defineProperty(e,"ModalIframe",{enumerable:!0,get:function(){return r.ModalIframe}}),Object.defineProperty(e,"ModalMessage",{enumerable:!0,get:function(){return r.ModalMessage}}),Object.defineProperty(e,"isIframeModal",{enumerable:!0,get:function(){return r.isIframeModal}});var t=ut;Object.defineProperty(e,"Action",{enumerable:!0,get:function(){return t.Action}}),Object.defineProperty(e,"Size",{enumerable:!0,get:function(){return t.Size}}),Object.defineProperty(e,"openModal",{enumerable:!0,get:function(){return t.openModal}}),Object.defineProperty(e,"closeModal",{enumerable:!0,get:function(){return t.closeModal}}),Object.defineProperty(e,"updateModalSize",{enumerable:!0,get:function(){return t.updateModalSize}}),Object.defineProperty(e,"clickFooterButton",{enumerable:!0,get:function(){return t.clickFooterButton}}),Object.defineProperty(e,"update",{enumerable:!0,get:function(){return t.update}}),Object.defineProperty(e,"data",{enumerable:!0,get:function(){return t.data}}),Object.defineProperty(e,"isMessageModal",{enumerable:!0,get:function(){return t.isMessageModal}}),Object.defineProperty(e,"Modal",{enumerable:!0,get:function(){return t.Modal}});var o=function(i,n){return r.isIframeModal(n)?new r.ModalIframe(i,n):new r.ModalMessage(i,n)};e.create=o})(un);var x={};Object.defineProperty(x,"__esModule",{value:!0});x.isShopifyPing=x.isShopifyPOS=x.isShopifyMobile=x.isShopifyEmbedded=x.isMobile=void 0;var It=Ne;function fr(){return dn()||ln()||fn()}x.isMobile=fr;function pr(){return It.isClient&&window.top!==window.self||It.isUnframed}x.isShopifyEmbedded=pr;function dn(){return typeof navigator<"u"&&navigator.userAgent.indexOf("Shopify Mobile")>=0}x.isShopifyMobile=dn;function ln(){return typeof navigator<"u"&&navigator.userAgent.indexOf("Shopify POS")>=0}x.isShopifyPOS=ln;function fn(){return typeof navigator<"u"&&navigator.userAgent.indexOf("Shopify Ping")>=0}x.isShopifyPing=fn;var hr=v&&v.__awaiter||function(e,r,t,o){function i(n){return n instanceof t?n:new t(function(a){a(n)})}return new(t||(t=Promise))(function(n,a){function d(c){try{u(o.next(c))}catch(s){a(s)}}function l(c){try{u(o.throw(c))}catch(s){a(s)}}function u(c){c.done?n(c.value):i(c.value).then(d,l)}u((o=o.apply(e,r||[])).next())})},vr=v&&v.__generator||function(e,r){var t={label:0,sent:function(){if(n[0]&1)throw n[1];return n[1]},trys:[],ops:[]},o,i,n,a;return a={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function d(u){return function(c){return l([u,c])}}function l(u){if(o)throw new TypeError("Generator is already executing.");for(;t;)try{if(o=1,i&&(n=u[0]&2?i.return:u[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,u[1])).done)return n;switch(i=0,n&&(u=[u[0]&2,n.value]),u[0]){case 0:case 1:n=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,i=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(n=t.trys,!(n=n.length>0&&n[n.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!n||u[1]>n[0]&&u[1]<n[3])){t.label=u[1];break}if(u[0]===6&&t.label<n[1]){t.label=n[1],n=u;break}if(n&&t.label<n[2]){t.label=n[2],t.ops.push(u);break}n[2]&&t.ops.pop(),t.trys.pop();continue}u=r.call(e,t)}catch(c){u=[6,c],i=0}finally{o=n=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};Object.defineProperty(Se,"__esModule",{value:!0});Se.createMutationObserver=Se.setupModalAutoSizing=void 0;var yr=un,gr=Ye,br=x,st="app-bridge-utils-modal-auto-size",We=_r();function _r(){if(typeof document>"u")return null;var e=document.createElement("style");return e.type="text/css",e.innerHTML="."+st+" { overflow: hidden; height: auto; min-height: auto; }",e}function mr(e,r){if(!We)return function(){};var t=document.getElementsByTagName("head")[0],o=document.body.classList;t.appendChild(We),o.add(st);var i=pn(e,r);return function(){o.remove(st),t.contains(We)&&t.removeChild(We),i&&i.disconnect()}}function Ar(e){return hr(this,void 0,void 0,function(){function r(){o&&(o(),o=void 0)}function t(i){var n=i.context,a=i.modal.id;return br.isMobile()||n!==gr.Context.Modal?(r(),r):(o||(o=mr(e,a)),r)}var o;return vr(this,function(i){switch(i.label){case 0:return[4,e.getState().then(t)];case 1:return i.sent(),[2,r]}})})}Se.setupModalAutoSizing=Ar;function pn(e,r){if(typeof document>"u")return;var t=-1,o,i={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0},n=new MutationObserver(a);n.observe(document,i),d();function a(){o&&window.clearTimeout(o),o=window.setTimeout(d,16)}function d(){var l=document.body.scrollHeight;l!==t&&(t=l,e.dispatch(yr.updateModalSize({id:r,height:String(l)})))}return n}Se.createMutationObserver=pn;var hn={},Re={},vn={},yn={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.respond=e.request=e.Action=void 0;var r=ae,t=ue,o;(function(a){a.REQUEST="APP::SESSION_TOKEN::REQUEST",a.RESPOND="APP::SESSION_TOKEN::RESPOND"})(o=e.Action||(e.Action={}));function i(){return r.actionWrapper({group:t.Group.SessionToken,type:o.REQUEST})}e.request=i;function n(a){return r.actionWrapper({payload:a,group:t.Group.SessionToken,type:o.RESPOND})}e.respond=n})(yn);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.respond=e.request=e.Action=void 0;var r=yn;Object.defineProperty(e,"Action",{enumerable:!0,get:function(){return r.Action}}),Object.defineProperty(e,"request",{enumerable:!0,get:function(){return r.request}}),Object.defineProperty(e,"respond",{enumerable:!0,get:function(){return r.respond}})})(vn);var Pr=v&&v.__createBinding||(Object.create?function(e,r,t,o){o===void 0&&(o=t),Object.defineProperty(e,o,{enumerable:!0,get:function(){return r[t]}})}:function(e,r,t,o){o===void 0&&(o=t),e[o]=r[t]}),Or=v&&v.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),Er=v&&v.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var t in e)t!=="default"&&Object.prototype.hasOwnProperty.call(e,t)&&Pr(r,e,t);return Or(r,e),r},Sr=v&&v.__awaiter||function(e,r,t,o){function i(n){return n instanceof t?n:new t(function(a){a(n)})}return new(t||(t=Promise))(function(n,a){function d(c){try{u(o.next(c))}catch(s){a(s)}}function l(c){try{u(o.throw(c))}catch(s){a(s)}}function u(c){c.done?n(c.value):i(c.value).then(d,l)}u((o=o.apply(e,r||[])).next())})},Tr=v&&v.__generator||function(e,r){var t={label:0,sent:function(){if(n[0]&1)throw n[1];return n[1]},trys:[],ops:[]},o,i,n,a;return a={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function d(u){return function(c){return l([u,c])}}function l(u){if(o)throw new TypeError("Generator is already executing.");for(;t;)try{if(o=1,i&&(n=u[0]&2?i.return:u[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,u[1])).done)return n;switch(i=0,n&&(u=[u[0]&2,n.value]),u[0]){case 0:case 1:n=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,i=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(n=t.trys,!(n=n.length>0&&n[n.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!n||u[1]>n[0]&&u[1]<n[3])){t.label=u[1];break}if(u[0]===6&&t.label<n[1]){t.label=n[1],n=u;break}if(n&&t.label<n[2]){t.label=n[2],t.ops.push(u);break}n[2]&&t.ops.pop(),t.trys.pop();continue}u=r.call(e,t)}catch(c){u=[6,c],i=0}finally{o=n=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};Object.defineProperty(Re,"__esModule",{value:!0});Re.getSessionToken=void 0;var Mt=Er(vn),wt=Ce;function Ir(e){return Sr(this,void 0,void 0,function(){return Tr(this,function(r){return[2,new Promise(function(t,o){var i=e.subscribe(Mt.Action.RESPOND,function(n){var a=n.sessionToken;a?t(a):o(wt.fromAction("Failed to retrieve a session token",wt.Action.FAILED_AUTHENTICATION)),i()});e.dispatch(Mt.request())})]})})}Re.getSessionToken=Ir;var Ze={},He=v&&v.__assign||function(){return He=Object.assign||function(e){for(var r,t=1,o=arguments.length;t<o;t++){r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},He.apply(this,arguments)},Mr=v&&v.__awaiter||function(e,r,t,o){function i(n){return n instanceof t?n:new t(function(a){a(n)})}return new(t||(t=Promise))(function(n,a){function d(c){try{u(o.next(c))}catch(s){a(s)}}function l(c){try{u(o.throw(c))}catch(s){a(s)}}function u(c){c.done?n(c.value):i(c.value).then(d,l)}u((o=o.apply(e,r||[])).next())})},wr=v&&v.__generator||function(e,r){var t={label:0,sent:function(){if(n[0]&1)throw n[1];return n[1]},trys:[],ops:[]},o,i,n,a;return a={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function d(u){return function(c){return l([u,c])}}function l(u){if(o)throw new TypeError("Generator is already executing.");for(;t;)try{if(o=1,i&&(n=u[0]&2?i.return:u[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,u[1])).done)return n;switch(i=0,n&&(u=[u[0]&2,n.value]),u[0]){case 0:case 1:n=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,i=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(n=t.trys,!(n=n.length>0&&n[n.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!n||u[1]>n[0]&&u[1]<n[3])){t.label=u[1];break}if(u[0]===6&&t.label<n[1]){t.label=n[1],n=u;break}if(n&&t.label<n[2]){t.label=n[2],t.ops.push(u);break}n[2]&&t.ops.pop(),t.trys.pop();continue}u=r.call(e,t)}catch(c){u=[6,c],i=0}finally{o=n=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};Object.defineProperty(Ze,"__esModule",{value:!0});Ze.authenticatedFetch=void 0;var Cr=Re;function jr(e,r){var t=this;return r===void 0&&(r=fetch),function(o,i){return i===void 0&&(i={}),Mr(t,void 0,void 0,function(){var n,a,d;return wr(this,function(l){switch(l.label){case 0:return[4,Cr.getSessionToken(e)];case 1:return n=l.sent(),a=new Headers(i.headers),a.append("Authorization","Bearer "+n),a.append("X-Requested-With","XMLHttpRequest"),d={},a.forEach(function(u,c){d[c]=u}),[2,r(o,He(He({},i),{headers:d}))]}})})}}Ze.authenticatedFetch=jr;(function(e){var r=v&&v.__createBinding||(Object.create?function(o,i,n,a){a===void 0&&(a=n),Object.defineProperty(o,a,{enumerable:!0,get:function(){return i[n]}})}:function(o,i,n,a){a===void 0&&(a=n),o[a]=i[n]}),t=v&&v.__exportStar||function(o,i){for(var n in o)n!=="default"&&!Object.prototype.hasOwnProperty.call(i,n)&&r(i,o,n)};Object.defineProperty(e,"__esModule",{value:!0}),t(Re,e),t(Ze,e)})(hn);var gn={},Le={},bn={},dt={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.respond=e.Action=void 0;var r=ae,t=ue,o;(function(n){n.REQUEST="APP::AUTH_CODE::REQUEST",n.RESPOND="APP::AUTH_CODE::RESPOND"})(o=e.Action||(e.Action={}));function i(n){return r.actionWrapper({payload:n,group:t.Group.AuthCode,type:o.RESPOND})}e.respond=i})(dt);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.request=e.Action=e.respond=void 0;var r=dt;Object.defineProperty(e,"Action",{enumerable:!0,get:function(){return r.Action}});var t=Te,o=je,i=dt;Object.defineProperty(e,"respond",{enumerable:!0,get:function(){return i.respond}});function n(a){return t.actionWrapper({group:o.Group.AuthCode,type:r.Action.REQUEST,payload:{id:a}})}e.request=n})(bn);var _n={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.generateUuid=void 0;var r=Ie;Object.defineProperty(e,"generateUuid",{enumerable:!0,get:function(){return r.generateUuid}}),e.default=r.generateUuid})(_n);var Nr=v&&v.__createBinding||(Object.create?function(e,r,t,o){o===void 0&&(o=t),Object.defineProperty(e,o,{enumerable:!0,get:function(){return r[t]}})}:function(e,r,t,o){o===void 0&&(o=t),e[o]=r[t]}),Rr=v&&v.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),Lr=v&&v.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var t in e)t!=="default"&&Object.prototype.hasOwnProperty.call(e,t)&&Nr(r,e,t);return Rr(r,e),r},Dr=v&&v.__awaiter||function(e,r,t,o){function i(n){return n instanceof t?n:new t(function(a){a(n)})}return new(t||(t=Promise))(function(n,a){function d(c){try{u(o.next(c))}catch(s){a(s)}}function l(c){try{u(o.throw(c))}catch(s){a(s)}}function u(c){c.done?n(c.value):i(c.value).then(d,l)}u((o=o.apply(e,r||[])).next())})},Fr=v&&v.__generator||function(e,r){var t={label:0,sent:function(){if(n[0]&1)throw n[1];return n[1]},trys:[],ops:[]},o,i,n,a;return a={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function d(u){return function(c){return l([u,c])}}function l(u){if(o)throw new TypeError("Generator is already executing.");for(;t;)try{if(o=1,i&&(n=u[0]&2?i.return:u[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,u[1])).done)return n;switch(i=0,n&&(u=[u[0]&2,n.value]),u[0]){case 0:case 1:n=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,i=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(n=t.trys,!(n=n.length>0&&n[n.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!n||u[1]>n[0]&&u[1]<n[3])){t.label=u[1];break}if(u[0]===6&&t.label<n[1]){t.label=n[1],n=u;break}if(n&&t.label<n[2]){t.label=n[2],t.ops.push(u);break}n[2]&&t.ops.pop(),t.trys.pop();continue}u=r.call(e,t)}catch(c){u=[6,c],i=0}finally{o=n=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Br=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Le,"__esModule",{value:!0});Le.getAuthorizationCodePayload=void 0;var Ct=Lr(bn),jt=Ce,Ur=Br(_n);function Wr(e){return Dr(this,void 0,void 0,function(){return Fr(this,function(r){return[2,new Promise(function(t,o){var i=Ur.default(),n=e.subscribe(Ct.Action.RESPOND,function(a){switch(a==null?void 0:a.status){case"needsExchange":t(a);break;default:o(jt.fromAction("Failed to retrieve an authorization code",jt.Action.FAILED_AUTHENTICATION))}n()},i);e.dispatch(Ct.request(i))})]})})}Le.getAuthorizationCodePayload=Wr;var Je={},kr=v&&v.__awaiter||function(e,r,t,o){function i(n){return n instanceof t?n:new t(function(a){a(n)})}return new(t||(t=Promise))(function(n,a){function d(c){try{u(o.next(c))}catch(s){a(s)}}function l(c){try{u(o.throw(c))}catch(s){a(s)}}function u(c){c.done?n(c.value):i(c.value).then(d,l)}u((o=o.apply(e,r||[])).next())})},Vr=v&&v.__generator||function(e,r){var t={label:0,sent:function(){if(n[0]&1)throw n[1];return n[1]},trys:[],ops:[]},o,i,n,a;return a={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function d(u){return function(c){return l([u,c])}}function l(u){if(o)throw new TypeError("Generator is already executing.");for(;t;)try{if(o=1,i&&(n=u[0]&2?i.return:u[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,u[1])).done)return n;switch(i=0,n&&(u=[u[0]&2,n.value]),u[0]){case 0:case 1:n=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,i=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(n=t.trys,!(n=n.length>0&&n[n.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!n||u[1]>n[0]&&u[1]<n[3])){t.label=u[1];break}if(u[0]===6&&t.label<n[1]){t.label=n[1],n=u;break}if(n&&t.label<n[2]){t.label=n[2],t.ops.push(u);break}n[2]&&t.ops.pop(),t.trys.pop();continue}u=r.call(e,t)}catch(c){u=[6,c],i=0}finally{o=n=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};Object.defineProperty(Je,"__esModule",{value:!0});Je.userAuthorizedFetch=void 0;var Gr=Le,$r="auth/shopify/callback";function zr(e){var r=e.headers.get("X-Shopify-API-Request-Failure-Unauthorized");return r?r.toLowerCase()==="true":!1}function Hr(e){var r=this,t=e.app,o=e.callbackUri,i=o===void 0?$r:o,n=e.isAuthorizationCodeRequired,a=n===void 0?zr:n,d=e.fetchOperation;return function(l,u){return kr(r,void 0,void 0,function(){var c,s,g,h,f,p,m,C;return Vr(this,function(I){switch(I.label){case 0:return[4,d(l,u)];case 1:return c=I.sent(),a(c)?[4,Gr.getAuthorizationCodePayload(t)]:[2,c];case 2:return s=I.sent(),g=s.code,h=s.hmac,f=s.shop,p=s.timestamp,m=encodeURI("https://"+window.location.hostname+"/"+i+"?code="+g+"&hmac="+h+"&shop="+f+"&timestamp="+p),[4,d(m,{})];case 3:if(C=I.sent(),!C.ok)throw new Error("Failed to authorize request.");return[2,d(l,u)]}})})}}Je.userAuthorizedFetch=Hr;(function(e){var r=v&&v.__createBinding||(Object.create?function(o,i,n,a){a===void 0&&(a=n),Object.defineProperty(o,a,{enumerable:!0,get:function(){return i[n]}})}:function(o,i,n,a){a===void 0&&(a=n),o[a]=i[n]}),t=v&&v.__exportStar||function(o,i){for(var n in o)n!=="default"&&!Object.prototype.hasOwnProperty.call(i,n)&&r(i,o,n)};Object.defineProperty(e,"__esModule",{value:!0}),t(Le,e),t(Je,e)})(gn);(function(e){var r=v&&v.__createBinding||(Object.create?function(o,i,n,a){a===void 0&&(a=n),Object.defineProperty(o,a,{enumerable:!0,get:function(){return i[n]}})}:function(o,i,n,a){a===void 0&&(a=n),o[a]=i[n]}),t=v&&v.__exportStar||function(o,i){for(var n in o)n!=="default"&&!Object.prototype.hasOwnProperty.call(i,n)&&r(i,o,n)};Object.defineProperty(e,"__esModule",{value:!0}),t(Se,e),t(x,e),t(hn,e),t(gn,e)})(an);(function(e){var r=v&&v.__createBinding||(Object.create?function(o,i,n,a){a===void 0&&(a=n),Object.defineProperty(o,a,{enumerable:!0,get:function(){return i[n]}})}:function(o,i,n,a){a===void 0&&(a=n),o[a]=i[n]}),t=v&&v.__exportStar||function(o,i){for(var n in o)n!=="default"&&!Object.prototype.hasOwnProperty.call(i,n)&&r(i,o,n)};Object.defineProperty(e,"__esModule",{value:!0}),t(an,e)})(on);const Kr=window.__SHOPIFY_API_KEY||"2749a2f6d38ff5796ed256b5c9dc70a1",Yr=nr({apiKey:Kr,host:new URLSearchParams(location.search).get("host")}),qr=new URLSearchParams(location.search).get("shop");async function mn(e,r={}){const t=await on.getSessionToken(Yr),o=new Headers(r.headers||{});o.set("Authorization",`Bearer ${t}`);const i=e.includes("?")?"&":"?";return fetch(`${e}${i}shop=${encodeURIComponent(qr)}`,{...r,headers:o})}async function Xr(e,r={}){return(await mn(e,r)).json()}async function Zr(e,r,t={}){return mn(e,{method:"POST",headers:{"Content-Type":"application/json",...t.headers},body:JSON.stringify(r),...t})}const Jr=(e,r="")=>{try{return new URLSearchParams(window.location.search).get(e)||r}catch{return r}};function Qr(){const e=Jr("shop","");return{api:H.useMemo(()=>async(t,o={})=>{const i=new URL(t,window.location.origin);return!i.searchParams.has("shop")&&e&&i.searchParams.set("shop",e),o.method==="POST"||o.body?Zr(i.pathname+i.search,o.body||{},o):Xr(i.pathname+i.search,o)},[e]),shop:e}}const rt=["en","de","es","fr"],Nt={en:"",de:"",es:"",fr:""},Rt={en:"English",de:"Deutsch",es:"Espaol",fr:"Franais"};function xr({lang:e="en",setLang:r,t}){const[o,i]=H.useState(!1);H.useEffect(()=>{if(!rt.includes(e)){try{localStorage.setItem("app_lang","en")}catch{}typeof r=="function"&&r("en")}},[e,r]);const n=rt.includes(e)?e:"en",a=y.jsx(In,{onClick:()=>i(l=>!l),disclosure:!0,children:y.jsxs(Ke,{gap:"200",blockAlign:"center",children:[y.jsx("span",{"aria-hidden":!0,children:Nt[n]}),y.jsx(G,{as:"span",variant:"bodyMd",children:Rt[n]})]})}),d=H.useMemo(()=>rt.map(l=>({content:`${Nt[l]} ${Rt[l]}`,active:l===n,onAction:()=>{try{localStorage.setItem("app_lang",l)}catch{}typeof r=="function"&&r(l),i(!1)}})),[n,r]);return y.jsx(Sn,{active:o,activator:a,onClose:()=>i(!1),autofocusTarget:"first-node",children:y.jsx(Tn,{items:d})})}function ei({sectionTitle:e,lang:r,setLang:t,t:o}){return y.jsx(J,{padding:"400",borderBlockEndWidth:"025",borderColor:"border",background:"bg",children:y.jsxs(Ke,{align:"space-between",blockAlign:"center",children:[y.jsx(G,{as:"h1",variant:"headingLg",children:e}),y.jsx(xr,{lang:r,setLang:t,t:o})]})})}const Lt="en",lt={en:()=>oe(()=>import("./en-DY--Skhq-1758834241284.js"),[]),de:()=>oe(()=>import("./de-BYtsvH6H-1758834241284.js"),[]),es:()=>oe(()=>import("./es-Cshzw9pa-1758834241284.js"),[]),fr:()=>oe(()=>import("./fr-DGTXCiho-1758834241284.js"),[])},An=Object.keys(lt);function ti(){try{const e=localStorage.getItem("app_lang");return An.includes(e)?e:null}catch{return null}}function ni(e){try{localStorage.setItem("app_lang",e)}catch{}}function ri(){const[e,r]=H.useState(()=>ti()||Lt),[t,o]=H.useState({});H.useEffect(()=>{let n=!1;async function a(){const l=await(lt[e]||lt[Lt])();n||o(l.default||l)}return a(),ni(e),()=>{n=!0}},[e]);const i=H.useMemo(()=>(n,a="")=>{const d=n==null?void 0:n.split(".").reduce((l,u)=>l&&l[u]!==void 0?l[u]:void 0,t);return d!=null?String(d):a||n},[t]);return{lang:e,setLang:r,t:i,dict:t,langs:An}}const ii=he.lazy(()=>oe(()=>import("./BulkEdit-D6vvVmHg-1758834241284.js"),__vite__mapDeps([0,1,2,3,4]))),oi=he.lazy(()=>oe(()=>import("./Collections-D_ZqpxMB-1758834241284.js"),__vite__mapDeps([5,1,2,6,3,4]))),ai=he.lazy(()=>oe(()=>import("./Sitemap-CUAKj6iL-1758834241284.js"),__vite__mapDeps([7,1,2,6,4]))),ui=he.lazy(()=>oe(()=>import("./StoreMetadata-1sPVnmhE-1758834241284.js"),__vite__mapDeps([8,1,2,6,4]))),ci=he.lazy(()=>oe(()=>import("./SchemaData-Blnw-oXx-1758834241284.js"),__vite__mapDeps([9,1,2,6,4]))),si=he.lazy(()=>oe(()=>import("./Settings-CGb3J9jn-1758834241284.js"),__vite__mapDeps([10,1,2,6,4]))),di={Polaris:{ResourceList:{sortingLabel:"Sort by"}}},gt=(e,r="")=>{try{return new URLSearchParams(window.location.search).get(e)||r}catch{return r}};function li(){const[e,r]=H.useState(window.location.pathname);return H.useEffect(()=>{const t=()=>r(window.location.pathname);return window.addEventListener("popstate",t),()=>window.removeEventListener("popstate",t)},[]),{path:e}}function fi({active:e,shop:r}){e==="/"||e.startsWith("/dashboard"),e.startsWith("/ai-seo"),e.startsWith("/billing"),e.startsWith("/settings");const o=new URLSearchParams(window.location.search).get("host"),i=new URLSearchParams;r&&i.set("shop",r),o&&i.set("host",o);const n=i.toString()?`?${i.toString()}`:"";return y.jsxs("ui-nav-menu",{children:[y.jsx("a",{href:`/${n}`,rel:"home",children:"Home"}),y.jsx("a",{href:`/dashboard${n}`,children:"Dashboard"}),y.jsx("a",{href:`/ai-seo${n}`,children:"Search Optimization for AI"}),y.jsx("a",{href:`/billing${n}`,children:"Billing"}),y.jsx("a",{href:`/settings${n}`,children:"Settings"})]})}const pi=he.memo(({shop:e})=>{var n;const[r,t]=H.useState(null),{api:o}=Qr(),i=e||gt("shop","");return H.useEffect(()=>{i&&o("/plans/me",{shop:i}).then(a=>{a&&!a.error&&t(a)}).catch(a=>console.error("Failed to load plan:",a))},[i,o]),H.useEffect(()=>{i&&o("/collections/check-definitions",{shop:i}).then(a=>{const d=(a.definitions||[]).map(c=>c.key),u=["en","bg","fr"].filter(c=>!d.includes(`seo__${c}`));if(u.length>0)return o("/collections/create-definitions",{method:"POST",shop:i,body:{shop:i,languages:u}})}).catch(a=>console.error("Definitions error:",a))},[i,o]),r?y.jsx(Me,{title:"Dashboard",children:y.jsxs(J,{padding:"400",children:[y.jsxs(Ke,{gap:"800",wrap:!1,children:[y.jsxs(J,{children:[y.jsx(G,{variant:"headingMd",as:"h3",children:"Current plan"}),y.jsx(G,{children:r.plan||"Free"})]}),y.jsxs(J,{children:[y.jsx(G,{variant:"headingMd",as:"h3",children:"Shop"}),y.jsx(G,{children:r.shop||""})]}),y.jsxs(J,{children:[y.jsx(G,{variant:"headingMd",as:"h3",children:"AI queries"}),y.jsxs(G,{children:[r.ai_queries_used||0," / ",r.ai_queries_limit||0]})]}),y.jsxs(J,{children:[y.jsx(G,{variant:"headingMd",as:"h3",children:"Product limit"}),y.jsx(G,{children:r.product_limit||0})]})]}),y.jsxs(J,{paddingBlockStart:"400",children:[y.jsx(G,{variant:"headingMd",as:"h3",children:"Allowed AI providers"}),y.jsx(G,{children:((n=r.providersAllowed)==null?void 0:n.join(", "))||"None"})]}),r.trial_ends_at&&y.jsxs(J,{paddingBlockStart:"400",children:[y.jsx(G,{variant:"headingMd",as:"h3",children:"Trial ends at"}),y.jsx(G,{children:new Date(r.trial_ends_at).toLocaleDateString()})]})]})}):y.jsx(Me,{children:y.jsx(J,{padding:"400",children:y.jsx(G,{children:"Loading plan info..."})})})}),hi=he.memo(()=>{const e=gt("shop",""),r=window.location.pathname,o=r==="/ai-seo"||r==="/ai-seo/products"?"products":r==="/ai-seo/collections"?"collections":r==="/ai-seo/sitemap"?"sitemap":r==="/ai-seo/store-metadata"?"store-metadata":r==="/ai-seo/schema-data"?"schema-data":"products",i=n=>{const a=new URLSearchParams(window.location.search),d=a.toString()?`?${a.toString()}`:"";return n==="products"?`/ai-seo${d}`:`/ai-seo/${n}${d}`};return y.jsxs("div",{children:[y.jsx(J,{paddingBlockEnd:"400",children:y.jsx(Me,{children:y.jsx(J,{padding:"200",children:y.jsxs(Ke,{gap:"100",children:[y.jsx("a",{href:i("products"),style:{padding:"8px 16px",borderRadius:"4px",backgroundColor:o==="products"?"#008060":"#f6f6f7",color:o==="products"?"white":"#202223",textDecoration:"none",display:"inline-block"},children:"Products"}),y.jsx("a",{href:i("collections"),style:{padding:"8px 16px",borderRadius:"4px",backgroundColor:o==="collections"?"#008060":"#f6f6f7",color:o==="collections"?"white":"#202223",textDecoration:"none",display:"inline-block"},children:"Collections"}),y.jsx("a",{href:i("sitemap"),style:{padding:"8px 16px",borderRadius:"4px",backgroundColor:o==="sitemap"?"#008060":"#f6f6f7",color:o==="sitemap"?"white":"#202223",textDecoration:"none",display:"inline-block"},children:"Sitemap"}),y.jsx("a",{href:i("store-metadata"),style:{padding:"8px 16px",borderRadius:"4px",backgroundColor:o==="store-metadata"?"#008060":"#f6f6f7",color:o==="store-metadata"?"white":"#202223",textDecoration:"none",display:"inline-block"},children:"Store metadata"}),y.jsx("a",{href:i("schema-data"),style:{padding:"8px 16px",borderRadius:"4px",backgroundColor:o==="schema-data"?"#008060":"#f6f6f7",color:o==="schema-data"?"white":"#202223",textDecoration:"none",display:"inline-block"},children:"Schema Data"})]})})})}),y.jsxs("div",{children:[o==="products"&&y.jsx(ii,{shop:e}),o==="collections"&&y.jsx(oi,{shop:e}),o==="sitemap"&&y.jsx(ai,{shop:e}),o==="store-metadata"&&y.jsx(ui,{shop:e}),o==="schema-data"&&y.jsx(ci,{shop:e})]})]})});function vi(){const{path:e}=li(),{lang:r,setLang:t,t:o}=ri(),i=!!new URLSearchParams(window.location.search).get("host"),n=gt("shop",""),a=H.useMemo(()=>e.startsWith("/ai-seo")?"Search Optimization for AI":e.startsWith("/billing")?"Billing":e.startsWith("/settings")?"Settings":"Dashboard",[e]),d=()=>e==="/"||e==="/dashboard"?y.jsx(pi,{shop:n}):e.startsWith("/ai-seo")?y.jsx(hi,{shop:n}):e==="/billing"?y.jsx(Me,{children:y.jsx(J,{padding:"400",children:y.jsx(G,{children:"Billing page"})})}):e==="/settings"?y.jsx(si,{shop:n}):y.jsx(Me,{children:y.jsxs(J,{padding:"400",children:[y.jsx(G,{variant:"headingMd",children:"Page not found"}),y.jsx(J,{paddingBlockStart:"200",children:y.jsxs(G,{children:['The page "',e,'" does not exist.']})})]})});return y.jsxs(Mn,{i18n:di,children:[i&&y.jsx(fi,{active:e,shop:n}),y.jsx(wn,{children:y.jsxs(Cn,{children:[y.jsx(ei,{sectionTitle:a,lang:r,setLang:t,t:o,shop:n}),d()]})})]})}const bt=new URLSearchParams(window.location.search),Ve=bt.get("host"),be=bt.get("shop"),Dt=bt.get("embedded")==="1";console.log("[MAIN] Public App - Host:",Ve,"Shop:",be);console.log("[MAIN] Full URL:",window.location.href);function yi(){const[e,r]=H.useState(!1),t=H.useMemo(()=>(console.log("[MAIN] Checking for API key..."),console.log("[MAIN] window.__SHOPIFY_API_KEY:",window.__SHOPIFY_API_KEY),console.log("[MAIN] import.meta.env.VITE_SHOPIFY_API_KEY:","2749a2f6d38ff5796ed256b5c9dc70a1"),window.__SHOPIFY_API_KEY?(console.log("[MAIN] Using injected API key:",window.__SHOPIFY_API_KEY),window.__SHOPIFY_API_KEY):(console.log("[MAIN] Using env API key:","2749a2f6d38ff5796ed256b5c9dc70a1"),"2749a2f6d38ff5796ed256b5c9dc70a1")),[]);return H.useEffect(()=>{setTimeout(()=>r(!0),100)},[]),!Dt||!Ve||!be?(console.log("[MAIN] Not embedded or missing params"),y.jsxs("div",{style:{padding:"20px",textAlign:"center"},children:[y.jsx("h1",{children:"Error: App must be loaded from Shopify Admin"}),y.jsxs("p",{children:["Shop: ",be||"Missing"]}),y.jsxs("p",{children:["Host: ",Ve||"Missing"]}),y.jsxs("p",{children:["Embedded: ",Dt?"Yes":"No"]}),y.jsx("a",{href:`https://admin.shopify.com/store/${be==null?void 0:be.replace(".myshopify.com","")}/apps`,children:"Go to Shopify Admin"})]})):t?(console.log("[MAIN] App config:",{apiKey:t?"SET":"MISSING",host:Ve?"SET":"MISSING",shop:be?"SET":"MISSING"}),e?y.jsx(vi,{}):y.jsx("div",{children:"Loading..."})):y.jsxs("div",{style:{padding:"20px",textAlign:"center"},children:[y.jsx("h1",{children:"Configuration Error"}),y.jsx("p",{children:"Shopify API key is not configured."}),y.jsx("p",{children:"Please contact support."})]})}Ft(document.getElementById("root")).render(y.jsx(yi,{}));export{Qr as u};
