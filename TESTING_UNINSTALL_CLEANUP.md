# üß™ Testing Complete Uninstall Cleanup

## üìã –¶–µ–ª –Ω–∞ —Ç–µ—Å—Ç–∞

–î–∞ —Å–µ —É–±–µ–¥–∏–º, —á–µ –ø—Ä–∏ –¥–µ–∏–Ω—Å—Ç–∞–ª–∏—Ä–∞–Ω–µ –Ω–∞ –∞–ø–ø-–∞ —Å–µ –∏–∑—Ç—Ä–∏–≤–∞—Ç **–≤—Å–∏—á–∫–∏ —Å–ª–µ–¥–∏**, –≤–∫–ª—é—á–∏—Ç–µ–ª–Ω–æ:
1. ‚úÖ Metafield definitions –æ—Ç Shopify
2. ‚úÖ Metafield values (–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å definitions)
3. ‚úÖ MongoDB –¥–∞–Ω–Ω–∏ (shops, products, collections, subscriptions, —Ç–æ–∫–µ–Ω–∏ –∏ —Ç.–Ω.)

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç

–°–∏—Å—Ç–µ–º–∞—Ç–∞ –µ **–±–µ–∑–æ–ø–∞—Å–Ω–∞** –∑–∞—â–æ—Ç–æ:
- GraphQL query —Ñ–∏–ª—Ç—Ä–∏—Ä–∞ –ø–æ namespace (`seo_ai`, `ai_seo_store`)
- –î–æ–ø—ä–ª–Ω–∏—Ç–µ–ª–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤ –∫–æ–¥–∞ –ø—Ä–µ–¥–∏ –∏–∑—Ç—Ä–∏–≤–∞–Ω–µ
- –°–∞–º–æ –ù–ê–®–ò–¢–ï namespaces —Å–µ –∏–∑—Ç—Ä–∏–≤–∞—Ç
- –ü–æ–¥—Ä–æ–±–Ω–∏ –ª–æ–≥–æ–≤–µ –∑–∞ –≤—Å—è–∫–æ –∏–∑—Ç—Ä–∏–≤–∞–Ω–µ

---

## üìù –°—Ç—ä–ø–∫–∏ –∑–∞ —Ç–µ—Å—Ç–≤–∞–Ω–µ

### **–°—Ç—ä–ø–∫–∞ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ - –ò–Ω—Å—Ç–∞–ª–∏—Ä–∞–π –∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–∞–π**

1. **–ò–Ω—Å—Ç–∞–ª–∏—Ä–∞–π –∞–ø–ø-–∞** –≤ test shop
2. **–°—ä–∑–¥–∞–π SEO –∑–∞ –ø—Ä–æ–¥—É–∫—Ç–∏:**
   - –û—Ç–≤–æ—Ä–∏ Products ‚Üí AI SEO
   - –°–µ–ª–µ–∫—Ç–∏—Ä–∞–π –Ω—è–∫–æ–ª–∫–æ –ø—Ä–æ–¥—É–∫—Ç–∞
   - –î–∞–π "Generate Optimization" –∑–∞ 1-2 –µ–∑–∏–∫–∞
   - –ü—Ä–æ–≤–µ—Ä–∏ —á–µ —Å–µ —Å—ä–∑–¥–∞–≤–∞—Ç metafields –≤ Shopify Admin

3. **–°—ä–∑–¥–∞–π SEO –∑–∞ –∫–æ–ª–µ–∫—Ü–∏–∏:**
   - –û—Ç–≤–æ—Ä–∏ Collections ‚Üí AI SEO
   - –°–µ–ª–µ–∫—Ç–∏—Ä–∞–π –∫–æ–ª–µ–∫—Ü–∏—è
   - –î–∞–π "Generate Optimization"

4. **–°—ä–∑–¥–∞–π Store Metadata:**
   - –û—Ç–≤–æ—Ä–∏ Settings ‚Üí Store Metadata
   - –ü–æ–ø—ä–ª–Ω–∏ –¥–∞–Ω–Ω–∏ –∏ "Apply Metadata"

5. **–ü—Ä–æ–≤–µ—Ä–∏ –º–µ—Ç–∞—Ñ–∏–π–ª–¥–æ–≤–µ—Ç–µ –≤ Shopify Admin:**
   - Products ‚Üí –∏–∑–±–µ—Ä–∏ –ø—Ä–æ–¥—É–∫—Ç ‚Üí Metafields —Å–µ–∫—Ü–∏—è—Ç–∞
   - Collections ‚Üí –∏–∑–±–µ—Ä–∏ –∫–æ–ª–µ–∫—Ü–∏—è ‚Üí Metafields —Å–µ–∫—Ü–∏—è—Ç–∞
   - Settings ‚Üí Custom Data ‚Üí Metafields ‚Üí Shop ‚Üí –≤–∏–∂ `ai_seo_store` namespace

---

### **–°—Ç—ä–ø–∫–∞ 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ü–†–ï–î–ò –¥–µ–∏–Ω—Å—Ç–∞–ª–∏—Ä–∞–Ω–µ**

1. **–û—Ç–≤–æ—Ä–∏ Shopify Admin ‚Üí Settings ‚Üí Custom Data**
2. **–í–∏–∂ "Metafield definitions"**
3. **–ü—Ä–æ–≤–µ—Ä–∏ —á–µ –∏–º–∞ –¥–µ—Ñ–∏–Ω–∏—Ü–∏–∏ —Å:**
   - Namespace: `seo_ai` (–∑–∞ –ø—Ä–æ–¥—É–∫—Ç–∏/–∫–æ–ª–µ–∫—Ü–∏–∏)
   - Namespace: `ai_seo_store` (–∑–∞ shop metadata)
4. **–ó–∞–ø–æ–º–Ω–∏ –∫–æ–ª–∫–æ —Å–∞** (–Ω–∞–ø—Ä–∏–º–µ—Ä: 5 –∑–∞ –ø—Ä–æ–¥—É–∫—Ç–∏, 3 –∑–∞ –∫–æ–ª–µ–∫—Ü–∏–∏, 4 –∑–∞ shop)

---

### **–°—Ç—ä–ø–∫–∞ 3: –î–µ–∏–Ω—Å—Ç–∞–ª–∏—Ä–∞–π –∞–ø–ø-–∞**

1. **Shopify Admin ‚Üí Apps**
2. **–ù–∞–º–µ—Ä–∏ "New AI SEO"**
3. **–ù–∞—Ç–∏—Å–Ω–∏ "Uninstall" (Delete/Remove)**
4. **–ü–æ—Ç–≤—ä—Ä–¥–∏ –¥–µ–∏–Ω—Å—Ç–∞–ª–∏—Ä–∞–Ω–µ—Ç–æ**

---

### **–°—Ç—ä–ø–∫–∞ 4: –ü—Ä–æ–≤–µ—Ä–∏ –ª–æ–≥–æ–≤–µ—Ç–µ –≤ Railway**

–°–ª–µ–¥ –¥–µ–∏–Ω—Å—Ç–∞–ª–∏—Ä–∞–Ω–µ, –ø—Ä–æ–≤–µ—Ä–∏ Railway –ª–æ–≥–æ–≤–µ—Ç–µ –∑–∞ —Å–ª–µ–¥–Ω–∏—Ç–µ —Å—ä–æ–±—â–µ–Ω–∏—è:

```
[Webhook] ===== UNINSTALL WEBHOOK CALLED =====
[Webhook] Step 1: Deleting metafield definitions from Shopify...
[CLEANUP] ===== DELETING METAFIELD DEFINITIONS FOR asapxt-teststore.myshopify.com =====
[CLEANUP] Fetching PRODUCT metafield definitions with namespace "seo_ai"...
[CLEANUP] Found X product definitions to delete
[CLEANUP] Deleting PRODUCT definition: seo_ai.seo__en (AI SEO - EN)
[CLEANUP] Deleting PRODUCT definition: seo_ai.seo__bg (AI SEO - BG)
...
[CLEANUP] Fetching COLLECTION metafield definitions with namespace "seo_ai"...
[CLEANUP] Found X collection definitions to delete
...
[CLEANUP] Fetching SHOP metafield definitions with namespace "ai_seo_store"...
[CLEANUP] Found X shop definitions to delete
[CLEANUP] Deleting SHOP definition: ai_seo_store.seo_metadata (SEO Metadata)
...
[CLEANUP] ===== CLEANUP SUMMARY =====
[CLEANUP] Products: X deleted, 0 errors
[CLEANUP] Collections: X deleted, 0 errors
[CLEANUP] Shop: X deleted, 0 errors
[CLEANUP] Total deleted: X
[Webhook] ‚úÖ Successfully deleted metafield definitions
[Webhook] Deleted shop asapxt-teststore.myshopify.com from database: SUCCESS
[Webhook] Deleted products for asapxt-teststore.myshopify.com
[Webhook] Deleted collections for asapxt-teststore.myshopify.com
[Webhook] Deleted Token Balance for asapxt-teststore.myshopify.com
[Webhook] ===== UNINSTALL CLEANUP COMPLETED =====
```

---

### **–°—Ç—ä–ø–∫–∞ 5: –ü—Ä–æ–≤–µ—Ä–∏ Shopify Admin - Metafield Definitions**

1. **Shopify Admin ‚Üí Settings ‚Üí Custom Data**
2. **–í–∏–∂ "Metafield definitions"**
3. **–ü—Ä–æ–≤–µ—Ä–∏ —á–µ:**
   - ‚úÖ **–ù–Ø–ú–ê** definitions —Å namespace `seo_ai`
   - ‚úÖ **–ù–Ø–ú–ê** definitions —Å namespace `ai_seo_store`
   - ‚úÖ **–ò–ú–ê** –¥—Ä—É–≥–∏ definitions –æ—Ç –¥—Ä—É–≥–∏ –∞–ø–ø-–æ–≤–µ (–∞–∫–æ –∏–º–∞ –¥—Ä—É–≥–∏ –∞–ø–ø-–æ–≤–µ)

---

### **–°—Ç—ä–ø–∫–∞ 6: –ü—Ä–æ–≤–µ—Ä–∏ Shopify Admin - Metafield Values**

1. **–û—Ç–≤–æ—Ä–∏ –ø—Ä–æ–¥—É–∫—Ç** (–∫–æ–π—Ç–æ –ø—Ä–µ–¥–∏ –∏–º–∞—à–µ SEO)
2. **–í–∏–∂ Metafields —Å–µ–∫—Ü–∏—è—Ç–∞**
3. **–ü—Ä–æ–≤–µ—Ä–∏ —á–µ:**
   - ‚úÖ **–ù–Ø–ú–ê** metafields —Å namespace `seo_ai`

4. **–û—Ç–≤–æ—Ä–∏ –∫–æ–ª–µ–∫—Ü–∏—è** (–∫–æ—è—Ç–æ –ø—Ä–µ–¥–∏ –∏–º–∞—à–µ SEO)
5. **–í–∏–∂ Metafields —Å–µ–∫—Ü–∏—è—Ç–∞**
6. **–ü—Ä–æ–≤–µ—Ä–∏ —á–µ:**
   - ‚úÖ **–ù–Ø–ú–ê** metafields —Å namespace `seo_ai`

7. **Settings ‚Üí Custom Data ‚Üí Metafields ‚Üí Shop**
8. **–ü—Ä–æ–≤–µ—Ä–∏ —á–µ:**
   - ‚úÖ **–ù–Ø–ú–ê** metafields —Å namespace `ai_seo_store`

---

### **–°—Ç—ä–ø–∫–∞ 7: –ü—Ä–æ–≤–µ—Ä–∏ MongoDB (–æ–ø—Ü–∏–æ–Ω–∞–ª–Ω–æ)**

–ê–∫–æ –∏–º–∞—à –¥–æ—Å—Ç—ä–ø –¥–æ MongoDB:

```javascript
// –ü—Ä–æ–≤–µ—Ä–∏ shops
db.shops.find({ shop: 'asapxt-teststore.myshopify.com' })
// –¢—Ä—è–±–≤–∞ –¥–∞ –≤—Ä—ä—â–∞: –Ω–∏—â–æ (deleted)

// –ü—Ä–æ–≤–µ—Ä–∏ products
db.products.find({ shop: 'asapxt-teststore.myshopify.com' })
// –¢—Ä—è–±–≤–∞ –¥–∞ –≤—Ä—ä—â–∞: –Ω–∏—â–æ (deleted)

// –ü—Ä–æ–≤–µ—Ä–∏ collections
db.collections.find({ shop: 'asapxt-teststore.myshopify.com' })
// –¢—Ä—è–±–≤–∞ –¥–∞ –≤—Ä—ä—â–∞: –Ω–∏—â–æ (deleted)

// –ü—Ä–æ–≤–µ—Ä–∏ tokenbalances
db.tokenbalances.find({ shop: 'asapxt-teststore.myshopify.com' })
// –¢—Ä—è–±–≤–∞ –¥–∞ –≤—Ä—ä—â–∞: –Ω–∏—â–æ (deleted)
```

---

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –∑–∞ —É—Å–ø–µ—à–µ–Ω —Ç–µ—Å—Ç

### **1. Shopify –µ —á–∏—Å—Ç:**
- ‚úÖ –ù—è–º–∞ metafield definitions —Å `seo_ai` –∏–ª–∏ `ai_seo_store`
- ‚úÖ –ù—è–º–∞ metafield values –≤ –ø—Ä–æ–¥—É–∫—Ç–∏/–∫–æ–ª–µ–∫—Ü–∏–∏/shop
- ‚úÖ –î—Ä—É–≥–∏ –∞–ø–ø-–æ–≤–µ –ù–ï —Å–∞ –∑–∞—Å–µ–≥–Ω–∞—Ç–∏

### **2. MongoDB –µ —á–∏—Å—Ç:**
- ‚úÖ –ù—è–º–∞ shop record
- ‚úÖ –ù—è–º–∞ products
- ‚úÖ –ù—è–º–∞ collections
- ‚úÖ –ù—è–º–∞ subscriptions
- ‚úÖ –ù—è–º–∞ tokenbalances

### **3. –õ–æ–≥–æ–≤–µ—Ç–µ –ø–æ–∫–∞–∑–≤–∞—Ç:**
- ‚úÖ –í—Å–∏—á–∫–∏ metafield definitions —Å–∞ –∏–∑—Ç—Ä–∏—Ç–∏
- ‚úÖ –í—Å–∏—á–∫–∏ MongoDB records —Å–∞ –∏–∑—Ç—Ä–∏—Ç–∏
- ‚úÖ –ù—è–º–∞ –≥—Ä–µ—à–∫–∏

---

## üö® –í—ä–∑–º–æ–∂–Ω–∏ –ø—Ä–æ–±–ª–µ–º–∏

### **–ü—Ä–æ–±–ª–µ–º 1: "No access token found"**
- **–ü—Ä–∏—á–∏–Ω–∞:** Webhook –∏–¥–≤–∞ –ø—Ä–µ–¥–∏ shop record –¥–∞ –µ –∏–∑—Ç—Ä–∏—Ç –æ—Ç MongoDB
- **–†–µ—à–µ–Ω–∏–µ:** –í–µ—á–µ –µ —Ä–µ—à–µ–Ω–æ - –∏–∑–≤–ª–∏—á–∞–º–µ —Ç–æ–∫–µ–Ω–∞ –ü–†–ï–î–ò –¥–∞ –∏–∑—Ç—Ä–∏–µ–º shop record

### **–ü—Ä–æ–±–ª–µ–º 2: "GraphQL request failed: 401"**
- **–ü—Ä–∏—á–∏–Ω–∞:** Access token –µ –Ω–µ–≤–∞–ª–∏–¥–µ–Ω –∏–ª–∏ –∏–∑—Ç–µ–∫—ä–ª
- **–†–µ—à–µ–Ω–∏–µ:** Shopify –∏–∑–ø—Ä–∞—â–∞ webhook –ü–†–ï–î–ò –¥–∞ revoke —Ç–æ–∫–µ–Ω–∞, —Ç–∞–∫–∞ —á–µ —Ç–æ–≤–∞ –Ω–µ —Ç—Ä—è–±–≤–∞ –¥–∞ —Å–µ —Å–ª—É—á–∏

### **–ü—Ä–æ–±–ª–µ–º 3: –ù—è–∫–æ–∏ definitions –Ω–µ —Å–µ –∏–∑—Ç—Ä–∏–≤–∞—Ç**
- **–ü—Ä–∏—á–∏–Ω–∞:** –ú–æ–∂–µ –¥–∞ –∏–º–∞ API rate limiting
- **–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤—è–º–µ –º–∞–ª–∫–æ delay –º–µ–∂–¥—É –∑–∞—è–≤–∫–∏—Ç–µ (–≤ —Å–ª–µ–¥–≤–∞—â–∞ –≤–µ—Ä—Å–∏—è –∞–∫–æ —Å–µ –Ω–∞–ª–∞–≥–∞)

---

## üìä –û—á–∞–∫–≤–∞–Ω–∏ —Ä–µ–∑—É–ª—Ç–∞—Ç–∏

### **–ü—Ä–∏–º–µ—Ä –∑–∞ –ª–æ–≥–æ–≤–µ:**

```
[CLEANUP] Products: 5 deleted, 0 errors
[CLEANUP] Collections: 3 deleted, 0 errors
[CLEANUP] Shop: 6 deleted, 0 errors
[CLEANUP] Total deleted: 14
```

### **MongoDB:**
–í—Å–∏—á–∫–∏ –∫–æ–ª–µ–∫—Ü–∏–∏ –∑–∞ shop-–∞ —Ç—Ä—è–±–≤–∞ –¥–∞ —Å–∞ –ø—Ä–∞–∑–Ω–∏:
- `shops`: 0 documents
- `products`: 0 documents
- `collections`: 0 documents
- `subscriptions`: 0 documents
- `tokenbalances`: 0 documents
- `aidiscoverysettings`: 0 documents
- `advancedschemas`: 0 documents
- `sitemaps`: 0 documents

---

## üéØ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ê–∫–æ –≤—Å–∏—á–∫–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º–∏–Ω–∞—Ç —É—Å–ø–µ—à–Ω–æ, —Ç–æ–≤–∞ –æ–∑–Ω–∞—á–∞–≤–∞ —á–µ:

1. ‚úÖ **–ú–∞–≥–∞–∑–∏–Ω—ä—Ç –Ω–µ –º–æ–∂–µ –¥–∞ –∑–ª–æ—É–ø–æ—Ç—Ä–µ–±–∏ trial –ø–µ—Ä–∏–æ–¥–∞** - –≤—Å–∏—á–∫–∏ SEO –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Å–∞ –∏–∑—Ç—Ä–∏—Ç–∏
2. ‚úÖ **–ù–µ –∑–∞—Å—è–≥–∞–º–µ –¥—Ä—É–≥–∏ –∞–ø–ø-–æ–≤–µ** - —Ñ–∏–ª—Ç—Ä–∏—Ä–∞–º–µ —Å–∞–º–æ –Ω–∞—à–∏ namespaces
3. ‚úÖ **–ß–∏—Å—Ç–∞ –±–∞–∑–∞ –¥–∞–Ω–Ω–∏** - –≤—Å–∏—á–∫–∏ MongoDB –∑–∞–ø–∏—Å–∏ —Å–∞ –∏–∑—Ç—Ä–∏—Ç–∏
4. ‚úÖ **GDPR compliance** - –≤—Å–∏—á–∫–∏ –¥–∞–Ω–Ω–∏ –Ω–∞ –º–∞–≥–∞–∑–∏–Ω–∞ —Å–∞ –ø—Ä–µ–º–∞—Ö–Ω–∞—Ç–∏

---

## üìù –ë–µ–ª–µ–∂–∫–∏

- **AI Welcome Page**: –ù—è–º–∞ –æ—Ç–¥–µ–ª–Ω–∏ metafields, —Å–∞–º–æ MongoDB –∑–∞–ø–∏—Å (–≤–µ—á–µ —Å–µ –∏–∑—Ç—Ä–∏–≤–∞)
- **Advanced Schema**: –°—ä—Ö—Ä–∞–Ω—è–≤–∞ —Å–µ –≤ MongoDB (–≤–µ—á–µ —Å–µ –∏–∑—Ç—Ä–∏–≤–∞)
- **robots.txt**: –ù–ï –º–æ–∂–µ –¥–∞ –±—ä–¥–µ –ø—Ä–æ–º–µ–Ω—è–Ω –±–µ–∑ `write_themes` scope - –æ—Å—Ç–∞–≤—è–º–µ –∑–∞ —Ä—ä—á–Ω–∞ –ø—Ä–æ–º—è–Ω–∞ –æ—Ç merchant

