# shopify.app.staging.toml
# Staging Environment Configuration

name = "indexAIze - Staging"
handle = "indexaize-staging"
# NOTE: Replace with staging app client_id after creating staging app in Shopify Partner Dashboard
client_id = "<staging_client_id>"
# NOTE: Replace with staging Railway URL after deployment
application_url = "https://indexaize-staging.up.railway.app"
embedded = true

[webhooks]
api_version = "2025-07"

# GDPR Compliance Webhooks
[[webhooks.subscriptions]]
compliance_topics = ["customers/data_request"]
uri = "/webhooks/customers/data_request"

[[webhooks.subscriptions]]
compliance_topics = ["customers/redact"]
uri = "/webhooks/customers/redact"

[[webhooks.subscriptions]]
compliance_topics = ["shop/redact"]
uri = "/webhooks/shop/redact"

[auth]
redirect_urls = [
  "https://indexaize-staging.up.railway.app/auth/callback",
  "https://indexaize-staging.up.railway.app/api/auth/callback",
  "https://indexaize-staging.up.railway.app/api/auth",
  "https://indexaize-staging.up.railway.app/"
]

[access_scopes]
scopes = "read_products,write_products,read_themes,write_themes,read_translations,write_translations,read_locales,read_metaobjects,write_metaobjects,read_content,write_content,write_script_tags,read_markets"

[app_proxy]
url = "https://indexaize-staging.up.railway.app/apps"
prefix = "apps"
subpath = "new-ai-seo"

[pos]
embedded = false

[build]
automatically_update_urls_on_dev = true

