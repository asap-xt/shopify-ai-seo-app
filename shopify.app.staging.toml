# shopify.app.staging.toml
# Staging Environment Configuration

name = "indexAIze - Staging"
handle = "indexaize-staging"
client_id = "cbb6c395806364fba75996525ffce483"
application_url = "https://indexaize-aiseo-app-staging.up.railway.app"
embedded = true

[webhooks]
api_version = "2025-07"

# GDPR Compliance Webhooks
[[webhooks.subscriptions]]
compliance_topics = ["customers/data_request"]
uri = "/webhooks/customers/data_request"

[[webhooks.subscriptions]]
compliance_topics = ["customers/redact"]
uri = "/webhooks/customers/redact"

[[webhooks.subscriptions]]
compliance_topics = ["shop/redact"]
uri = "/webhooks/shop/redact"

[auth]
redirect_urls = [
  "https://indexaize-aiseo-app-staging.up.railway.app/auth/callback",
  "https://indexaize-aiseo-app-staging.up.railway.app/api/auth/callback",
  "https://indexaize-aiseo-app-staging.up.railway.app/api/auth",
  "https://indexaize-aiseo-app-staging.up.railway.app/"
]

[access_scopes]
scopes = "read_products,write_products,read_themes,write_themes,read_translations,write_translations,read_locales,read_metaobjects,write_metaobjects,read_content,write_content,write_script_tags,read_markets"

# App Proxy Configuration for Sitemap
# Note: subpath can be overridden via APP_PROXY_SUBPATH environment variable
[app_proxy]
url = "https://indexaize-aiseo-app-staging.up.railway.app/apps"
prefix = "apps"
subpath = "indexaize"

[pos]
embedded = false

[build]
automatically_update_urls_on_dev = true

